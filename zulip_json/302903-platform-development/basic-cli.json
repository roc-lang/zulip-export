[
    {
        "content": "<p>I got <code>migrate-zig-compiler</code> built.  but I have a FAQ entry:  i now have <code>libhost.a</code> in the <code>basic-cli</code> directory.  how do I use that in my <code>roc-project</code> dir?</p>",
        "id": 569631044,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769140857
    },
    {
        "content": "<p>If you use <code>./build.sh</code> that will build the libraries in the platform/targets/ folder... so you should then be able to run an example, <code>roc examples/hello_world.roc</code></p>",
        "id": 569631860,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1769141646
    },
    {
        "content": "<p>You will note the examples use <code>../platform/main.roc</code> instead of a URL -- they are using a relative path to the platform package instead of a URL release</p>",
        "id": 569631909,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1769141686
    },
    {
        "content": "<p>yes, but should I copy <code>platform/targets</code> into my project dir?  As a general question, that I don't honestly know the answer to.  I'm sure that would work, but it feels clunky.  I've got my \"roc project\" on one hand, and the \"basic-cli\" platform on the other.  Or does the <code>basic-cli</code> repo then subsume my project? (i doubt it).  How do I connect the outputs of <code>basic-cli</code> to my roc project?</p>",
        "id": 569690831,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769166960
    },
    {
        "content": "<p>This is more a question for <a class=\"stream-topic\" data-stream-id=\"231634\" href=\"/#narrow/channel/231634-beginners/topic/Platform.20basics/with/569604836\">#beginners &gt; Platform basics</a> to be clear.  If someone asks, I'd like to know what to tell them.  I also suspect I am missing something obvious or am harboring a misconception.</p>",
        "id": 569693013,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769167665
    },
    {
        "content": "<p>In your roc file you reference the platform directory by relative path. </p>\n<p>If you are hacking on a platform it's probably easier to have the roc files consuming that platform in the same directory/repository but if you are just using the locally built platform for another project and the platform's <code>libhost.a</code> won't change I don't see a need for that.</p>",
        "id": 569698963,
        "sender_full_name": "lozzy",
        "timestamp": 1769169910
    },
    {
        "content": "<p>ok, thanks, this is helpful.  <code>app [main!] { pf: platform \"../basic-cli/platform/targets\" }</code>   something like that?</p>",
        "id": 569699507,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769170111
    },
    {
        "content": "<p>Should be <code>app [main!] { pf: platform \"../basic-cli/platform/main.roc\" }</code>, but yeah.</p>",
        "id": 569700449,
        "sender_full_name": "lozzy",
        "timestamp": 1769170443
    },
    {
        "content": "<p>ok, right!  i'm hooking it up to the Roc API portion of the platform.  thanks!</p>",
        "id": 569700679,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769170527
    },
    {
        "content": "<p>I'm thinking now in terms of <a href=\"https://github.com/rickhull/roc-init\"><code>roc-init</code></a> -- a project intended to help new devs get up and running on the new compiler.  right now we have a <code>main.roc</code> that targets <code>roc-platform-template-zig</code> release.  I am thinking about showing ~4~ workflows:</p>\n<ul>\n<li><code>roc-platform-template-zig</code></li>\n<li><code>roc-platform-template-rust</code></li>\n<li><code>roc-platform-template-c</code></li>\n<li><code>basic-cli</code> (build the migrate-zig-compiler branch)</li>\n</ul>\n<p>The first 3 would be trivial, just targeting platform release URLs.  The final one would show how to get <code>basic-cli</code> going in a different dir, and then wiring to that via relative path.   So I might have, instead of one <code>roc-init/main.roc</code>:</p>\n<ul>\n<li>zig_template.roc</li>\n<li>rust_template.roc</li>\n<li>c_template.roc</li>\n<li>basic-cli.roc</li>\n</ul>\n<p>Within <code>main!</code> of each, the 3 templates would have some identical \"hello world+\" (prompt for name, read STDIN, say hi).  But <code>basic-cli.roc</code> would have some nice example usage.</p>",
        "id": 569702220,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769171074
    },
    {
        "content": "<p>I suspect the current <code>roc-platform-template-c</code> is not up to this task (last commit 2y ago)</p>",
        "id": 569709224,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769173243
    },
    {
        "content": "<p>c is just zig-- heh</p>",
        "id": 569758370,
        "sender_full_name": "nandi",
        "timestamp": 1769186151
    }
]
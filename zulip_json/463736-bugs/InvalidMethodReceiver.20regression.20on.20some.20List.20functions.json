[
    {
        "content": "<p>PR <a href=\"https://github.com/roc-lang/roc/issues/8580\">#8580</a> introduced a regression which seems to be very similar to the return error in <a href=\"https://github.com/roc-lang/roc/issues/8589\">#8589</a>. This InvalidMethodReceiver error is triggered on both the <code>concat</code> function and the <code>append</code> function. Here is a minimal example, with both in the same main (though either one or the other is sufficient to trigger the crash).</p>\n<div class=\"codehilite\" data-code-language=\"Ruby\"><pre><span></span><code><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">main!</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"ss\">pf</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"./platform/main.roc\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"n\">main!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">_a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">[].</span><span class=\"n\">concat</span><span class=\"p\">(</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_empty</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">_b</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">].</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_empty</span><span class=\"p\">()</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Which when run, produces the following crash.</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>Roc<span class=\"w\"> </span>crashed:<span class=\"w\"> </span>Error<span class=\"w\"> </span>evaluating<span class=\"w\"> </span>from<span class=\"w\"> </span>shared<span class=\"w\"> </span>memory:<span class=\"w\"> </span>InvalidMethodReceiver\n</code></pre></div>",
        "id": 562561142,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765229197
    },
    {
        "content": "<p>I opened an issue for this regression: <a href=\"https://github.com/roc-lang/roc/issues/8593\">https://github.com/roc-lang/roc/issues/8593</a></p>",
        "id": 562561231,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765229238
    }
]
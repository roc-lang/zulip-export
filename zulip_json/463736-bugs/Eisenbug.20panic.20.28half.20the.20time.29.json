[
    {
        "content": "<p>So I’m not sure how to proceed. I’ve got a program that only panic half of the runs. It alternates between panic and fine. What should I do with this one ahah?</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>aoc-2025/roc<span class=\"w\"> </span>on<span class=\"w\"> </span><span class=\"w\"> </span>main<span class=\"w\"> </span><span class=\"o\">[</span>?⇡<span class=\"o\">]</span><span class=\"w\"> </span>on<span class=\"w\"> </span>☁\n❯<span class=\"w\"> </span>roc<span class=\"w\"> </span>panic.roc\n<span class=\"m\">11</span>-22\nthread<span class=\"w\"> </span><span class=\"m\">14852754</span><span class=\"w\"> </span>panic:<span class=\"w\"> </span>incorrect<span class=\"w\"> </span>alignment\n???:?:?:<span class=\"w\"> </span>0x104ab76a3<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x1049a3527<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x10494b0db<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x104921dbb<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x10491f6a7<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x10491f10b<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x104918913<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>panic.roc<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x18332ab97<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>???<span class=\"o\">)</span>\n???:?:?:<span class=\"w\"> </span>0x0<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>???<span class=\"w\"> </span><span class=\"o\">(</span>???<span class=\"o\">)</span>\nerror:<span class=\"w\"> </span>Child<span class=\"w\"> </span>process<span class=\"w\"> </span>/var/folders/q3/lls0f9bd6x112cdkq8bgjldr0000gn/T/roc-28950/panic.roc<span class=\"w\"> </span>killed<span class=\"w\"> </span>by<span class=\"w\"> </span>signal:<span class=\"w\"> </span><span class=\"m\">6</span>\nerror:<span class=\"w\"> </span>Child<span class=\"w\"> </span>process<span class=\"w\"> </span>aborted<span class=\"w\"> </span><span class=\"o\">(</span>SIGABRT<span class=\"o\">)</span>\n\naoc-2025/roc<span class=\"w\"> </span>on<span class=\"w\"> </span><span class=\"w\"> </span>main<span class=\"w\"> </span><span class=\"o\">[</span>?⇡<span class=\"o\">]</span><span class=\"w\"> </span>on<span class=\"w\"> </span>☁\n❯<span class=\"w\"> </span>roc<span class=\"w\"> </span>panic.roc\n<span class=\"m\">11</span>-22\nPart<span class=\"w\"> </span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"o\">(</span>demo<span class=\"o\">)</span>:<span class=\"w\"> </span><span class=\"m\">33</span>\n</code></pre></div>",
        "id": 562246201,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765032442
    },
    {
        "content": "<p>what's the source code? I can take a look</p>",
        "id": 562246213,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1765032462
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Ruby\"><pre><span></span><code><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">main!</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"ss\">pf</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.3/98T93wthPgoBRLYtPTT4RBBsQunrfDG94gihPf1zYYmE.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">Stdout</span>\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">Stderr</span>\n\n<span class=\"n\">demo_input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"11-22\"</span>\n\n\n<span class=\"nb\">print</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">Str</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{}</span>\n<span class=\"nb\">print</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">msg</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">split_on</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">for_each!</span><span class=\"p\">(</span><span class=\"no\">Stdout</span><span class=\"o\">.</span><span class=\"n\">line!</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">parse_range</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">Str</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"no\">Try</span><span class=\"p\">((</span><span class=\"no\">I64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"no\">I64</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span>\n<span class=\"n\">parse_range</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">range_str</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">match</span><span class=\"w\"> </span><span class=\"n\">range_str</span><span class=\"o\">.</span><span class=\"n\">split_on</span><span class=\"p\">(</span><span class=\"s2\">\"-\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Ok</span><span class=\"p\">((</span><span class=\"no\">I64</span><span class=\"o\">.</span><span class=\"n\">from_str</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span><span class=\"sc\">?,</span><span class=\"w\"> </span><span class=\"no\">I64</span><span class=\"o\">.</span><span class=\"n\">from_str</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span><span class=\"sc\">?)</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Err</span><span class=\"p\">(</span><span class=\"no\">InvalidRangeFormat</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">is_invalid</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">I64</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"no\">Bool</span>\n<span class=\"n\">is_invalid</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">x</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">to_str</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">to_utf8</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">len</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">mid</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"sr\">//</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n\n<span class=\"w\">    </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">sublist</span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"ss\">start</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">len</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">mid</span><span class=\"w\"> </span><span class=\"p\">})</span>\n<span class=\"w\">    </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">sublist</span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"ss\">start</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">mid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">len</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">mid</span><span class=\"w\"> </span><span class=\"p\">})</span>\n\n<span class=\"w\">    </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">right</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">part1!</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">Str</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Try</span><span class=\"p\">(</span><span class=\"no\">I64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span>\n<span class=\"n\">part1!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">input</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">var</span><span class=\"w\"> </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">range_str</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"o\">.</span><span class=\"n\">trim</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">split_on</span><span class=\"p\">(</span><span class=\"s2\">\",\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nb\">print</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"n\">range_str</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">parse_range</span><span class=\"p\">(</span><span class=\"n\">range_str</span><span class=\"p\">)?</span>\n\n<span class=\"w\">        </span><span class=\"n\">var</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span>\n<span class=\"w\">        </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">is_invalid</span><span class=\"p\">(</span><span class=\"vg\">$x</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"vg\">$x</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">(</span><span class=\"vg\">$sum</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">repeat</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">repeat_helper</span><span class=\"p\">(</span><span class=\"o\">[]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"p\">)</span>\n\n<span class=\"n\">repeat_helper</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">acc</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">match</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">acc</span>\n<span class=\"w\">    </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">repeat_helper</span><span class=\"p\">(</span><span class=\"n\">acc</span><span class=\"o\">.</span><span class=\"n\">concat</span><span class=\"p\">(</span><span class=\"n\">list</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">has_repeating_pattern</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">I64</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Bool</span>\n<span class=\"n\">has_repeating_pattern</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">x</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">to_str</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">to_utf8</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">len</span><span class=\"p\">()</span>\n\n<span class=\"w\">    </span><span class=\"c1\"># Check all divisors of n</span>\n<span class=\"w\">    </span><span class=\"n\">var</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">    </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"sr\">//</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"c1\"># Check if repeating the first d characters n/d times equals s</span>\n<span class=\"w\">            </span><span class=\"n\">slice</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">sublist</span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"ss\">start</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">len</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"p\">})</span>\n<span class=\"w\">            </span><span class=\"n\">repeated</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">slice</span><span class=\"o\">-&gt;</span><span class=\"n\">repeat</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"sr\">//</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">repeated</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"no\">True</span><span class=\"w\"> </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"vg\">$d</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"no\">False</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">part2!</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">Str</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Try</span><span class=\"p\">(</span><span class=\"no\">I64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span>\n<span class=\"n\">part2!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">input</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">var</span><span class=\"w\"> </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">range_str</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"o\">.</span><span class=\"n\">trim</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">split_on</span><span class=\"p\">(</span><span class=\"s2\">\",\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nb\">print</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"n\">range_str</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">parse_range</span><span class=\"p\">(</span><span class=\"n\">range_str</span><span class=\"p\">)?</span>\n\n<span class=\"w\">        </span><span class=\"n\">var</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span>\n<span class=\"w\">        </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">has_repeating_pattern</span><span class=\"p\">(</span><span class=\"vg\">$x</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"vg\">$sum</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"vg\">$x</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"vg\">$x</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">(</span><span class=\"vg\">$sum</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">run!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">#print!(\"Part 1 (demo): ${part1!(demo_input.trim())?.to_str()}\")</span>\n<span class=\"w\">    </span><span class=\"c1\">#print!(\"Part 1: ${part1!(day_input.trim())?.to_str()}\")</span>\n<span class=\"w\">    </span><span class=\"nb\">print</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s2\">\"Part 2 (demo): ${part2!(demo_input.trim())?.to_str()}\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"c1\">#print!(\"Part 2: ${part2!(day_input.trim())?.to_str()}\")</span>\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">main!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">match</span><span class=\"w\"> </span><span class=\"n\">run!</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"no\">Ok</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Ok</span><span class=\"p\">({})</span>\n<span class=\"w\">        </span><span class=\"no\">Err</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"no\">Err</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 562246242,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765032503
    },
    {
        "content": "<p>on it!</p>",
        "id": 562246410,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1765032694
    },
    {
        "content": "<p>I don’t know if it’s related at all. But I got another invalid method receiver error:</p>\n<div class=\"codehilite\" data-code-language=\"Ruby\"><pre><span></span><code><span class=\"n\">main!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"no\">List</span><span class=\"o\">.</span><span class=\"n\">len</span><span class=\"p\">(</span><span class=\"o\">[]</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">_str</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">.</span><span class=\"n\">to_str</span><span class=\"p\">()</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 562247223,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765033598
    },
    {
        "content": "<p>I managed to minimize it a little bit in case it helps, while still exhibiting this eisenbug behavior (I run it 4 times to make sure).</p>\n<div class=\"codehilite\" data-code-language=\"Ruby\"><pre><span></span><code><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">main!</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"ss\">pf</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.3/98T93wthPgoBRLYtPTT4RBBsQunrfDG94gihPf1zYYmE.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">Stdout</span>\n\n<span class=\"n\">repeat</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">repeat_helper</span><span class=\"p\">(</span><span class=\"o\">[]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"p\">)</span>\n\n<span class=\"n\">repeat_helper</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">acc</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">match</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">acc</span>\n<span class=\"w\">    </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">repeat_helper</span><span class=\"p\">(</span><span class=\"n\">acc</span><span class=\"o\">.</span><span class=\"n\">concat</span><span class=\"p\">(</span><span class=\"n\">list</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">main!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">s1</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">List</span><span class=\"p\">(</span><span class=\"no\">U8</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">s1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span>\n\n<span class=\"w\">    </span><span class=\"n\">repeated</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">List</span><span class=\"p\">(</span><span class=\"no\">U8</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">repeated</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s1</span><span class=\"o\">-&gt;</span><span class=\"n\">repeat</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">s2</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"no\">List</span><span class=\"p\">(</span><span class=\"no\">U8</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">s2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\"># no crash if s2 = [1, 1, 1]</span>\n<span class=\"w\">    </span><span class=\"n\">_ignore</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">repeated</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">s2</span>\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 562248852,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765035384
    },
    {
        "content": "<p>Oh, maybe important to mention <span class=\"user-mention\" data-user-id=\"281383\">@Richard Feldman</span> I’m having these panics AFTER the fix already done in <a href=\"https://github.com/roc-lang/roc/pull/8573\">https://github.com/roc-lang/roc/pull/8573</a> which I rebased on your main after your merges today.</p>",
        "id": 562249017,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765035578
    },
    {
        "content": "<p>So the fix for the declaration of the recursive function is already taken into account.</p>",
        "id": 562249098,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765035670
    },
    {
        "content": "<p>Have you figured out or found a clue on both these issues <span class=\"user-mention\" data-user-id=\"281383\">@Richard Feldman</span> ?</p>",
        "id": 562407810,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765182100
    },
    {
        "content": "<p>I made a PR with a fix for the InvalidMethodReceiver error raised by a bug in the return value of List.len <a href=\"https://github.com/roc-lang/roc/pull/8589\">https://github.com/roc-lang/roc/pull/8589</a></p>",
        "id": 562416509,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765184977
    },
    {
        "content": "<p>I haven’t found the reason for the non-deterministic alignment panic though :(</p>",
        "id": 562432182,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765189787
    },
    {
        "content": "<p>Here is a summary of what I tried with Claude to find this.</p>\n<p><a href=\"/user_uploads/22008/Ky_Y7TSDvRDfGDzUvkbgzXAE/ALIGNMENT_BUG_INVESTIGATION.md\">ALIGNMENT_BUG_INVESTIGATION.md</a></p>",
        "id": 562463000,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765199518
    },
    {
        "content": "<p>I'm getting closer in <a href=\"https://github.com/roc-lang/roc/pull/8580\">https://github.com/roc-lang/roc/pull/8580</a> - there are a bunch of new debug assertions in there around alignment assumptions etc. - but haven't quite found the culprit yet</p>",
        "id": 562481087,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1765204256
    },
    {
        "content": "<p>Yeah same XD. I’ll leave it to you cause I’m overtime on this one without finding the bug.</p>",
        "id": 562481254,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1765204292
    }
]
[
    {
        "content": "<p>I opened an issue here: <a href=\"https://github.com/roc-lang/roc/issues/8532\">https://github.com/roc-lang/roc/issues/8532</a></p>",
        "id": 561234703,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764611236
    },
    {
        "content": "<p>thanks! I'll look into these today</p>",
        "id": 561241551,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764612519
    },
    {
        "content": "<p>I might find the issue soon. Looking into it now.</p>",
        "id": 561241714,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764612558
    },
    {
        "content": "<p>The segfault is due to <code>dropPrefix</code> using <code>substringUnsafe</code> without incrementing the ref count it seems. Well the function only increment when the prefix doesn’t match. I’m not sure why.<br>\n<a href=\"https://github.com/roc-lang/roc/blob/968e8776e2f69438135b3155829a2d9a556dd201/src/builtins/str.zig#L809\">https://github.com/roc-lang/roc/blob/968e8776e2f69438135b3155829a2d9a556dd201/src/builtins/str.zig#L809</a></p>",
        "id": 561244825,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764613347
    },
    {
        "content": "<p>Do we have a fix for this yet? I think I can fix it also</p>",
        "id": 561268460,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1764621158
    },
    {
        "content": "<p>Yeah <span class=\"user-mention\" data-user-id=\"281383\">@Richard Feldman</span> has a fix in a branch that isn’t in a PR yet.</p>",
        "id": 561268542,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764621187
    },
    {
        "content": "<p><a href=\"https://github.com/roc-lang/roc/compare/main...fix-uaf\">https://github.com/roc-lang/roc/compare/main...fix-uaf</a></p>",
        "id": 561268744,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764621280
    },
    {
        "content": "<p>I think once it’s merged, and my modulus pr is accepted too (<a href=\"https://github.com/roc-lang/roc/pull/8528\">https://github.com/roc-lang/roc/pull/8528</a>), AoC day 1 is easily doable (I have some code ready to share ^^)</p>",
        "id": 561269045,
        "sender_full_name": "Matthieu Pizenberg",
        "timestamp": 1764621401
    },
    {
        "content": "<p>I'll look at your pr now</p>",
        "id": 561269248,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1764621489
    },
    {
        "content": "<p>I am looking at another PR and have to push some commits to fix it, I can add the fix for drop_prefix in there too</p>",
        "id": 561271999,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1764622610
    },
    {
        "content": "<p>Cherry picked and added into <a href=\"https://github.com/roc-lang/roc/pull/8520\">https://github.com/roc-lang/roc/pull/8520</a></p>",
        "id": 561272858,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1764622923
    },
    {
        "content": "<p>fix for the use-after-free: <a href=\"https://github.com/roc-lang/roc/pull/8535\">https://github.com/roc-lang/roc/pull/8535</a></p>",
        "id": 561277298,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764624207
    },
    {
        "content": "<p>I resolved some merge conflicts between these branches so no harm that commit being in both PRs</p>",
        "id": 561278375,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1764624508
    }
]
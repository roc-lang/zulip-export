[
    {
        "content": "<p>I was under the impression that tag unions could be merged together into a new union. At least thats how i imagined error handling to work.  I'm not that confident in the terminology of roc's concepts yet so here is a code example:</p>\n<div class=\"codehilite\" data-code-language=\"Ruby\"><pre><span></span><code><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">main!</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"ss\">pf</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.6/2BfGn4M9uWJNhDVeMghGeXNVDFijMfPsmmVeo6M4QjKX.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">pf</span><span class=\"o\">.</span><span class=\"n\">Stdout</span>\n\n<span class=\"c1\"># this works</span>\n<span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"no\">Try</span><span class=\"p\">(</span><span class=\"no\">U32</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"no\">Bar</span><span class=\"p\">(</span><span class=\"no\">U8</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"o\">..]</span><span class=\"p\">)</span>\n<span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"no\">Err</span><span class=\"p\">(</span><span class=\"no\">Bar</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\"># This is how definitions look like in Luke's `migrate-zig-compiler` branch for `basic-cli` but i can't get</span>\n<span class=\"c1\"># this to run</span>\n<span class=\"c1\"># bar : () -&gt; Try(U32, [Bar(U8)])</span>\n<span class=\"c1\"># bar = || {</span>\n<span class=\"c1\">#     Err(Bar(5))</span>\n<span class=\"c1\"># }</span>\n\n<span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"no\">Try</span><span class=\"p\">(</span><span class=\"no\">U32</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"no\">Foo</span><span class=\"p\">(</span><span class=\"no\">U8</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"o\">..]</span><span class=\"p\">)</span>\n<span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"p\">()?</span>\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">main!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"no\">Stdout</span><span class=\"o\">.</span><span class=\"n\">line!</span><span class=\"p\">(</span><span class=\"s2\">\"Hello, World!\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">res</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"no\">Stdout</span><span class=\"o\">.</span><span class=\"n\">line!</span><span class=\"p\">(</span><span class=\"s2\">\"${Str.inspect(res)}\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"no\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Am i missing something or is that a bug?</p>",
        "id": 567805016,
        "sender_full_name": "lozzy",
        "timestamp": 1768320687
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"1001498\">@lozzy</span>,<br>\nI think this is indeed a bug, can you make a github issue?</p>",
        "id": 567808051,
        "sender_full_name": "Anton",
        "timestamp": 1768321441
    },
    {
        "content": "<p>Done! <a href=\"https://github.com/roc-lang/roc/issues/9010\">https://github.com/roc-lang/roc/issues/9010</a></p>",
        "id": 567811040,
        "sender_full_name": "lozzy",
        "timestamp": 1768322183
    }
]
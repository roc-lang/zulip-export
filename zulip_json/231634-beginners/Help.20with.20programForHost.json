[
    {
        "content": "<p>I'm looking for some assitance with <a href=\"https://github.com/lukewilliamboswell/roc-gui\">this platform</a>. Basically I am trying to revive the gui example and update it so that it uses glue and works as a standalone platform. </p>\n<p>Brendan has provided a lot of assistance, but I'm still not quite there yet and I feel like I'm just spinning my wheels a bit and not making any progress. I'm asking here in the hope that someone is able to also assist me find the issue or get this platform working again.</p>\n<p>I've converted the platform to use a <code>Box Model</code> and then represented this with a <code>c_void</code> in the rust host. I have added a script to generate glue and it compiles and runs the init function in Roc without issue. However when I call update or render and pass the model back in I think it segfaults. </p>\n<p>I am pretty sure the issue is in <a href=\"https://github.com/lukewilliamboswell/roc-gui/blob/main/platform/src/roc.rs#L121\">my roc.rs</a> where I am hand-rolling the <code>programForHost</code> implementation, and I don't think I am representing the BoxedModel correctly. </p>\n<p>I have tried a few different things, but I don't know enough Roc or Rust to find where the issue is.</p>\n<div class=\"codehilite\"><pre><span></span><code>$ roc dev hello-gui.roc\nðŸ”¨ Rebuilding platform...\n[src/roc.rs:87] size = 0\n[src/roc.rs:88] init_size = 0\n[src/roc.rs:89] render_size = 0\n[src/roc.rs:90] update_size = 0\n[src/lib.rs:16] &amp;roc_main = ProgramForHost {\n    init: RocFunctionInit {\n        closure_data: [],\n    },\n    render: RocFunctionRender {\n        closure_data: [],\n    },\n    update: RocFunctionUpdate {\n        closure_data: [],\n    },\n}\n[hello-gui.roc:18] &quot;INIT CALLED&quot; = &quot;INIT CALLED&quot;\n</code></pre></div>",
        "id": 410603654,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1703998292
    }
]
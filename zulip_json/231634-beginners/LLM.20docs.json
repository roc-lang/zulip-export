[
    {
        "content": "<p>I like the LLM-friendly tutorial and stdlib docs, but I (claude) was able to condense the tutorial to .txt to 11KB from 87KB.  this is much more token efficient.  this involved removing some fluff from the tutorial.  i think we could have a .txt or .md representation of stdlib that is much condensed from the current version.  i am writing a script to do this and cache the result locally.  but should there be a simpler version on the website?</p>",
        "id": 568288472,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768502893
    },
    {
        "content": "<p>oh, it looks like there is already a compact form for stdlib.  i notice that my Claude Opus (with Z.AI model) struggled mightily to reach the doc, due to the redirect.  its webreader tool worked, but its attempts with curl and python failed until I did the troubleshooting</p>",
        "id": 568290319,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768503564
    },
    {
        "content": "<p>if the tutorial happens to be authored in .md (no idea on the CMS), then making this file available to the LLM should be better than the tag soup currently provided</p>",
        "id": 568292452,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768504204
    },
    {
        "content": "<p>Speaking of the tutorial, is it possible for an AI to write all the tutorial examples to a repo of simple programs to examine?  I've been through the tutorial, and it's excellent.  But after going through the tutorial, I think it would be helpful for me to work with a simple repo of tutorials that I could clone and modify.</p>",
        "id": 568314621,
        "sender_full_name": "Steve Howell",
        "timestamp": 1768512519
    },
    {
        "content": "<p>We have all the examples in <a href=\"https://roc-lang.org/examples/\">https://roc-lang.org/examples/</a> but they are a WIP migrating across to the new compiler, also we have an exercism track.</p>",
        "id": 568314992,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768512683
    },
    {
        "content": "<p>Before we can really migrate the examples we need to finish migrating the platforms like basic-cli. The platforms are fairly large and I've been slow rolling it and fixing all the compiler bugs I find along the way. Also there is some work to \"translate\" into the new syntax, now we have static dispatch etc we can write nicer API's.</p>",
        "id": 568315391,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768512854
    },
    {
        "content": "<p>Oh, that's perfect for me now!  Thanks for the link.</p>",
        "id": 568315422,
        "sender_full_name": "Steve Howell",
        "timestamp": 1768512870
    },
    {
        "content": "<p>If anyone is interested in assisting, every little bit helps... the WIP branch is over at <a href=\"https://github.com/roc-lang/basic-cli/tree/migrate-zig-compiler\">https://github.com/roc-lang/basic-cli/tree/migrate-zig-compiler</a></p>",
        "id": 568315517,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768512906
    },
    {
        "content": "<p>This is genius: <a href=\"https://roc-lang.org/examples/AllSyntax/README\">https://roc-lang.org/examples/AllSyntax/README</a></p>",
        "id": 568315648,
        "sender_full_name": "Steve Howell",
        "timestamp": 1768512967
    },
    {
        "content": "<p>It's at the point now where what is there is working nicely across all the supported targets, and we have CI in place. Now it's going through each module and thinking about the API.</p>",
        "id": 568315654,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768512969
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1009034\">Steve Howell</span> <a href=\"#narrow/channel/231634-beginners/topic/LLM.20docs/near/568315648\">said</a>:</p>\n<blockquote>\n<p>This is genius: <a href=\"https://roc-lang.org/examples/AllSyntax/README\">https://roc-lang.org/examples/AllSyntax/README</a></p>\n</blockquote>\n<p>Yeah it's great. Here is a version for the new compiler and syntax in case your interested <a href=\"https://github.com/lukewilliamboswell/roc-platform-template-zig/blob/main/examples/all_roc_syntax.roc\">https://github.com/lukewilliamboswell/roc-platform-template-zig/blob/main/examples/all_roc_syntax.roc</a></p>\n<p><span class=\"user-mention\" data-user-id=\"361169\">@Anton</span> has done a lot of work building that.</p>",
        "id": 568315802,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768513048
    },
    {
        "content": "<p>I made an <a href=\"https://github.com/codegod100/roc-syntax-mcp\">mcp</a> using that syntax file, but what i've been using recently is creating a roc syntax skill that uses that file</p>",
        "id": 568324533,
        "sender_full_name": "nandi",
        "timestamp": 1768517120
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"515757\">@Luke Boswell</span> I have been looking at basic-cli but it's too early for me to get involved.  i also skimmed your platform templates.  Once I get the C version of my platform working with the rust compiler, I may start over with a zig template on the new compiler</p>",
        "id": 568339069,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768525326
    },
    {
        "content": "<p>Have you seen the C template? <a href=\"https://github.com/lukewilliamboswell/roc-platform-template-c\">https://github.com/lukewilliamboswell/roc-platform-template-c</a></p>",
        "id": 568339163,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768525400
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"668714\">@nandi</span>  I have a condensed 11 KB roc-tutorial.txt, and a local copy of the stdlib LLM stuff, which I split into the compact file (23 kb) and the full file.  this is to be efficient with tokens.  but I haven't done anything with claude skills yet.  any advice?</p>",
        "id": 568339190,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768525418
    },
    {
        "content": "<p>That's using the old compiler still... I need to update that also</p>",
        "id": 568339204,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1768525424
    },
    {
        "content": "<p>Luke, no -- maybe i should start there.  i have been struggling!   looking at <a href=\"http://lib.rs\">lib.rs</a> has been helpful</p>",
        "id": 568339236,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768525443
    },
    {
        "content": "<p>i don't use claude i use <a href=\"https://factory.ai\">factory droid</a> I usually just say \"create a skill that uses this file to syntax check roc code\" and then when i am doing edits i mention somewhere in context to use the skill</p>",
        "id": 568339298,
        "sender_full_name": "nandi",
        "timestamp": 1768525509
    },
    {
        "content": "<p>interesting!  that's new for me.  I've been using claude / gemini / codex, but lately been using the claude frontend with <a href=\"http://Z.ai\">Z.ai</a> models and API calls (they implement the anthropic api).  I got a monthly subscription for $28 that lasts a year ($6 / month after year 1).  it has like 5x the usage limits of claude pro ($20 / month).  i found that its opus-model burned through context, but that might have been my fault, as my prompts made it try to ingest large docs</p>",
        "id": 568339633,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768525777
    },
    {
        "content": "<p>Im a fan of <a href=\"http://z.ai\">z.ai</a> too, glm4.7 is pretty good. using it with cerebras is crazy fast, kinda expensive tho, might get a subscription when they have availability</p>",
        "id": 568339751,
        "sender_full_name": "nandi",
        "timestamp": 1768525878
    },
    {
        "content": "<p>the subscription has worked well for me, but i'm not like a power user.  i'm just on the Lite plan.</p>",
        "id": 568339913,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768526057
    },
    {
        "content": "<p>Im talking about $50/month <a href=\"https://www.cerebras.ai/\">cerebras</a> subscription</p>",
        "id": 568339938,
        "sender_full_name": "nandi",
        "timestamp": 1768526086
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515757\">Luke Boswell</span> <a href=\"#narrow/channel/231634-beginners/topic/LLM.20docs/near/568315517\">said</a>:</p>\n<blockquote>\n<p>If anyone is interested in assisting, every little bit helps... the WIP branch is over at <a href=\"https://github.com/roc-lang/basic-cli/tree/migrate-zig-compiler\">https://github.com/roc-lang/basic-cli/tree/migrate-zig-compiler</a></p>\n</blockquote>\n<p>Personally I would not recommend that new people help with this branch, this requires deep familiarity with platforms. I will get back to this branch once I'm done with the benchmarks and <a href=\"https://github.com/roc-lang/roc/pull/8967\">https://github.com/roc-lang/roc/pull/8967</a></p>",
        "id": 568398468,
        "sender_full_name": "Anton",
        "timestamp": 1768558213
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"780900\">Rick Hull</span> <a href=\"#narrow/channel/231634-beginners/topic/LLM.20docs/near/568292452\">said</a>:</p>\n<blockquote>\n<p>if the tutorial happens to be authored in .md (no idea on the CMS), then making this file available to the LLM should be better than the tag soup currently provided</p>\n</blockquote>\n<p>We have it available here: <a href=\"https://roc-lang.org/llms.txt\">https://roc-lang.org/llms.txt</a><br>\nOnly in a relatively small part at the beginning does it use a lot of HTML tags.</p>",
        "id": 568398861,
        "sender_full_name": "Anton",
        "timestamp": 1768558371
    },
    {
        "content": "<p>I also made issue <a href=\"https://github.com/roc-lang/roc/issues/9039\">#9039</a> for additional improvements to the AI docs.</p>",
        "id": 568400769,
        "sender_full_name": "Anton",
        "timestamp": 1768559016
    },
    {
        "content": "<p>Thanks Anton, I added some comments to the GH issue and PR :)</p>",
        "id": 568450280,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768574504
    },
    {
        "content": "<p>I've had some struggles getting my LLMs to use the new compiler features and stop using old structures.  even after feeding <code>Builtins.roc</code> and <code>all_syntax_test.roc</code> with fresh context, they still try to match on Bool.true (rather than True).  so I got the LLM to write its own tutorial with some gotchas and additional explanation of confusing areas.</p>\n<p>UPDATE: see later comments for the most recent version</p>",
        "id": 568669463,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768748536
    },
    {
        "content": "<p>I created a condensed tutorial, going from 22KB over 1k lines to 8KB over 400 lines.</p>\n<p>UPDATE: see later comments for the most recent version</p>",
        "id": 568676729,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768753668
    },
    {
        "content": "<p>I generated the condensed tutorial in order to populate a SKILL.md for claude code.  The current version has a \"cursed line\" though:</p>\n<blockquote>\n<p>Functions with side effects are marked with <code>!</code> and use <code>=&gt;</code>:</p>\n</blockquote>\n<p>When the skill is loaded:</p>\n<blockquote>\n<p>Error: Bash command permission check failed for pattern \"!<code> and use </code>\": This command requires approval</p>\n</blockquote>\n<p>I suspect this is unique to claude code, and I changed the wording in my SKILL.md but not the gist above or its source.  just FYI</p>\n<p>UPDATE: this is a known issue with the overly aggressive bash-exploit parser in claude code.  a major pattern to avoid is: backtick-bang-backtick: <code>!</code>    presumably this will be fixed at some point</p>\n<blockquote>\n<p>Functions with side effects are marked with bang (!) and use <code>=&gt;</code>:</p>\n</blockquote>",
        "id": 568678250,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768755137
    },
    {
        "content": "<p>yeah we can just tweak the wording on that one since it's llm-specific anyway</p>",
        "id": 568681040,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768757533
    },
    {
        "content": "<p>to not use backticks</p>",
        "id": 568681045,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768757540
    },
    {
        "content": "<p>docs for human readers get the markdown converted to html anyway <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 568681086,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768757574
    },
    {
        "content": "<p>How do opaque types (or the new analogy) work in the new compiler?  My LLM can't find anything in Builtin.roc or all_syntax_test.roc</p>\n<p>What I am trying to do with opaque types is wrap List(U8) for a couple different specific needs: 32-byte sk, 32-byte pk, 64-byte sig</p>",
        "id": 568681433,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768757882
    },
    {
        "content": "<p>so we now have:</p>\n<ul>\n<li><code>Bool : [True, False]</code> - type alias, meaning you can find/replace all instances of <code>Bool</code> with <code>[True, False]</code> and nothing would change whatsoever</li>\n<li><code>Bool := [True, False]</code> - nominal type, meaning if you also define <code>Foo := [True, False]</code>, you can't use <code>Foo</code> and <code>Bool</code> interchangeably even though they hold the same information</li>\n<li><code>Bool :: [True, False]</code> - opaque type, meaning it's nominal and also you can only see or use its contents (so, the <code>[True, False]</code> union) in the same module where it's defined</li>\n</ul>",
        "id": 568681657,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768758109
    },
    {
        "content": "<p>LLM generated condensed tutorial for new compiler, with additional type info from Richard: <a href=\"https://gist.github.com/rickhull/db2cf4be0a31488e15080c8e8a2a7252\">https://gist.github.com/rickhull/db2cf4be0a31488e15080c8e8a2a7252</a></p>\n<p>This supersedes any of my gists above; I am going to remove those links.</p>",
        "id": 568683243,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768759553
    },
    {
        "content": "<p>Here is my current claude skill, focused on roc-nightly.  The intent is to keep it to minimal token usage.</p>\n<p>There are 4 referenced docs, with<code>ROC_TUTORIAL_CONDENSED.md</code> using the <code>@</code> syntax to attempt to force claude to read it at skill activation time.  <a href=\"https://gist.github.com/rickhull/793aa5755e8227fe7c62645bf08b45cb\">https://gist.github.com/rickhull/793aa5755e8227fe7c62645bf08b45cb</a></p>\n<p>UPDATE: gist updated and simplified as of 2pm eastern</p>",
        "id": 568685824,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768762234
    },
    {
        "content": "<p>Here is LLM generated documentation for type wrappers: <a href=\"https://gist.github.com/rickhull/1b524fd675e9a2a1b7bf551b70e7ec9a\">https://gist.github.com/rickhull/1b524fd675e9a2a1b7bf551b70e7ec9a</a>     </p>\n<p>This understanding was the result of a lot of exploratory testing by the LLM using its claude skill.  The current claude skill used a lot of churn and tokens to get to this point.</p>\n<p>Please let me know if you see anything wrong</p>",
        "id": 568687979,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768764654
    },
    {
        "content": "<p>sorry, this is so wrong it'll be easier for me to just write the relevant sections of the language reference. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 568689900,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768766267
    },
    {
        "content": "<p>I don't want to spend time trying to fix this...I have never seen the current generation of models generate usable documentation, and this unfortunately reinforces that for me.</p>",
        "id": 568689948,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1768766324
    },
    {
        "content": "<p>ok, good to know!   my intent here is not to crowdsource fixes or anything like that.  this is mostly a learning exercise for me, and I don't know of better sources.  are there better references that I should be using (e.g. per the current claude skill)</p>\n<ul>\n<li>Builtin.roc</li>\n<li>all_syntax_test.roc</li>\n</ul>",
        "id": 568691144,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768767359
    },
    {
        "content": "<p>ok, now I'm looking at <code>roc-lang/roc/langref</code>   <del>is this a good resource for the new compiler?</del>   Opus says: yes</p>",
        "id": 568696691,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768773216
    },
    {
        "content": "<p>I did a big LLM run (Z.ai's Opus) against <code>roc-lang/roc</code> ignoring <code>crates/</code> and focusing on <code>src/</code> and <code>langref/</code>.</p>\n<p>Here is a comprehensive LLM-generated roc-nightly tutorial:</p>\n<p><a href=\"https://gist.github.com/rickhull/ad9a8ca20adf332242524d3b1db01e68\">https://gist.github.com/rickhull/ad9a8ca20adf332242524d3b1db01e68</a></p>",
        "id": 568719478,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768797623
    },
    {
        "content": "<blockquote>\n<p>I've had some struggles getting my LLMs to use the new compiler features and stop using old structures.</p>\n</blockquote>\n<p>I usually tell Claude that it does not have the new Roc syntax in it's training data and it needs to pay close attention to the examples I gave it.</p>",
        "id": 568800007,
        "sender_full_name": "Anton",
        "timestamp": 1768828969
    },
    {
        "content": "<p>mine loves <code>List.pad</code> <span aria-label=\"crying cat\" class=\"emoji emoji-1f63f\" role=\"img\" title=\"crying cat\">:crying_cat:</span>   i am going to make a specific GOTCHAS.md that the skill will eager load</p>",
        "id": 568800540,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768829135
    }
]
[
    {
        "content": "<p>I ned some help constructing a literal record in Roc.</p>\n<p>I'm trying to get up the first test to pass for my new function <code>getNextRecord</code>.</p>\n<p>I just want to start with the base case of returning a record/object that indicates there are no items in the next row.</p>\n<p>But I'm a bit stumped figuring out how to create a literal record in Roc.</p>\n<p>My first guess was that it was going to be something like this:</p>\n<div class=\"codehilite\" data-code-language=\"roc\"><pre><span></span><code>getNextRow : List GalleryItem, Int U32, Int U32, List GalleryItem, Int U32, List GalleryItem, List Str -&gt; { row : LayoutRow, removedItems: List GalleryItem, remainingItems : List GalleryItem }\ngetNextRow = \\items, galleryWidth, targetRowHeight, currentRowItems, width, removedItems, headings -&gt;\n    {\n        row = {\n            items = [],\n            galleryWidth = galleryWidth,\n            targetRowHeight = targetRowHeight,\n            currentRowItems = currentRowItems,\n            width = width,\n            removedItems = removedItems,\n            headings = headings\n        },\n        removedItems = [],\n        remainingItems = items\n    }\n</code></pre></div>\n<p>That didn't work.</p>\n<p>I searched through the tutorial and found \"record builder syntax\" which got me to this:</p>\n<div class=\"codehilite\" data-code-language=\"roc\"><pre><span></span><code>getNextRow : List GalleryItem, Int U32, Int U32, List GalleryItem, Int U32, List GalleryItem, List Str -&gt; { row : LayoutRow, removedItems: List GalleryItem, remainingItems : List GalleryItem }\ngetNextRow = \\items, galleryWidth, targetRowHeight, currentRowItems, width, removedItems, headings -&gt;\n    {\n        row: &lt;- {\n            items: &lt;- [],\n            galleryWidth: &lt;- galleryWidth,\n            targetRowHeight: &lt;- targetRowHeight,\n            currentRowItems: &lt;- currentRowItems,\n            width: &lt;- width,\n            removedItems: &lt;- removedItems,\n            headings: &lt;- headings\n        },\n        removedItems: &lt;- [],\n        remainingItems: &lt;- items\n    }\n\nexpect getNextRow [] 10  20 [] 0 [] [] == {\n    row: &lt;- {\n        items: &lt;- [],\n        galleryWidth: &lt;- 10,\n        targetRowHeight: &lt;- 20,\n        currentRowItems: &lt;- [],\n        width: &lt;- 0,\n        removedItems: &lt;- [],\n        headings: &lt;- []\n    },\n    removedItems: &lt;- [],\n    remainingItems: &lt;- = []\n}\n</code></pre></div>\n<p>I'm not sure what I have wrong here. </p>\n<p>Error:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>──<span class=\"w\"> </span>UNAPPLIED<span class=\"w\"> </span>RECORD<span class=\"w\"> </span>BUILDER<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>Layout.roc<span class=\"w\"> </span>──────────────────────────────────────\n\nThis<span class=\"w\"> </span>record<span class=\"w\"> </span>builder<span class=\"w\"> </span>was<span class=\"w\"> </span>not<span class=\"w\"> </span>applied<span class=\"w\"> </span>to<span class=\"w\"> </span>a<span class=\"w\"> </span><span class=\"k\">function</span>:\n\n<span class=\"m\">23</span>│&gt;<span class=\"w\">      </span><span class=\"o\">{</span>\n<span class=\"m\">24</span>│&gt;<span class=\"w\">          </span>row:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"m\">25</span>│&gt;<span class=\"w\">              </span>items:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">[]</span>,\n<span class=\"m\">26</span>│&gt;<span class=\"w\">              </span>galleryWidth:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>galleryWidth,\n<span class=\"m\">27</span>│&gt;<span class=\"w\">              </span>targetRowHeight:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>targetRowHeight,\n<span class=\"m\">28</span>│&gt;<span class=\"w\">              </span>currentRowItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>currentRowItems,\n<span class=\"m\">29</span>│&gt;<span class=\"w\">              </span>width:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>width,\n<span class=\"m\">30</span>│&gt;<span class=\"w\">              </span>removedItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>removedItems,\n<span class=\"m\">31</span>│&gt;<span class=\"w\">              </span>headings:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>headings\n<span class=\"m\">32</span>│&gt;<span class=\"w\">          </span><span class=\"o\">}</span>,\n<span class=\"m\">33</span>│&gt;<span class=\"w\">          </span>removedItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">[]</span>,\n<span class=\"m\">34</span>│&gt;<span class=\"w\">          </span>remainingItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>items\n<span class=\"m\">35</span>│&gt;<span class=\"w\">      </span><span class=\"o\">}</span>\n\nHowever,<span class=\"w\"> </span>we<span class=\"w\"> </span>need<span class=\"w\"> </span>a<span class=\"w\"> </span><span class=\"k\">function</span><span class=\"w\"> </span>to<span class=\"w\"> </span>construct<span class=\"w\"> </span>the<span class=\"w\"> </span>record.\n\nNote:<span class=\"w\"> </span>Functions<span class=\"w\"> </span>must<span class=\"w\"> </span>be<span class=\"w\"> </span>applied<span class=\"w\"> </span>directly.<span class=\"w\"> </span>The<span class=\"w\"> </span>pipe<span class=\"w\"> </span>operator<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"p\">|</span>&gt;<span class=\"o\">)</span><span class=\"w\"> </span>cannot<span class=\"w\"> </span>be<span class=\"w\"> </span>used.\n</code></pre></div>\n<p>I was hoping to use an anonymous type, but then I thought maybe what I'm doing wrong is that I'm not naming the type. </p>\n<p>So I tried naming it: </p>\n<div class=\"codehilite\" data-code-language=\"roc\"><pre><span></span><code>GetNextRowResult : { row : LayoutRow, removedItems: List GalleryItem, remainingItems : List GalleryItem }\n\ngetNextRow : List GalleryItem, Int U32, Int U32, List GalleryItem, Int U32, List GalleryItem, List Str -&gt; GetNextRowResult\ngetNextRow = \\items, galleryWidth, targetRowHeight, currentRowItems, width, removedItems, headings -&gt;\n    GetNextRowResult {\n        row: &lt;- {\n            items: &lt;- [],\n            galleryWidth: &lt;- galleryWidth,\n            targetRowHeight: &lt;- targetRowHeight,\n            currentRowItems: &lt;- currentRowItems,\n            width: &lt;- width,\n            removedItems: &lt;- removedItems,\n            headings: &lt;- headings\n        },\n        removedItems: &lt;- [],\n        remainingItems: &lt;- items\n    }\n\nexpect getNextRow [] 10  20 [] 0 [] [] == GetNextRowResult {\n    row: &lt;- {\n        items: &lt;- [],\n        galleryWidth: &lt;- 10,\n        targetRowHeight: &lt;- 20,\n        currentRowItems: &lt;- [],\n        width: &lt;- 0,\n        removedItems: &lt;- [],\n        headings: &lt;- []\n    },\n    removedItems: &lt;- [],\n    remainingItems: &lt;- = []\n}\n</code></pre></div>\n<p>That gets me this error:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>──<span class=\"w\"> </span>RECORD<span class=\"w\"> </span>PARSE<span class=\"w\"> </span>PROBLEM<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>Layout.roc<span class=\"w\"> </span>──────────────────────────────────────────\n\nI<span class=\"w\"> </span>am<span class=\"w\"> </span>partway<span class=\"w\"> </span>through<span class=\"w\"> </span>parsing<span class=\"w\"> </span>a<span class=\"w\"> </span>record,<span class=\"w\"> </span>but<span class=\"w\"> </span>I<span class=\"w\"> </span>got<span class=\"w\"> </span>stuck<span class=\"w\"> </span>here:\n\n<span class=\"w\"> </span><span class=\"m\">1</span>│<span class=\"w\">  </span>interface<span class=\"w\"> </span>Layout\n<span class=\"w\"> </span><span class=\"m\">2</span>│<span class=\"w\">      </span>exposes<span class=\"w\"> </span><span class=\"o\">[</span>getNextRow,<span class=\"w\"> </span>GalleryItem,<span class=\"w\"> </span>LayoutItem,<span class=\"w\"> </span>LayoutRow<span class=\"o\">]</span>\n<span class=\"w\"> </span><span class=\"m\">3</span>│<span class=\"w\">      </span>imports<span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\"> </span><span class=\"m\">4</span>│\n<span class=\"w\"> </span><span class=\"m\">5</span>│<span class=\"w\">  </span>GalleryItem<span class=\"w\"> </span>:<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\"> </span><span class=\"m\">6</span>│<span class=\"w\">  </span><span class=\"o\">}</span>\n<span class=\"w\"> </span><span class=\"m\">7</span>│\n<span class=\"w\"> </span><span class=\"m\">8</span>│<span class=\"w\">  </span>LayoutItem<span class=\"w\"> </span>:<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\"> </span><span class=\"m\">9</span>│<span class=\"w\">  </span><span class=\"o\">}</span>\n<span class=\"m\">10</span>│\n<span class=\"m\">11</span>│<span class=\"w\">  </span>LayoutRow<span class=\"w\"> </span>:<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"m\">12</span>│<span class=\"w\">      </span>items<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>LayoutItem,\n<span class=\"m\">13</span>│<span class=\"w\">      </span>galleryWidth<span class=\"w\"> </span>:<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,\n<span class=\"m\">14</span>│<span class=\"w\">      </span>targetRowHeight<span class=\"w\"> </span>:<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,\n<span class=\"m\">15</span>│<span class=\"w\">      </span>currentRowItems<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,\n<span class=\"m\">16</span>│<span class=\"w\">      </span>width<span class=\"w\"> </span>:<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,\n<span class=\"m\">17</span>│<span class=\"w\">      </span>removedItems<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,\n<span class=\"m\">18</span>│<span class=\"w\">      </span>headings<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>Str\n<span class=\"m\">19</span>│<span class=\"w\">  </span><span class=\"o\">}</span>\n<span class=\"m\">20</span>│\n<span class=\"m\">21</span>│<span class=\"w\">  </span>GetNextRowResult<span class=\"w\"> </span>:<span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span>row<span class=\"w\"> </span>:<span class=\"w\"> </span>LayoutRow,<span class=\"w\"> </span>removedItems:<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,<span class=\"w\"> </span>remainingItems<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem<span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"m\">22</span>│\n<span class=\"m\">23</span>│<span class=\"w\">  </span>getNextRow<span class=\"w\"> </span>:<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,<span class=\"w\"> </span>Int<span class=\"w\"> </span>U32,<span class=\"w\"> </span>List<span class=\"w\"> </span>GalleryItem,<span class=\"w\"> </span>List<span class=\"w\"> </span>Str<span class=\"w\"> </span>-&gt;<span class=\"w\"> </span>GetNextRowResult\n<span class=\"m\">24</span>│<span class=\"w\">  </span><span class=\"nv\">getNextRow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"se\">\\i</span>tems,<span class=\"w\"> </span>galleryWidth,<span class=\"w\"> </span>targetRowHeight,<span class=\"w\"> </span>currentRowItems,<span class=\"w\"> </span>width,<span class=\"w\"> </span>removedItems,<span class=\"w\"> </span>headings<span class=\"w\"> </span>-&gt;\n<span class=\"m\">25</span>│<span class=\"w\">      </span>GetNextRowResult<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"m\">26</span>│<span class=\"w\">          </span>row:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"m\">27</span>│<span class=\"w\">              </span>items:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">[]</span>,\n<span class=\"m\">28</span>│<span class=\"w\">              </span>galleryWidth:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>galleryWidth,\n<span class=\"m\">29</span>│<span class=\"w\">              </span>targetRowHeight:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>targetRowHeight,\n<span class=\"m\">30</span>│<span class=\"w\">              </span>currentRowItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>currentRowItems,\n<span class=\"m\">31</span>│<span class=\"w\">              </span>width:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>width,\n<span class=\"m\">32</span>│<span class=\"w\">              </span>removedItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>removedItems,\n<span class=\"m\">33</span>│<span class=\"w\">              </span>headings:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>headings\n<span class=\"m\">34</span>│<span class=\"w\">          </span><span class=\"o\">}</span>,\n<span class=\"m\">35</span>│<span class=\"w\">          </span>removedItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span><span class=\"o\">[]</span>,\n<span class=\"m\">36</span>│<span class=\"w\">          </span>remainingItems:<span class=\"w\"> </span>&lt;-<span class=\"w\"> </span>items\n<span class=\"m\">37</span>│<span class=\"w\">      </span><span class=\"o\">}</span>\n<span class=\"m\">38</span>│\n<span class=\"m\">39</span>│<span class=\"w\">  </span>expect<span class=\"w\"> </span>getNextRow<span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"m\">10</span><span class=\"w\">  </span><span class=\"m\">20</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span>GetNextRowResult<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">                                                                </span>^\n\nTODO<span class=\"w\"> </span>provide<span class=\"w\"> </span>more<span class=\"w\"> </span>context\n</code></pre></div>\n<p>I'm not sure what to do now. </p>\n<p>Can anyone point me to an example of creating a literal record?</p>",
        "id": 448963621,
        "sender_full_name": "Ashley Davis",
        "timestamp": 1720046801
    },
    {
        "content": "<p>They have a <code>:</code> based syntax.</p>",
        "id": 448964250,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047114
    },
    {
        "content": "<p>Also, that is a really good point that <code>record builder syntax</code> may be a terrible name.</p>",
        "id": 448964328,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047140
    },
    {
        "content": "<p>That is an advanced feature.</p>",
        "id": 448964350,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047148
    },
    {
        "content": "<p>Directly porting your example should be this:</p>\n<div class=\"codehilite\"><pre><span></span><code>getNextRow : List GalleryItem, Int U32, Int U32, List GalleryItem, Int U32, List GalleryItem, List Str -&gt; { row : LayoutRow, removedItems: List GalleryItem, remainingItems : List GalleryItem }\ngetNextRow = \\items, galleryWidth, targetRowHeight, currentRowItems, width, removedItems, headings -&gt;\n    {\n        row: {\n            items: [],\n            galleryWidth: galleryWidth,\n            targetRowHeight: targetRowHeight,\n            currentRowItems: currentRowItems,\n            width: width,\n            removedItems: removedItems,\n            headings: headings\n        },\n        removedItems: [],\n        remainingItems: items\n    }\n</code></pre></div>",
        "id": 448964447,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047204
    },
    {
        "content": "<p>Note, you don't need the <code>name: </code> part if the name matches a variable name. So can be shorten to:</p>\n<div class=\"codehilite\"><pre><span></span><code>getNextRow : List GalleryItem, Int U32, Int U32, List GalleryItem, Int U32, List GalleryItem, List Str -&gt; { row : LayoutRow, removedItems: List GalleryItem, remainingItems : List GalleryItem }\ngetNextRow = \\items, galleryWidth, targetRowHeight, currentRowItems, width, removedItems, headings -&gt;\n    {\n        row: {\n            items: [],\n            galleryWidth,\n            targetRowHeight,\n            currentRowItems,\n            width,\n            removedItems,\n            headings\n        },\n        removedItems: [],\n        remainingItems: items\n    }\n</code></pre></div>",
        "id": 448964607,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047297
    },
    {
        "content": "<p>tutorial section on records: <a href=\"https://www.roc-lang.org/tutorial#records\">https://www.roc-lang.org/tutorial#records</a></p>",
        "id": 448964697,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1720047350
    },
    {
        "content": "<p>That's awesome thank you so much.</p>",
        "id": 449169136,
        "sender_full_name": "Ashley Davis",
        "timestamp": 1720129446
    }
]
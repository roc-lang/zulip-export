[
    {
        "content": "<p>Hi there :)</p>\n<p>I congratulate to the new directon Roc is reflecting in this video.</p>\n<p><a href=\"https://youtu.be/VnPw9rk8FI8\">https://youtu.be/VnPw9rk8FI8</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"VnPw9rk8FI8\" href=\"https://youtu.be/VnPw9rk8FI8\"><img src=\"https://uploads.zulipusercontent.net/b305b8fa1331e238847a835f84d039c115660383/68747470733a2f2f692e7974696d672e636f6d2f76692f566e507739726b384649382f6d7164656661756c742e6a7067\"></a></div><p>I think its pretty clear to see, that the syntax improved A LOT, and Roc is on my list of potential contenters to become my main language.</p>\n<p>Me and a couple of friends research on concatinative languages to do our own language.</p>\n<p>Did Roc consider that as well, as it was originally conceptually?</p>\n<p>Do you allow for multiple dispatch? </p>\n<p>That would be absolutely game breaking for me <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 559141851,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1764014927
    },
    {
        "content": "<p>I never considered concetenative for Roc - feels like it makes the language way harder to learn and the benefit doesn't seem to justify it to me</p>",
        "id": 560020356,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764020070
    },
    {
        "content": "<p>by multiple dispatch do you mean you can define multiple implementations of a function with the same name, and then the compiler dispatches to one of them based on the type matching?</p>",
        "id": 560020459,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764020101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"281383\">Richard Feldman</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/560020356\">said</a>:</p>\n<blockquote>\n<p>I never considered concetenative for Roc - feels like it makes the language way harder to learn and the benefit doesn't seem to justify it to me</p>\n</blockquote>\n<p>Interesting, what do you find harder about it?<br>\nBecause it is unusual, or some objective reason?</p>\n<p>And yes, multiple dispatch as in Julia and Raku.</p>",
        "id": 560046602,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1764030538
    },
    {
        "content": "<p>unusual and especially because it's unusual in an unusual way if that makes sense - like it's unusual for Roc to use <code>-&gt;</code> instead of <code>|&gt;</code> but languages use slightly different sets of operators all the time so it's at least the type of thing people are used to being different between languages</p>",
        "id": 560048429,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764031860
    },
    {
        "content": "<p>being unusual about how functions get called is pretty much unique to concatenative languages <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 560064541,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764043786
    },
    {
        "content": "<p>multiple dispatch I wouldn't consider because of compiler performance</p>",
        "id": 560064571,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764043803
    },
    {
        "content": "<p>I don't think it's likely that you can both have that and a fast compiler</p>",
        "id": 560064589,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764043824
    },
    {
        "content": "<p>the compiler just has to try a bunch of different options in a bunch of different places, no way around doing tons of extra work</p>",
        "id": 560064630,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764043860
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"281383\">Richard Feldman</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/560064571\">said</a>:</p>\n<blockquote>\n<p>multiple dispatch I wouldn't consider because of compiler performance</p>\n</blockquote>\n<p>Oh, I would have expected that you think it can only be applied with dynamic dispatch, so that argument instead surprised me. <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> </p>\n<p>Well, Raku and Julia both have proper compiler performance, so I don't think its unsolvable.</p>\n<p>Obviously, this depends a LOT on how strong the global type inference is, and there are ways to make that performant.</p>\n<p>As an argument for it: <br>\nIt solves the expression problem (almost no language does that, besides dynamically typed ones) and it is the obvious way to perform polymorphism for open source projects.</p>\n<p>You cannot extend freely with most other forms of polymorphism, which is desirable for closed source projects.</p>\n<p>Which is probably the reason for its absence in popular languages.</p>\n<p>About concatenation, I will say that this is an understandable reasoning from a human perspective, and a non-argument from an engineering perspective:</p>\n<p>Unusual syntax and semantics can simply mean, we are are used to doing it wrong.</p>\n<p>Getting off cigarettes also feels unusual, I don't see how this is an argument against it.</p>\n<p>Being compatible with the expectations of people can simply suggest that we repeat the mistakes of the past: </p>\n<p>Its compatability to disfunction.</p>",
        "id": 560099815,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1764061446
    },
    {
        "content": "<p>We often think in terms of weirdness budget, something can be unusual/weird if it brings enough benefits and does not make the language too weird overall. If the language is optimal from an engineering perspective but so unusual  that basically nobody wants to try it out, we will not have made a meaningful impact on programming. So we want to strike a good balance here.</p>",
        "id": 560121508,
        "sender_full_name": "Anton",
        "timestamp": 1764067870
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"361169\">Anton</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/560121508\">said</a>:</p>\n<blockquote>\n<p>We often think in terms of weirdness budget, something can be unusual/weird if it brings enough benefits and does not make the language too weird overall. If the language is optimal from an engineering perspective but so unusual  that basically nobody wants to try it out, we will not have made a meaningful impact on programming. So we want to strike a good balance here.</p>\n</blockquote>\n<p>That sounds quite reasonable. </p>\n<p>Personally, I think multiple dispatch is absolutely perfect under this perspective.</p>\n<p>Concatenation is worth a debate, since it can enable extremely potent VM with a <em>few hundred lines</em> of implementation.</p>\n<p>That is a fraction of Lua. Meaning you can implement on a range of languages, and you inherit their ecosystem.</p>\n<p>Roc has very good properties for systems level programming, and I appreciate that.</p>\n<p>I think multiple dispatch would make it similarly potent for higher level applications and concatenation is a very substantial difference to the current design, so integrating it now is seriously a hard choice since it would set back the project very substantially.</p>",
        "id": 561046396,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1764549598
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"627034\">ShalokShalom</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/560099815\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"281383\">Richard Feldman</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/560064571\">said</a>:</p>\n<blockquote>\n<p>multiple dispatch I wouldn't consider because of compiler performance</p>\n</blockquote>\n<p>Oh, I would have expected that you think it can only be applied with dynamic dispatch, so that argument instead surprised me. <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> </p>\n<p>Well, Raku and Julia both have proper compiler performance, so I don't think its unsolvable.</p>\n</blockquote>\n<p>it's been a goal from the beginning for Roc to be much faster at both compile time and runtime than Julia or Raku (among many other languages!) <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 561047137,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764550443
    },
    {
        "content": "<p>separately, even if the performance cost were free, I don't think the semantics fit with Roc - e.g. I've separately considered whether it would make sense just from a semantic perspective for Roc to have:</p>\n<ul>\n<li>optional arguments</li>\n<li>multi-arity functions, which is a more flexible superset of optional arguments</li>\n<li>multiple dispatch, which is a more flexible superset of multi-arity functions</li>\n</ul>\n<p>...and my conclusion was that it's best for this language to not even have optional arguments, let alone multi-arity functions, let alone multiple dispatch - and that's even if the performance were free</p>",
        "id": 561047411,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764550670
    },
    {
        "content": "<p>so to me, I'd say both the semantics <em>and</em> the performance of multiple dispatch are independently deal-breakers for Roc</p>",
        "id": 561047535,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764550796
    },
    {
        "content": "<p><img alt=\":rip-intense:\" class=\"emoji\" src=\"https://avatars.zulip.com/22008/emoji/images/06f26bfa.png\" title=\"rip-intense\"> default valued args ... Still hold a place in my heart.</p>",
        "id": 561047965,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1764551290
    },
    {
        "content": "<p>fwiw nominal records do offer a possibility of reintroducing default-value records</p>",
        "id": 561048946,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764552273
    },
    {
        "content": "<p>now that the way we ended up constructing them is that anonymous records unify with them</p>",
        "id": 561048955,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764552285
    },
    {
        "content": "<p>but that's a separate topic <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 561048961,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764552296
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"281383\">Richard Feldman</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/561047411\">said</a>:</p>\n<blockquote>\n<p>separately, even if the performance cost were free, I don't think the semantics fit with Roc - e.g. I've separately considered whether it would make sense just from a semantic perspective for Roc to have:</p>\n<ul>\n<li>optional arguments</li>\n<li>multi-arity functions, which is a more flexible superset of optional arguments</li>\n<li>multiple dispatch, which is a more flexible superset of multi-arity functions</li>\n</ul>\n<p>...and my conclusion was that it's best for this language to not even have optional arguments, let alone multi-arity functions, let alone multiple dispatch - and that's even if the performance were free</p>\n</blockquote>\n<p>What's the reasoning behind this?</p>\n<p>That sounds as if you are aiming to be a functional systems level language first and foremost, and to compete with Zig, Odin and consorts.</p>\n<p>Do you also plan to focus on higher level tasks, that ask for sophisticated polymorphic abstractions, and that like?</p>\n<p>Or do you aim to achieve that somehow novel?</p>\n<p>And yes, compile time multiple dispatch on types shouldn't introduce much overhead, if anything at all.</p>\n<p>JuliaC manages to perform 1:1 on the level of C, so I think being much faster at runtime than Julia will be tricky. ;)</p>",
        "id": 561138334,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1764590197
    },
    {
        "content": "<p>in order for it to be true that a language that maintains dynamic typing information at runtime to be \"1:1\" with C's performance (when C does not keep that information in memory), one of the following would have to be true:</p>\n<ul>\n<li>memory usage is usually irrelevant for performance (it's usually the most important factor)</li>\n<li>the benchmarks underlying the claim of 1:1 are ones where memory happens to not matter (e.g. they are extremely skewed towards arithmetic operations) </li>\n</ul>\n<p>it makes sense that Julia benchmarks would skew towards arithmetic, since it's focused on use cases like scientific computing, but it would be literally miraculous if Julia were 1:1 at performance with C for use cases like web servers and GUI applications <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 561154212,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764594561
    },
    {
        "content": "<p>regarding optional arguments, multi arity, and multiple dispatch, unless there's some polymorphism mechanism associated with them, they're just ways to avoid naming things differently - e.g. with multiple dispatch you can have two functions both named <code>foo</code> which accept different types, or you can just make one of them named something other than <code>foo</code> at which point it doesn't matter whether you have multiple dispatch</p>",
        "id": 561155221,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764594803
    },
    {
        "content": "<p>the only two ways it could matter beyond naming are if you're using it for some sort of compile-time polymorphism (at which point you're paying for it in build times) or runtime polymorphism via dynamic typing (at which point you're paying for it in runtime memory usage and branching, plus missed compile-time optimizations, among other costs) so the upsides of that polymorphism had better be worth it!</p>",
        "id": 561158384,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764595570
    },
    {
        "content": "<p>I've looked at APIs that use all of these features and my conclusion has been that it's better API design to just have functions with different names - and since that also happens to be the fastest at both compile time and runtime, it seems like the obvious choice for Roc!</p>",
        "id": 561158841,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1764595676
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"281383\">Richard Feldman</span> <a href=\"#narrow/channel/231634-beginners/topic/Congratulations.20.F0.9F.A5.B3.20.28The.20Future.20of.20Roc.29/near/561158841\">said</a>:</p>\n<blockquote>\n<p>I've looked at APIs that use all of these features and my conclusion has been that it's better API design to just have functions with different names - and since that also happens to be the fastest at both compile time and runtime, it seems like the obvious choice for Roc!</p>\n</blockquote>\n<p>Do you think just using functions with different names suddenly solves the expression problem?</p>",
        "id": 562408336,
        "sender_full_name": "ShalokShalom",
        "timestamp": 1765182280
    },
    {
        "content": "<p>I don't think the expression problem is important. It's never been a consideration for Roc's design (and I don't think it should be either)</p>",
        "id": 562450065,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1765195574
    }
]
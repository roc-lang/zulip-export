[
    {
        "content": "<p>EDIT: I'm a fool, and I was immediately corrected. But there is a proper bug below</p>\n<p>I can't tell if i'm just being stupid but i can't seem to actually compile anything with roc:<br>\nif I fetch the latest nightly compiler and compile  the most basic program:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nx\">app</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">cli</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.6/2BfGn4M9uWJNhDVeMghGeXNVDFijMfPsmmVeo6M4QjKX.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"p\">.</span><span class=\"nx\">Stdin</span>\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"p\">.</span><span class=\"nx\">Stdout</span>\n\n<span class=\"err\">#</span><span class=\"w\"> </span><span class=\"nx\">Demonstrates</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">Stdin</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">interactive</span><span class=\"w\"> </span><span class=\"nx\">I</span><span class=\"o\">/</span><span class=\"nx\">O</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">effectful</span><span class=\"w\"> </span><span class=\"nx\">functions</span>\n\n<span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">List</span><span class=\"p\">(</span><span class=\"nx\">Str</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"nx\">Try</span><span class=\"p\">({},</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nx\">Exit</span><span class=\"p\">(</span><span class=\"nx\">I32</span><span class=\"p\">)])</span>\n<span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"nx\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">Stdout</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s2\">\"Enter something and I'll echo it back:\"</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"nx\">input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">Stdin</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"nx\">Stdout</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s2\">\"You entered: ${input}\"</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"nx\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>I see:</p>\n<div class=\"codehilite\"><pre><span></span><code>-- UNDEFINED VARIABLE ----------------------------\n\nNothing is named line! in this scope.\nIs there an import or exposing missing up-top?\n\n   ┌─ main.roc:10:5\n   │\n10 │     Stdout.line!(&quot;Enter something and I&#39;ll echo it back:&quot;)\n   │     ^^^^^^^^^^^^\n\n-- UNDEFINED VARIABLE ----------------------------\n\nNothing is named line! in this scope.\nIs there an import or exposing missing up-top?\n\n   ┌─ main.roc:12:13\n   │\n12 │     input = Stdin.line!()\n   │             ^^^^^^^^^^^\n\n-- UNDEFINED VARIABLE ----------------------------\n\nNothing is named line! in this scope.\nIs there an import or exposing missing up-top?\n\n   ┌─ main.roc:13:5\n   │\n13 │     Stdout.line!(&quot;You entered: ${input}&quot;)\n   │     ^^^^^^^^^^^^\n\n\nFound 3 error(s) and 0 warning(s) for main.roc.\n</code></pre></div>\n<p>I'm not sure if I'm just being super stupid or if something is broken somehow??</p>",
        "id": 569529837,
        "sender_full_name": "Eli Dowling",
        "timestamp": 1769097697
    },
    {
        "content": "<p>Hi there. I think it's the imports. pf doesn't exist, it's called cli in your code</p>",
        "id": 569532774,
        "sender_full_name": "JRI98",
        "timestamp": 1769098405
    },
    {
        "content": "<p>See this is why i needed help. Far too lost in it to see what's in front of me! thankyou!</p>",
        "id": 569533098,
        "sender_full_name": "Eli Dowling",
        "timestamp": 1769098485
    },
    {
        "content": "<p>Okay I've definitely found a bug now.<br>\nWhen I make a module and import it I always get an error saying the module doesn't have the value I'm using <br>\nBut it runs fine with <code>roc</code>.<br>\nError:</p>\n<div class=\"codehilite\"><pre><span></span><code>-- DOES NOT EXIST --------------------------------\n\nBasic.val does not exist.\n\nBasic is in scope, but it has no associated val.\n\nIt&#39;s referenced here:\n  ┌─ /home/eli/Code/roc/test/test-clean/main.roc:9:24\n  │\n9 │     Stdout.line!(&quot;hi ${Basic.val}&quot;)\n  │                        ^^^^^^^^^\n\n\nFound 1 error(s) and 0 warning(s) in 12.3 ms for main.roc.\n</code></pre></div>\n<p>Basic.roc</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nx\">Basic</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"p\">[].{</span>\n<span class=\"w\">  </span><span class=\"nx\">val</span><span class=\"o\">=</span><span class=\"s2\">\"hi\"</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>main.roc</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nx\">app</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.6/2BfGn4M9uWJNhDVeMghGeXNVDFijMfPsmmVeo6M4QjKX.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"p\">.</span><span class=\"nx\">Stdout</span>\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">Basic</span>\n\n<span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"nx\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">Stdout</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s2\">\"hi ${Basic.val}\"</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"nx\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 569547452,
        "sender_full_name": "Eli Dowling",
        "timestamp": 1769102204
    },
    {
        "content": "<p>If you have the <code>gh</code> (github) client, you can use <a href=\"https://github.com/rickhull/roc-init/blob/master/rocgist.sh\">https://github.com/rickhull/roc-init/blob/master/rocgist.sh</a> to create a gist for you, rather than copy pasting large messages straight into Zulip.  Not saying it's a problem for the chat, but I find <code>rocgist.sh</code> to be a nicer \"get support\" workflow</p>",
        "id": 569550812,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769103104
    },
    {
        "content": "<p>Also, this might help as an example of a working platform on the new compiler.  I am very new to both Roc and Zig so my troubleshooting abilities are not great.  <a href=\"https://github.com/rickhull/schnorr-platform\">https://github.com/rickhull/schnorr-platform</a></p>",
        "id": 569553420,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769103878
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"651372\">Eli Dowling</span> <a href=\"#narrow/channel/231634-beginners/topic/Should.20i.20be.20able.20to.20run.20code.20with.20the.20new.20compiler.3F/near/569547452\">said</a>:</p>\n<blockquote>\n<p>Okay I've definitely found a bug now.<br>\nWhen I make a module and import it I always get an error saying the module doesn't have the value I'm using <br>\nBut it runs fine with <code>roc</code>.<br>\nError:</p>\n<div class=\"codehilite\"><pre><span></span><code>-- DOES NOT EXIST --------------------------------\n\nBasic.val does not exist.\n\nBasic is in scope, but it has no associated val.\n\nIt&#39;s referenced here:\n  ┌─ /home/eli/Code/roc/test/test-clean/main.roc:9:24\n  │\n9 │     Stdout.line!(&quot;hi ${Basic.val}&quot;)\n  │                        ^^^^^^^^^\n\n\nFound 1 error(s) and 0 warning(s) in 12.3 ms for main.roc.\n</code></pre></div>\n<p>Basic.roc</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nx\">Basic</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"p\">[].{</span>\n<span class=\"w\">  </span><span class=\"nx\">val</span><span class=\"o\">=</span><span class=\"s2\">\"hi\"</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>main.roc</p>\n<p><div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nx\">app</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">platform</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.6/2BfGn4M9uWJNhDVeMghGeXNVDFijMfPsmmVeo6M4QjKX.tar.zst\"</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">pf</span><span class=\"p\">.</span><span class=\"nx\">Stdout</span>\n<span class=\"k\">import</span><span class=\"w\"> </span><span class=\"nx\">Basic</span>\n\n<span class=\"nx\">main</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"nx\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">Stdout</span><span class=\"p\">.</span><span class=\"nx\">line</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s2\">\"hi ${Basic.val}\"</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"nx\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>I think this is the same bug <span class=\"user-mention\" data-user-id=\"668714\">@nandi</span> was talking about earlier in the week. If someone could make a GH issue... I should have time today to look at that. </p>\n<p>I've been travelling all week and hadn't been able to work on anything.</p>",
        "id": 569582920,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1769113750
    }
]
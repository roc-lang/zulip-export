[
    {
        "content": "<p>Hey all, just trying to figure out how to create a range List of type U64. It seems <code>List.range()</code> has been deprecated in favor of <code>Num.to</code> / <code>Num.until</code>, however it seems that currently, <code>.to</code> and <code>.until</code> are only implemented for <code>U8</code>. Is this by design (IE only desired for chars), or just not yet implemented?</p>\n<p>I'd be happy to put together a PR to add for the other Integer(?) types if this is a desired addition...</p>",
        "id": 565406665,
        "sender_full_name": "Ian McLerran",
        "timestamp": 1766722703
    },
    {
        "content": "<p>Definitely a bug</p>",
        "id": 565407956,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766724183
    },
    {
        "content": "<p>Should work for any number type</p>",
        "id": 565407963,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766724188
    },
    {
        "content": "<p>Or at least any integer type.... But I would argue any number type</p>",
        "id": 565407995,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766724219
    },
    {
        "content": "<p>Looking at Builtins.roc, it looks like it's only defined for U8 right now...</p>",
        "id": 565408035,
        "sender_full_name": "Ian McLerran",
        "timestamp": 1766724270
    },
    {
        "content": "<p>Probably should just be a generic function and then called by each number type</p>",
        "id": 565409397,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766725547
    },
    {
        "content": "<p>Probably was only added to u8 cause that was requested for AOC</p>",
        "id": 565409428,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766725576
    },
    {
        "content": "<p>Something like this?</p>\n<div class=\"codehilite\" data-code-language=\"CoffeeScript\"><pre><span></span><code><span class=\"c1\"># # List of integers beginning with this `I128` and ending with the other `I128`.</span>\n<span class=\"c1\"># # (Use [until] instead to end with the other `I128` minus one.)</span>\n<span class=\"c1\"># # Returns an empty list if this `I128` is greater than the other.</span>\n<span class=\"nv\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">I128</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">I128</span><span class=\"w\"> </span><span class=\"nf\">-&gt;</span><span class=\"w\"> </span><span class=\"nx\">List</span><span class=\"p\">(</span><span class=\"nx\">I128</span><span class=\"p\">)</span>\n<span class=\"nv\">to</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"nx\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">end</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"nx\">range_to</span><span class=\"p\">(</span><span class=\"nx\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">end</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># # List of integers beginning with this `I128` and ending with the other `I128` minus one.</span>\n<span class=\"c1\"># # (Use [to] instead to end with the other `I128` exactly, instead of minus one.)</span>\n<span class=\"c1\"># # Returns an empty list if this `I128` is greater than or equal to the other.</span>\n<span class=\"k\">until</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">I128</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">I128</span><span class=\"w\"> </span><span class=\"nf\">-&gt;</span><span class=\"w\"> </span><span class=\"nx\">List</span><span class=\"p\">(</span><span class=\"nx\">I128</span><span class=\"p\">)</span>\n<span class=\"k\">until</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"nx\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">end</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"nx\">range_until</span><span class=\"p\">(</span><span class=\"nx\">start</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">end</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>Or is there a way to do a generic <code>to</code> and <code>until</code> function such that they don't need this stub definition for each type?</p>",
        "id": 565410494,
        "sender_full_name": "Ian McLerran",
        "timestamp": 1766726880
    },
    {
        "content": "<p>Yeah, like that</p>",
        "id": 565413111,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766730307
    },
    {
        "content": "<p>I think all need the stub</p>",
        "id": 565413118,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766730316
    },
    {
        "content": "<p>I'll just add this, no prob!</p>",
        "id": 565443628,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1766756111
    },
    {
        "content": "<p>I've got it added for all the Int types on my local copy, but was curious if we for sure wanted it for dec/float types too, also needed to check if there is anywhere that Builtins are tested and add any appropriate tests</p>",
        "id": 565448926,
        "sender_full_name": "Ian McLerran",
        "timestamp": 1766760638
    },
    {
        "content": "<p>I think Dec definitely should support it. It is as much an int as the integer types. It just happens to have a static scale. But it would function well with these functions. Float......maybe not....it has more risk of accidentally running into infinite loops.</p>",
        "id": 565453817,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766764760
    },
    {
        "content": "<p>Also, what is our plan for ranges with different step sizes?</p>",
        "id": 565454011,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766764845
    },
    {
        "content": "<p>Or with negative steps?</p>",
        "id": 565454037,
        "sender_full_name": "Brendan Hansknecht",
        "timestamp": 1766764865
    },
    {
        "content": "<p>what if we had a range type? I like how julia does ranges like &lt;initial&gt;:&lt;step&gt;:&lt;final&gt; e.g. <code>1:2:10</code> or <code>10:-1:1</code></p>",
        "id": 565461054,
        "sender_full_name": "nandi",
        "timestamp": 1766771722
    },
    {
        "content": "<p>In general we like to avoid adding things (like a range type), do you think it would be worth it in this case?</p>",
        "id": 565461166,
        "sender_full_name": "Anton",
        "timestamp": 1766771860
    },
    {
        "content": "<p>yeah I'd like to avoid a dedicated range syntax</p>",
        "id": 565462240,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1766772802
    },
    {
        "content": "<p>I don't think it's worth the complexity when we already have like <code>1.to(5)</code></p>",
        "id": 565462262,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1766772829
    },
    {
        "content": "<p>I just cooked up a Range module in userspace</p>\n<div class=\"codehilite\"><pre><span></span><code>Range.with_step(1, 3, 15) - start=1, step=3, end=15\n  to_list: List.[1, 4, 7, 10, 13]\n\nRange.with_step(10, -1, 1) - equivalent to Julia&#39;s 10:-1:1\n  to_list: List.[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n</code></pre></div>",
        "id": 565463253,
        "sender_full_name": "nandi",
        "timestamp": 1766773835
    },
    {
        "content": "<p>Dynamic dispatch would allow something like <code>10.steps(2).until(20)</code>, but I think <code>10.until_stepped(20,2)</code> would be good enough.</p>",
        "id": 565463376,
        "sender_full_name": "Fabian Schmalzried",
        "timestamp": 1766773984
    },
    {
        "content": "<p>PR to add <code>to</code> and <code>until</code> (just matches current U8 behavior) for all number types except floats:<br>\n<a href=\"https://github.com/roc-lang/roc/pull/8763\">https://github.com/roc-lang/roc/pull/8763</a></p>",
        "id": 565463758,
        "sender_full_name": "Ian McLerran",
        "timestamp": 1766774423
    }
]
[
    {
        "content": "<p>How to debug this comptime error?</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>index out of bounds: the len is 0 but the index is 0</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>thread '&lt;unnamed&gt;' panicked at 'index out of bounds: the len is 0 but the index is 0', crates/compiler/mono/src/layout.rs:3323:65\nstack backtrace:\n   0: rust_begin_unwind\n             at /rustc/eb26296b556cef10fb713a38f3d16b9886080f26/library/std/src/panicking.rs:593:5\n   1: core::panicking::panic_fmt\n             at /rustc/eb26296b556cef10fb713a38f3d16b9886080f26/library/core/src/panicking.rs:67:14\n   2: core::panicking::panic_bounds_check\n             at /rustc/eb26296b556cef10fb713a38f3d16b9886080f26/library/core/src/panicking.rs:162:5\n   3: roc_mono::layout::layout_from_flat_type\n   4: roc_mono::layout::Layout::new_help\n   5: roc_mono::layout::Layout::from_var\n   6: roc_mono::layout::list_layout_from_elem\n   7: roc_mono::layout::layout_from_flat_type\n   8: roc_mono::layout::Layout::new_help\n   9: roc_mono::layout::Layout::from_var\n  10: roc_mono::layout::Layout::from_var\n  11: roc_mono::layout::layout_from_flat_type\n  12: roc_mono::layout::Layout::new_help\n  13: roc_mono::layout::Layout::from_var\n  14: roc_mono::layout::Layout::from_var\n  15: roc_mono::layout::layout_from_non_recursive_union\n  16: roc_mono::layout::layout_from_flat_type\n  17: roc_mono::layout::Layout::new_help\n  18: roc_mono::layout::Layout::from_var\n  19: roc_mono::layout::layout_from_flat_type\n  20: roc_mono::layout::Layout::new_help\n  21: roc_mono::layout::Layout::from_var\n  22: roc_mono::layout::layout_from_flat_type\n  23: roc_mono::layout::Layout::new_help\n  24: roc_mono::layout::Layout::from_var\n  25: roc_mono::layout::layout_from_non_recursive_union\n  26: roc_mono::layout::layout_from_flat_type\n  27: roc_mono::layout::Layout::new_help\n  28: roc_mono::layout::Layout::from_var\n  29: roc_mono::layout::Layout::from_var\n  30: roc_mono::layout::LambdaSet::from_var\n  31: roc_mono::layout::layout_from_flat_type\n  32: roc_mono::layout::Layout::new_help\n  33: roc_mono::layout::Layout::from_var\n  34: roc_mono::layout::Layout::from_var\n  35: roc_mono::layout::Layout::from_var\n  36: roc_mono::layout::Layout::from_var\n  37: roc_mono::layout::layout_from_flat_type\n  38: roc_mono::layout::RawFunctionLayout::new_help\n  39: roc_mono::layout::RawFunctionLayout::from_var\n  40: roc_mono::layout::RawFunctionLayout::from_var\n  41: roc_mono::layout::LayoutCache::raw_from_var\n  42: roc_load_internal::file::run_task\n  43: core::ops::function::FnOnce::call_once{{vtable.shim}}\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\n</code></pre></div>\n</div></div>\n<p>it's here: <a href=\"https://github.com/roc-lang/roc/blob/e2dac4f022275a6d4645477f7c321bf1ad3dfce7/crates/compiler/mono/src/layout.rs#L3323\">https://github.com/roc-lang/roc/blob/e2dac4f022275a6d4645477f7c321bf1ad3dfce7/crates/compiler/mono/src/layout.rs#L3323</a></p>\n<p>but I'm not sure how to identify the problematic pattern so I can fix it in my code</p>",
        "id": 417202529,
        "sender_full_name": "Kiryl Dziamura",
        "timestamp": 1705920706
    },
    {
        "content": "<p>Found the problem:</p>\n<div class=\"codehilite\"><pre><span></span><code>List List [Wall, Empty]\n</code></pre></div>\n<p>The fix is:</p>\n<div class=\"codehilite\"><pre><span></span><code>List (List [Wall, Empty])\n</code></pre></div>\n<p>Going to create an issue for better logging in gh</p>",
        "id": 417206791,
        "sender_full_name": "Kiryl Dziamura",
        "timestamp": 1705921960
    }
]
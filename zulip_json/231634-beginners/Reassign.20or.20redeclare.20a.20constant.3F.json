[
    {
        "content": "<p><code>mini-tutorial-new-compiler.md</code> states:</p>\n<blockquote>\n<p>Constants can't be reassigned or shadowed, so if you try to do <code>name =</code> again in the same scope, <code>roc</code> will give a compile-time error.</p>\n</blockquote>\n<p>But if I do this:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">main</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">_args</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">Stdout</span><span class=\"p\">.</span><span class=\"fm\">line!</span><span class=\"p\">(</span><span class=\"s\">\"What's your name?\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Stdin</span><span class=\"p\">.</span><span class=\"fm\">line!</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">Stdout</span><span class=\"p\">.</span><span class=\"fm\">line!</span><span class=\"p\">(</span><span class=\"s\">\"Hello, ${name}!\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Stdin</span><span class=\"p\">.</span><span class=\"fm\">line!</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">Stdout</span><span class=\"p\">.</span><span class=\"fm\">line!</span><span class=\"p\">(</span><span class=\"s\">\"Hello, ${name}!\"</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"nb\">Ok</span><span class=\"p\">({})</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>If I run <code>roc</code> I get a warning but it then runs OK:</p>\n<div class=\"codehilite\" data-code-language=\"plaintext\"><pre><span></span><code>❯  roc\n-- DUPLICATE DEFINITION --------------------------\n\nThe name name is being redeclared in this scope.\n\nThe redeclaration is here:\n   ┌─ main.roc:10:5\n   │\n10 │     name = Stdin.line!()\n   │     ^^^^\n\nBut name was already defined here:\n  ┌─ main.roc:8:5\n  │\n8 │     name = Stdin.line!()\n  │     ^^^^\n\n\nFound 0 error(s) and 1 warning(s) for main.roc.\nWhat's your name?\nBill\nHello, Bill!\nDaren\nHello, Daren!\n</code></pre></div>\n<p>If I compile using <code>roc build .\\main.roc</code> and run <code>main.exe</code> it also runs:</p>\n<div class=\"codehilite\"><pre><span></span><code>❯ …\\Projects\\Roc\\test ❯  .\\main\nWhat&#39;s your name?\nBill\nHello, Bill!\nDaren\nHello, Daren!\n</code></pre></div>\n<p>I feel that I'm missing something fundamental, because this doesn't match my expectations.</p>",
        "id": 576339036,
        "sender_full_name": "Daren",
        "timestamp": 1772221905
    },
    {
        "content": "<p>Im guessing the tutorial is a little too conservative here. </p>\n<p>The design philosophy is \"inform dont block\" -- we built support for canonicalizing shadowed identifiers so we can give a helpful error message. </p>\n<p>I'm not sure about the difference between an Error and a Warning...</p>\n<p>You should find that roc exited with a non-zero code -- which indicates there is an error and is intended to prevent this from slipping through CI.</p>",
        "id": 576341802,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772223068
    },
    {
        "content": "<p>I think this is the status, because the guiding principle is not to block the user from running their code if the error isn't something where we cannot determine what would be the right thing to do. The expectation is that people won't ignore warnings.</p>",
        "id": 576341808,
        "sender_full_name": "Norbert Hajagos",
        "timestamp": 1772223072
    },
    {
        "content": "<p>Just as I hit send :)</p>",
        "id": 576341909,
        "sender_full_name": "Norbert Hajagos",
        "timestamp": 1772223124
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515757\">Luke Boswell</span> <a href=\"#narrow/channel/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F/near/576341802\">said</a>:</p>\n<blockquote>\n<p>You should find that roc exited with a non-zero code -- which indicates there is an error and is intended to prevent this from slipping through CI.</p>\n</blockquote>\n<p>This doesn't appear to be the case: <a href=\"https://i.postimg.cc/157gSz72/image.png\">https://i.postimg.cc/157gSz72/image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"https://i.postimg.cc/157gSz72/image.png\"><img src=\"https://uploads.zulipusercontent.net/a04aa230d2bd3471f3f894b93282ba67d51cb886/68747470733a2f2f692e706f7374696d672e63632f31353767537a37322f696d6167652e706e67\"></a></div>",
        "id": 576342565,
        "sender_full_name": "Daren",
        "timestamp": 1772223367
    },
    {
        "content": "<p>The <code>roc app.roc</code> or <code>roc build app.roc</code> call I mean</p>",
        "id": 576343719,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772223869
    },
    {
        "content": "<p>Of course, yeah I didn't grok the CI part</p>",
        "id": 576343812,
        "sender_full_name": "Daren",
        "timestamp": 1772223916
    },
    {
        "content": "<p>I corrected the explanation in <a href=\"https://github.com/roc-lang/roc/issues/9220\">#9220</a></p>",
        "id": 576419249,
        "sender_full_name": "Anton",
        "timestamp": 1772280863
    }
]
[
    {
        "content": "<p>Hi everyone,</p>\n<p>I'm trying to finish up <a href=\"https://github.com/roc-lang/basic-cli/pull/173\">https://github.com/roc-lang/basic-cli/pull/173</a> -- the work remaining involves updating the Rust definition to actually pass the given timeout to the Roc code. In order to do that, I think I need to update the definition of <code>glue::Response::Timeout</code>, which I gather is generated by running <code>roc glue</code>.</p>\n<p>My question is how to do that correctly for <code>basic-cli</code>? The <code>roc glue</code> command requires <code>&lt;GLUE_SPEC&gt;</code> and <code>&lt;GLUE_DIR&gt;</code> arguments. I think <code>platform/src</code> is the correct glue dir, but I'm not sure what a glue spec is. I tried <code>platform/main-glue.roc</code> but got a complaint that it's a platform module, not an app module.</p>",
        "id": 422821284,
        "sender_full_name": "Daniel Rivas",
        "timestamp": 1708610193
    },
    {
        "content": "<p>Oh I. have a branch <a href=\"https://github.com/roc-lang/basic-cli/tree/glue-gen\">glue-gen</a> which includes a script for regenerating glue for the whole platform. The glue that is generated needs to be manually fixed up (by commenting out the invalid rust code). I should update that branch, maybe it is close to being mergable now</p>",
        "id": 422915902,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1708641119
    },
    {
        "content": "<p>To answer your question you can run glue using <code>roc glue ../roc/crates/glue/src/RustGlue.roc platform/src/ platform/main-glue.roc</code></p>",
        "id": 422916059,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1708641183
    },
    {
        "content": "<p>If you change main-glue to just the type you want, then generate glue for that file somewhere. You can manually copy just the newly generated types for <code>glue::Response::Timeout</code>.</p>",
        "id": 422916231,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1708641279
    }
]
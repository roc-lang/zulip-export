[
    {
        "content": "<p>Ok, I've merged this header-less app / echo platform into main. </p>\n<p>I know of <a href=\"https://github.com/roc-lang/roc/issues/9208\">one bug #9208</a> but that should only come up in the rare case where we return an error tag with payload that has a custom implementation of <code>Str.inspect</code>. </p>\n<p>The next step is migrating the examples in <a href=\"https://github.com/roc-lang/examples\">https://github.com/roc-lang/examples</a>.</p>\n<p>I'm thinking we make a branch, and keep them separate until we are happy to flick the switch and make the new zig compiler the default. </p>\n<p>If anyone is interested in helping out this should be a nice self-contained set of tasks. Basically one PR per example. </p>\n<p>For the examples that must use a platform like basic-cli/webserver, I think we can plan to move these to external example in those respective repos.</p>\n<p>There is probably some research to dig out the latest syntax and test it out, but I guess that's why we are putting these examples together in the first place so other people can look it up in a friendly format. I'd highly recommend looking through the snapshot tests if you are unsure of what the correct syntax is for anything. </p>\n<p><span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 576195293,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772177756
    },
    {
        "content": "<p><a href=\"#narrow/channel/316715-contributing/topic/Help.20Wanted.20.3A.20migrating.20the.20Roc.20Examples/near/576195293\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"304641\" href=\"/#narrow/channel/304641-ideas/topic/Roc.20Examples.20-.20migrate.20to.20.22Headerless.22.20Applications/with/576150684\">#ideas &gt; Roc Examples - migrate to \"Headerless\" Applications</a> by <span class=\"user-mention silent\" data-user-id=\"515757\">Luke Boswell</span>.</p>",
        "id": 576195396,
        "sender_full_name": "Notification Bot",
        "timestamp": 1772177800
    },
    {
        "content": "<p>I'll gladly help with it. Probably avoid using ai (for fun), so I won't go as fast. Will go from bottom to top alphabetically, only \"reserving\" Tuples, TryOperatorDesugaring and TowerOfHanoi for now.</p>",
        "id": 576216099,
        "sender_full_name": "Norbert Hajagos",
        "timestamp": 1772185108
    },
    {
        "content": "<blockquote>\n<p>I think we can plan to move these to external example in those respective repos.</p>\n</blockquote>\n<p>That can be a temporary measure, but I would like to avoid this longterm. One major benefit for the examples repo is that it is the centralized place for examples, so that people don't need to manually find the best platform(s) for their use case.</p>",
        "id": 576216631,
        "sender_full_name": "Anton",
        "timestamp": 1772185263
    },
    {
        "content": "<p>Some way to get the web one to the headerless one, so that it's a bit more full fledged and you can demonstrate more with it?</p>",
        "id": 576293059,
        "sender_full_name": "Tobias Steckenborn",
        "timestamp": 1772207378
    },
    {
        "content": "<blockquote>\n<p>Some way to get the web one to the headerless one</p>\n</blockquote>\n<p>Can you be more specific? I'm not completely sure what you mean here.</p>",
        "id": 576296585,
        "sender_full_name": "Anton",
        "timestamp": 1772208229
    },
    {
        "content": "<p>For the echo platform, I have noticed that the build command is not yet supported:</p>\n<div class=\"codehilite\"><pre><span></span><code>‚ùØ ./zig-out/bin/roc ./test/echo/hello.roc\nHello, World!\n\nroc on ÓÇ† main is üì¶ v0.0.1 via ü¶Ä via ‚ÜØ v0.15.2 took 3s\n‚ùØ ./zig-out/bin/roc build ./test/echo/hello.roc\n-- NO PLATFORM FOUND -----------------------------\n\nThe app file ./test/echo/hello.roc does not specify a platform.\n\nAdd a platform to your app header, for example:\n    app [main] { pf: platform &quot;https://...&quot; }\n</code></pre></div>\n<p>Is that just a bug?</p>",
        "id": 576298936,
        "sender_full_name": "Anton",
        "timestamp": 1772208872
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"361169\">Anton</span> <a href=\"#narrow/channel/316715-contributing/topic/Help.20Wanted.20.3A.20migrating.20the.20Roc.20Examples/near/576296585\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Some way to get the web one to the headerless one</p>\n</blockquote>\n<p>Can you be more specific? I'm not completely sure what you mean here.</p>\n</blockquote>\n<p>Guessing that Tobias is talking about¬†<a href=\"https://github.com/roc-lang/roc-playground\">https://github.com/roc-lang/roc-playground</a></p>",
        "id": 576299022,
        "sender_full_name": "Niclas Ahden",
        "timestamp": 1772208895
    },
    {
        "content": "<p>Yeah, sorry typed on the go. The playground right now lacks any output. Also there are errors in the samples (e.g. <a href=\"https://roc-lang.github.io/roc-playground/#content=YXBwIFttYWluIV0geyBwZjogcGxhdGZvcm0gImh0dHBzOi8vZ2l0aHViLmNvbS9sdWtld2lsbGlhbWJvc3dlbGwvcm9jLXBsYXRmb3JtLXRlbXBsYXRlLXppZy9yZWxlYXNlcy9kb3dubG9hZC8wLjYvMkJmR240TTl1V0pOaERWZU1naEdlWE5WREZpak1mUHNtbVZlbzZNNFFqS1gudGFyLnpzdCIgfQoKaW1wb3J0IHBmLlN0ZG91dAoKbWFpbiEgPSB8X2FyZ3N8IHsKICAgIFN0ZG91dC5saW5lISgiSGVsbG8sIFdvcmxkISIpCiAgICBPayh7fSkKfQ==\">https://roc-lang.github.io/roc-playground/#content=YXBwIFttYWluIV0geyBwZjogcGxhdGZvcm0gImh0dHBzOi8vZ2l0aHViLmNvbS9sdWtld2lsbGlhbWJvc3dlbGwvcm9jLXBsYXRmb3JtLXRlbXBsYXRlLXppZy9yZWxlYXNlcy9kb3dubG9hZC8wLjYvMkJmR240TTl1V0pOaERWZU1naEdlWE5WREZpak1mUHNtbVZlbzZNNFFqS1gudGFyLnpzdCIgfQoKaW1wb3J0IHBmLlN0ZG91dAoKbWFpbiEgPSB8X2FyZ3N8IHsKICAgIFN0ZG91dC5saW5lISgiSGVsbG8sIFdvcmxkISIpCiAgICBPayh7fSkKfQ==</a>)</p>\n<p>If I understood it correctly the headless one might allow to echo into e.g. the dev tools console. So it might allow for better samples (and e.g. also some AOC tasks could eventually be solved with it just for getting a feeling for the language).</p>",
        "id": 576299996,
        "sender_full_name": "Tobias Steckenborn",
        "timestamp": 1772209149
    },
    {
        "content": "<blockquote>\n<p>The next step is migrating the examples in¬†<a href=\"https://github.com/roc-lang/examples\">https://github.com/roc-lang/examples</a>.</p>\n</blockquote>\n<p>I have created the examples branch new-compiler that uses the new Roc nightly for CI. You should use this branch as your base branch. Once you have ported an example, make sure to add it for CI like <a href=\"https://github.com/HajagosNorbert/examples-roc/blob/e10f8fc6aeb5cbac2695000d5802d22b19f92b7e/ci_scripts/all_tests.sh#L19\">this</a>.</p>",
        "id": 576304566,
        "sender_full_name": "Anton",
        "timestamp": 1772210378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"513294\">@Tobias Steckenborn</span> I descoped the WASM piece from this first PR... my goal was to unblock the examples migration. </p>\n<p>It should be easier to wire into the playground now. I refactored the interface at the CLI. So now the cli doesn't have any special knowledge of the compiler internals, it's just calling a couple of functions. </p>\n<p>Also this was the first thing we've implemented where we have a platform without a host (the cli is effectively the host and uses the compiler to JIT compile and run everything from memory. I've been calling this the \"plugin\" use case.</p>",
        "id": 576343108,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772223595
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"361169\">Anton</span> <a href=\"#narrow/channel/316715-contributing/topic/Help.20Wanted.20.3A.20migrating.20the.20Roc.20Examples/near/576298936\">said</a>:</p>\n<blockquote>\n<p>For the echo platform, I have noticed that the build command is not yet supported:</p>\n<div class=\"codehilite\"><pre><span></span><code>‚ùØ ./zig-out/bin/roc ./test/echo/hello.roc\nHello, World!\n\nroc on ÓÇ† main is üì¶ v0.0.1 via ü¶Ä via ‚ÜØ v0.15.2 took 3s\n‚ùØ ./zig-out/bin/roc build ./test/echo/hello.roc\n-- NO PLATFORM FOUND -----------------------------\n\nThe app file ./test/echo/hello.roc does not specify a platform.\n\nAdd a platform to your app header, for example:\n    app [main] { pf: platform &quot;https://...&quot; }\n</code></pre></div>\n<p>Is that just a bug?</p>\n</blockquote>\n<p>Not a bug, I totally didn't even think of it... <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 576348507,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772226119
    },
    {
        "content": "<p>We can't support <code>roc build</code> for a header-less app, so we probably need to provide a helpful error message</p>",
        "id": 576348722,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772226188
    },
    {
        "content": "<p>The roc cli itself is the \"host\" -- there are no pre-built binaries.</p>",
        "id": 576348802,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772226220
    },
    {
        "content": "<p>Though we <em>could</em> support it if we wanted to, we would just need to pre-build the static libraries like a normal platform and embed those in the cli. </p>\n<p>I'm not sure if that is the intended design for this feature. <span class=\"user-mention\" data-user-id=\"281383\">@Richard Feldman</span></p>",
        "id": 576348978,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1772226294
    },
    {
        "content": "<p>yeah I think it's not worth it haha</p>",
        "id": 576381203,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1772246052
    },
    {
        "content": "<p>we can just give an error message explaining that <code>roc build</code> only works on <code>app</code> modules (it also doesn't work on <code>platform</code> modules, <code>package</code> modules, etc.)</p>",
        "id": 576381244,
        "sender_full_name": "Richard Feldman",
        "timestamp": 1772246092
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515757\">Luke Boswell</span> <a href=\"#narrow/channel/316715-contributing/topic/Help.20Wanted.20.3A.20migrating.20the.20Roc.20Examples/near/576348722\">said</a>:</p>\n<blockquote>\n<p>We can't support <code>roc build</code> for a header-less app, so we probably need to provide a helpful error message</p>\n</blockquote>\n<p><a href=\"https://github.com/roc-lang/roc/issues/9219\">#9219</a></p>",
        "id": 576409609,
        "sender_full_name": "Anton",
        "timestamp": 1772272518
    }
]
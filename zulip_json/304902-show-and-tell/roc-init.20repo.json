[
    {
        "content": "<p>See <a href=\"#narrow/channel/304641-ideas/topic/.60roc.20init.60.20subcommand\">#ideas &gt; &#96;roc init&#96; subcommand</a> for the discussion about the proposed <code>roc init</code> subcommand feature.</p>\n<p>What I am showing and telling is the (presumably temporary) <a href=\"http://github.com/rickhull/roc-init\">roc-init repo</a>.  This is the most up-to-date, comprehensive resource for new developers targeting the \"new\" Zig-based Roc compiler.  It is temporary in that is a working area with <strong>PRs welcome</strong> to develop more documentation for the new compiler, using that to augment LLM skills, and ultimately inform the proposed <code>roc init</code> subcommand.</p>\n<p>It currently provides a <code>roc-language</code> skill that is claude-native (use your wits!) yet intended to be generic across Gemini and Codex.</p>\n<p>Within <code>docs/</code>, the <code>UPCASE.md</code> docs are LLM-generated.  <code>docs/ROC_LANGREF_TUTORIAL.md</code> was the result of a long Opus run on the new compiler src and tests and langref.  <code>docs/Builtin.roc</code> and <code>docs/all_syntax_test.roc</code> are fetched from the roc source repo.  <code>docs/roc-advent-2025.md</code> is the most comprehensive handwritten doc and remains quite accurate.</p>\n<p>My idea is that the LLM-generated docs can be considered stubs, skeletons, or starting points for hand-curated docs.</p>",
        "id": 569155263,
        "sender_full_name": "Rick Hull",
        "timestamp": 1768958617
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"361169\">@Anton</span> <span class=\"user-mention\" data-user-id=\"515757\">@Luke Boswell</span> et al, I am happy to grant <code>push</code> etc. to this repo if we want to skip the PR rigamorale</p>",
        "id": 569302436,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769013700
    },
    {
        "content": "<p>Yeah, that would be convenient :)<br>\nIt may take a while before I can get to this though</p>",
        "id": 569309950,
        "sender_full_name": "Anton",
        "timestamp": 1769015459
    },
    {
        "content": "<p>I figured out Luke, what is your gh user?</p>",
        "id": 569311156,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769015790
    },
    {
        "content": "<p><a href=\"https://github.com/Anton-4\">https://github.com/Anton-4</a></p>",
        "id": 569311321,
        "sender_full_name": "Anton",
        "timestamp": 1769015828
    },
    {
        "content": "<p>2 invites pending; I've never set this up before on github; I haven't looked at any of the access controls yet</p>",
        "id": 569320940,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769018459
    },
    {
        "content": "<p>Accepted, we can adjust access controls later if needed</p>",
        "id": 569322483,
        "sender_full_name": "Anton",
        "timestamp": 1769018875
    },
    {
        "content": "<p>for personal repos, no real access controls.  collaborators have read/write  <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 569341885,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769024905
    },
    {
        "content": "<p>We are cooking here: <a href=\"https://github.com/rickhull/roc-init\">https://github.com/rickhull/roc-init</a></p>",
        "id": 569375918,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769037333
    },
    {
        "content": "<p>I confirm that the <code>@</code> directives in <code>CLAUDE.md</code> are being followed, confirmed by <code>/status</code> (see: memory)</p>",
        "id": 569377064,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769037873
    },
    {
        "content": "<p>This has seen some recent updates. Some highlights:</p>\n<ul>\n<li><del><code>just install-lsp</code> makes <code>~/.local/bin/roc_language_server</code> which Zed should like</del> (antifeature; just configure to use <code>roc experimental-lsp</code>)</li>\n<li><code>just install-rocgist</code> makes <code>~/.local/bin/rocgist</code> which can be used to create gists for getting help/support (requires <code>gh</code> github client)</li>\n<li><code>just install-skill</code> reimplemented and takes an optional arg: <code>local|project|repo</code> that determines where the skill is installed (by default to <code>~/.claude/skills</code>)</li>\n</ul>",
        "id": 569589243,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769116242
    },
    {
        "content": "<p>I am introducing \"platform choice\" with some guidelines:</p>\n<ul>\n<li><code>roc-platform-template-zig</code> (release url)</li>\n<li><code>roc-platform-template-rust</code> (release url)</li>\n<li><code>basic-cli</code> (build git branch, relative path)</li>\n</ul>\n<p>I am updating the <a href=\"https://github.com/rickhull/roc-init/blob/master/README.md\">README.md</a> with more details and guidance.</p>\n<p>UPDATE: first draft is finalized<br>\nUPDATE: second draft is finalized</p>",
        "id": 569731163,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769179140
    },
    {
        "content": "<h2>Updates</h2>\n<ol>\n<li>landed roc-lang/roc/docs/mini-tutorial-new-compiler.md based on the AoC'25 doc.  <span class=\"user-mention\" data-user-id=\"361169\">@Anton</span> did this</li>\n<li><code>just basic-cli</code>: clone, checkout, build (new compiler platform)</li>\n</ol>\n<h2>Details</h2>\n<h3>Docs</h3>\n<ol>\n<li>remove AoC'25 doc and UPDATES doc</li>\n<li>fetch new mini-tutorial doc alongside Builtin.roc and all_syntax_test.roc</li>\n<li>add all 3 docs to <code>.gitignore</code> so future fetches will not change repo state</li>\n<li>keep all 3 docs in git so there is a baseline for initial clone</li>\n<li>TODO: integrate new approach with <code>roc-language</code> skill</li>\n</ol>\n<h3>Basic-cli</h3>\n<ol start=\"0\">\n<li>check for rustc and cargo</li>\n<li>check for <code>../basic-cli</code> from <code>roc-init</code></li>\n<li>clone if needed via (1) gh or (2) ssh</li>\n<li>checkout <code>migrate-zig-compiler</code>; pull (if cloned earlier)</li>\n<li>./build.sh</li>\n</ol>",
        "id": 570343599,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769526063
    },
    {
        "content": "<h1>Updates</h1>\n<h2>Docs</h2>\n<ol>\n<li>retired existing LLM-generated docs, except <code>ROC_LANGREF_TUTORIAL.md</code> which has no competitors that I am aware of</li>\n<li>extracted LLM-generated doc <code>MINI_TUTORIAL_AUGMENTS.md</code> which should minimize overlap and extend the coverage of <code>roc-lang/roc/docs/mini-tutorial-new-compiler.md</code></li>\n<li>extracted LLM-generated doc <code>GOTCHAS.md</code></li>\n</ol>\n<h3>Results</h3>\n<p>Three docs are fetched from <code>roc-lang/roc</code>:</p>\n<ol>\n<li>mini-tutorial-new-compiler.md</li>\n<li>Builtin.roc</li>\n<li>all_syntax_test.roc</li>\n</ol>\n<p>Three docs are maintained by <code>rickhull/roc-init</code>:</p>\n<ol>\n<li>MINI_TUTORIAL_AUGMENTS.md</li>\n<li>GOTCHAS.md</li>\n<li>ROC_LANGREF_TUTORIAL.md</li>\n</ol>\n<h3>Next Steps</h3>\n<ol>\n<li>Incorporate the contents of <code>MINI_TUTORIAL_AUGMENTS.md</code> into <code>roc-lang/roc</code> somehow</li>\n</ol>\n<h2><code>roc-language</code> Skill</h2>\n<p>The skill structure is very simple: 2 sections, eager load and lazy load.</p>\n<h3>Eager Load</h3>\n<ul>\n<li>mini-tutorial-new-compiler.md</li>\n<li>GOTCHAS.md</li>\n</ul>\n<h3>Lazy Load</h3>\n<ul>\n<li>MINI_TUTORIAL_AUGMENTS.md</li>\n<li>Builtin.roc</li>\n<li>all_syntax_test.roc</li>\n<li>ROC_LANGREF_TUTORIAL.md</li>\n</ul>\n<h2>Examples Subdir</h2>\n<ul>\n<li>moved toplevel *.roc to examples/</li>\n<li>symlink <code>main.roc</code> to <code>examples/zig-template.roc</code></li>\n<li>patch up path to basic-cli platform</li>\n</ul>",
        "id": 570392965,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769538178
    },
    {
        "content": "<h1>Updates</h1>\n<ol>\n<li>Various <a href=\"https://github.com/rickhull/roc-init/blob/master/README.md\">README.md</a> updates (streamline platform choice)</li>\n<li>created <a href=\"https://github.com/rickhull/roc-init/blob/master/docs/EXPLORATORY_RESULTS.md\">docs/EXPLORATORY_RESULTS.md</a> (covers <code>expect</code> in detail)</li>\n<li>dramatic simplification of skill structure, in-repo</li>\n</ol>",
        "id": 570481760,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769583824
    },
    {
        "content": "<p>There was a bug introduced a few days ago that copied the user-level skill to the wrong location.  Now fixed.</p>",
        "id": 571071161,
        "sender_full_name": "Rick Hull",
        "timestamp": 1769790011
    },
    {
        "content": "<p><a href=\"https://github.com/rickhull/roc-init/blob/master/docs/SUSPICIOUS_REFERENCES.md\">https://github.com/rickhull/roc-init/blob/master/docs/SUSPICIOUS_REFERENCES.md</a></p>\n<p>This is an LLM analysis of the more-comprehensive LLM-generated docs.</p>\n<p>There are definitely some TODOs in here before considering promoting any of the remaining docs in <code>roc-init</code> to any sort of official docs</p>",
        "id": 573077362,
        "sender_full_name": "Rick Hull",
        "timestamp": 1770738237
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"515757\">@Luke Boswell</span> you mentioned that <code>roc test</code> hasn't gotten much love lately.  I found some bugs a few weeks ago.  This situation is slightly unfortunate because I was leaning on <code>roc test</code> heavily for exploration; trying something that <em>should</em> work, and if it does, codifying the discovered behavior in a test.  In this way, I made a lot of incremental exploratory process, using <code>roc test</code> like a ratchet.</p>\n<p>I think that giving <code>roc test</code> some love is an important part of the new-roc new-dev experience.  That said, it makes sense to focus on core without being distracted by dragging the entirety of peripherals along for the ride; get core to stable place, and then consider peripherals.</p>",
        "id": 573079794,
        "sender_full_name": "Rick Hull",
        "timestamp": 1770738795
    },
    {
        "content": "<p>Agreed :)</p>",
        "id": 573081572,
        "sender_full_name": "Anton",
        "timestamp": 1770739169
    },
    {
        "content": "<p>While I've got you, can you confirm any/all of the SUSPICIOUS_REFERENCES?  <span aria-label=\"vampire\" class=\"emoji emoji-1f9db\" role=\"img\" title=\"vampire\">:vampire:</span></p>",
        "id": 573087920,
        "sender_full_name": "Rick Hull",
        "timestamp": 1770740607
    },
    {
        "content": "<ol>\n<li>Module headers are indeed deprecated</li>\n</ol>",
        "id": 573090434,
        "sender_full_name": "Anton",
        "timestamp": 1770741212
    },
    {
        "content": "<ol start=\"2\">\n<li>We still call <code>app [main!] { pf: ... }</code> a header. Scripts must use the app header.</li>\n</ol>",
        "id": 573090753,
        "sender_full_name": "Anton",
        "timestamp": 1770741278
    },
    {
        "content": "<ol start=\"3\">\n<li>I indeed think <code>exposing</code> is likely dead but I'm not 100% sure</li>\n</ol>",
        "id": 573091737,
        "sender_full_name": "Anton",
        "timestamp": 1770741490
    },
    {
        "content": "<ol start=\"4\">\n<li>I'm not sure if we are still missing stuff there</li>\n</ol>",
        "id": 573092111,
        "sender_full_name": "Anton",
        "timestamp": 1770741565
    },
    {
        "content": "<ol start=\"5\">\n<li>Is correct</li>\n</ol>",
        "id": 573092236,
        "sender_full_name": "Anton",
        "timestamp": 1770741599
    },
    {
        "content": "<p>For 6. this is accurate: \"hides the internal <em>structure</em> of a type from external modules (you can't pattern match on it or access fields directly), but the type itself and its <code>.{}</code> methods are fully accessible externally\"</p>",
        "id": 573092844,
        "sender_full_name": "Anton",
        "timestamp": 1770741724
    },
    {
        "content": "<p>An interesting exercise to see how you can push LLMs to correct themselves :)</p>",
        "id": 573093462,
        "sender_full_name": "Anton",
        "timestamp": 1770741864
    },
    {
        "content": "<p>There are lots of tricks <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span>    I'll have codex or gemini coding agent in an ssh terminal, and they give me some reason about why they are struggling.  Then I'll go to my claude desktop app, and get claude's opinion about the general problem, often with \"web research\".  I copy/paste the response to docs/FOOBAR_DIFFICULTIES.md   and then ask my coding agent to review and critique.  This gets them thinking about the problem, and usually I get a nice solution.</p>\n<p>I haven't tried goading them with: \"Well, here is what _Claude_ thinks.\", but this might be viable in the future.  Generally I have found all the agents to be mutually respectful of other agents.  Maybe they are collaborating on Moltbook <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>",
        "id": 573094621,
        "sender_full_name": "Rick Hull",
        "timestamp": 1770742135
    },
    {
        "content": "<p>FYI <code>roc test</code> got some of that love it needed in <a href=\"https://github.com/roc-lang/roc/pull/9130\">https://github.com/roc-lang/roc/pull/9130</a> </p>\n<p>It should be much more stable.</p>",
        "id": 573108370,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1770745252
    }
]
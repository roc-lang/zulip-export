[
    {
        "content": "<p>I've been down a rabbit hole on the API for our s-expressions... this is what I have so far. </p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">can_ir</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">d_let</span><span class=\"w\"> </span><span class=\"ss\">:idx=#87</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:1-8:6</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:ident=</span><span class=\"s\">\"main!\"</span><span class=\"w\"> </span><span class=\"ss\">:idx=#73</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e_lambda</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:9-12:2</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:idx=#86</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">args</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">p_underscore</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:10-8:11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:idx=#74</span><span class=\"p\">))</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e_block</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:13-12:2</span><span class=\"p\">)</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">s_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:2-9:17</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:2-9:7</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:ident=</span><span class=\"s\">\"world\"</span><span class=\"w\"> </span><span class=\"ss\">:idx=#75</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:10-9:17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:idx=#77</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:11-9:16</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:string=</span><span class=\"s\">\"World\"</span><span class=\"p\">)))</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e_call</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:2-11:31</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_lookup_external</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">ext_decl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:2-11:14</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:qualified=</span><span class=\"s\">\"pf.Stdout.line!\"</span><span class=\"w\"> </span><span class=\"ss\">:module=</span><span class=\"s\">\"pf.Stdout\"</span><span class=\"w\"> </span><span class=\"ss\">:local=</span><span class=\"s\">\"line!\"</span><span class=\"w\"> </span><span class=\"ss\">:kind=</span><span class=\"s\">\"value\"</span><span class=\"w\"> </span><span class=\"ss\">:type_var=#79</span><span class=\"p\">))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:15-11:30</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:16-11:29</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:string=</span><span class=\"s\">\"Hello, world!\"</span><span class=\"p\">))))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">s_import</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"ss\">:1-6:17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ss\">:module=</span><span class=\"s\">\"pf.Stdout\"</span><span class=\"w\"> </span><span class=\"ss\">:idx=#72</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposes</span><span class=\"p\">)))</span>\n</code></pre></div>",
        "id": 525485853,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750760565
    },
    {
        "content": "<p>I'm trying to make it easier to read and clearer by adding attributes <code>:name=value</code> to nodes instead of just hardcore nesting</p>",
        "id": 525486033,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750760621
    },
    {
        "content": "<p>Doing this simplifies the rule for newlines, basically one for each child</p>",
        "id": 525486245,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750760692
    },
    {
        "content": "<p>why is <code>:ident=\"main!\"</code> better than <code>(ident \"main!\")</code>?</p>",
        "id": 525486568,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750760824
    },
    {
        "content": "<p>It would seem that the newline rule should be a newline for each child node, and all attribute nodes are first and on the same line as the tag for the sexpr</p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">tag</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">line</span><span class=\"ss\">:col-line:col</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr1</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr2</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">child_1_tag</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">line</span><span class=\"ss\">:col-line:col</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr1</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">child_2_tag</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"nv\">...</span><span class=\"p\">)</span>\n</code></pre></div>",
        "id": 525487345,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761124
    },
    {
        "content": "<blockquote>\n<p>It would seem that the newline rule should be a newline for each child node, and all attribute nodes are first and on the same line as the tag for the sexpr</p>\n</blockquote>\n<p>This was the key change... I'll give the formatting a go with parens again</p>",
        "id": 525487461,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761180
    },
    {
        "content": "<p>I would probably go full sexpr and have no custom microformats to parse</p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">tag</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">line</span><span class=\"w\"> </span><span class=\"nv\">col</span><span class=\"w\"> </span><span class=\"nv\">line</span><span class=\"w\"> </span><span class=\"nv\">col</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr1</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr2</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">child_1_tag</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">line</span><span class=\"w\"> </span><span class=\"nv\">col</span><span class=\"w\"> </span><span class=\"nv\">line</span><span class=\"w\"> </span><span class=\"nv\">col</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">attr1</span><span class=\"w\"> </span><span class=\"nv\">val</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">child_2_tag</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nv\">...</span>\n<span class=\"w\">    </span><span class=\"nv\">...</span><span class=\"p\">)</span>\n</code></pre></div>",
        "id": 525487568,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761227
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">can_ir</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">d_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">87</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:1-8:6</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">73</span><span class=\"p\">))</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e_lambda</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:9-12:2</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">86</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">args</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">p_underscore</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:10-8:11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">74</span><span class=\"p\">)))</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e_block</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"ss\">:13-12:2</span><span class=\"p\">)</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">s_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:2-9:17</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:2-9:7</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"world\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">75</span><span class=\"p\">))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:10-9:17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">77</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"ss\">:11-9:16</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"World\"</span><span class=\"p\">))))</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e_call</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:2-11:31</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_lookup_external</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">ext_decl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:2-11:14</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">qualified</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout.line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">local</span><span class=\"w\"> </span><span class=\"s\">\"line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">kind</span><span class=\"w\"> </span><span class=\"s\">\"value\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">type_var</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">79</span><span class=\"p\">)))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:15-11:30</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"ss\">:16-11:29</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"Hello, world!\"</span><span class=\"p\">)))))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">s_import</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"ss\">:1-6:17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">idx</span><span class=\"w\"> </span><span class=\"o\">#</span><span class=\"mi\">72</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposes</span><span class=\"p\">)))</span>\n</code></pre></div>",
        "id": 525487610,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761248
    },
    {
        "content": "<p>ok, i don't think the # is necessary</p>",
        "id": 525487670,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761274
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">can_ir</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">d_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">87</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">73</span><span class=\"p\">))</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e_lambda</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">86</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">args</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">p_underscore</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">74</span><span class=\"p\">)))</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e_block</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">s_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"world\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"p\">))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">77</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"World\"</span><span class=\"p\">))))</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e_call</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">31</span><span class=\"p\">)</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_lookup_external</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">ext_decl</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">qualified</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout.line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">local</span><span class=\"w\"> </span><span class=\"s\">\"line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">kind</span><span class=\"w\"> </span><span class=\"s\">\"value\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">type_var</span><span class=\"w\"> </span><span class=\"mi\">79</span><span class=\"p\">)))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">30</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">29</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"Hello, world!\"</span><span class=\"p\">)))))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">s_import</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">72</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposes</span><span class=\"p\">)))</span>\n</code></pre></div>",
        "id": 525487803,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761331
    },
    {
        "content": "<p>10 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"395097\" href=\"/#narrow/channel/395097-compiler-development/topic/casual.20conversation/with/373264697\">#compiler development &gt; casual conversation</a> by <span class=\"user-mention silent\" data-user-id=\"515757\">Luke Boswell</span>.</p>",
        "id": 525487848,
        "sender_full_name": "Notification Bot",
        "timestamp": 1750761351
    },
    {
        "content": "<p>Maybe tag the Pos node and put the line/col pairs in <code>()</code>s?  Like <code>(pos (6 1) (6 17))</code>?</p>",
        "id": 525488048,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761425
    },
    {
        "content": "<p>It's an improvement over the current I think <a href=\"https://github.com/roc-lang/roc/blob/main/src/snapshots/hello_world_with_block.md#canonicalize\">https://github.com/roc-lang/roc/blob/main/src/snapshots/hello_world_with_block.md#canonicalize</a></p>",
        "id": 525488072,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761439
    },
    {
        "content": "<p>Definitely</p>",
        "id": 525488155,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761479
    },
    {
        "content": "<p>you want to do the least amount of parsing possible, while it still being readable to someone unfamiliar with the specific format (but who has a base level of understanding of sexpr)</p>",
        "id": 525488299,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761540
    },
    {
        "content": "<p>I'm thinking something custom for Region's is unnavoidable</p>",
        "id": 525488376,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761567
    },
    {
        "content": "<p>are we saving the ids so that we can recover the IR from the Sexpr representation?</p>",
        "id": 525488411,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761580
    },
    {
        "content": "<p>I got a bit carried away there. Only some nodes (patterns I think?) need to show them.</p>",
        "id": 525488481,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761608
    },
    {
        "content": "<p>Other nodes reference them by NodeIdx. Also TypeVars are NodeIdx's</p>",
        "id": 525488585,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761638
    },
    {
        "content": "<p>I figure any node that is referenced (or could be) by another probably should show it's id</p>",
        "id": 525488696,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761674
    },
    {
        "content": "<p>I'm just trying to understand if that's useful for debugging</p>",
        "id": 525488769,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761697
    },
    {
        "content": "<p>I don't know though... just experimenting with it</p>",
        "id": 525488782,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761701
    },
    {
        "content": "<p>I guess we use the Region info to map back to the source, and the type information will reference a pattern in a declaration maybe.</p>",
        "id": 525488945,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761761
    },
    {
        "content": "<p>Ok, as far as region you can just have it be a standard s-expr symbol if you start with <code>@</code></p>",
        "id": 525488948,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761763
    },
    {
        "content": "<p>How?</p>",
        "id": 525489035,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761796
    },
    {
        "content": "<p><code>@6!1-6!17</code> is a valid S-expr symbol</p>",
        "id": 525489116,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761835
    },
    {
        "content": "<p>And that can just be an atom</p>",
        "id": 525489145,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761848
    },
    {
        "content": "<p>I think @ is helpful for understanding that it's a region (or related to where it's \"at\")</p>",
        "id": 525489353,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761943
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">can_ir</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">d_let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">87</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8</span><span class=\"nv\">!1-8!6</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">73</span><span class=\"p\">))</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e_lambda</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8</span><span class=\"nv\">!9-12!2</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">86</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">args</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">p_underscore</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8</span><span class=\"nv\">!10-8!11</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">74</span><span class=\"p\">)))</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e_block</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8</span><span class=\"nv\">!13-12!2</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">s_let</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9</span><span class=\"nv\">!2-9!17</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9</span><span class=\"nv\">!2-9!7</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"world\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"p\">))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9</span><span class=\"nv\">!10-9!17</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">77</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9</span><span class=\"nv\">!11-9!16</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"World\"</span><span class=\"p\">))))</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e_call</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11</span><span class=\"nv\">!2-11!31</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_lookup_external</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">ext_decl</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11</span><span class=\"nv\">!2-11!14</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">qualified</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout.line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">local</span><span class=\"w\"> </span><span class=\"s\">\"line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">kind</span><span class=\"w\"> </span><span class=\"s\">\"value\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">type_var</span><span class=\"w\"> </span><span class=\"mi\">79</span><span class=\"p\">)))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e_string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11</span><span class=\"nv\">!15-11!30</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e_literal</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11</span><span class=\"nv\">!16-11!29</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"Hello, world!\"</span><span class=\"p\">)))))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">s_import</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">6</span><span class=\"nv\">!1-6!17</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">72</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposes</span><span class=\"p\">)))</span>\n</code></pre></div>",
        "id": 525489390,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750761956
    },
    {
        "content": "<p>But unfortunately <code>:</code> is not usually valid there</p>",
        "id": 525489397,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761959
    },
    {
        "content": "<p>Hmm.  I'm surprised with the syntax highlighting</p>",
        "id": 525489463,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750761987
    },
    {
        "content": "<p>Maybe (@ (8 1) (8 16)) is better?</p>",
        "id": 525489513,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762013
    },
    {
        "content": "<p>Yeah I'm trying to find something nice</p>",
        "id": 525489535,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750762021
    },
    {
        "content": "<p>What about this?</p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8-1-8-6</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">73</span><span class=\"p\">))</span>\n</code></pre></div>",
        "id": 525489660,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750762063
    },
    {
        "content": "<p>I think that's my favourite so far.</p>",
        "id": 525490216,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750762282
    },
    {
        "content": "<p>That looks fine to me</p>\n<div class=\"codehilite\" data-code-language=\"Scheme\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">p_assign</span><span class=\"w\"> </span><span class=\"nv\">@8-1-8-6</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">73</span><span class=\"p\">))</span>\n</code></pre></div>",
        "id": 525490333,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762327
    },
    {
        "content": "<p>Just the smallest of comments here, but canonically, sexpr symbols should be in kebab case, not snake</p>",
        "id": 525490448,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762365
    },
    {
        "content": "<p>but if we are using the string value of a zig tag directly, it might not be worth a conversion</p>",
        "id": 525490547,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762401
    },
    {
        "content": "<p>I might do a pass through each s-expr node and change that as I go.</p>",
        "id": 525491041,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750762582
    },
    {
        "content": "<p>up to you, just calling it out</p>",
        "id": 525491882,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762933
    },
    {
        "content": "<p>you've been doing a great job with these and the snapshots!</p>",
        "id": 525491935,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750762949
    },
    {
        "content": "<p>Here's an updated PARSE section</p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">app</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">1-1-3-57</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">provides</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">2-3-2-10</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposed-lower-ident</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">text</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">record-field</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-28-3-55</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">name </span><span class=\"s\">\"pf\"</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e-string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-41-3-54</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e-string-part</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-42-3-53</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">raw</span><span class=\"w\"> </span><span class=\"s\">\"../main.roc\"</span><span class=\"p\">))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">packages</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-2-3-57</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">record-field</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-4-3-27</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">name </span><span class=\"s\">\"somePkg\"</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e-string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-13-3-26</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e-string-part</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-14-3-25</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">raw</span><span class=\"w\"> </span><span class=\"s\">\"../main.roc\"</span><span class=\"p\">))))</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">record-field</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-28-3-55</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">name </span><span class=\"s\">\"pf\"</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e-string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-41-3-54</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e-string-part</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">3-42-3-53</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">raw</span><span class=\"w\"> </span><span class=\"s\">\"../main.roc\"</span><span class=\"p\">))))))</span>\n</code></pre></div>",
        "id": 525493166,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750763427
    },
    {
        "content": "<p>The kebab makes is more searchable using ctrl-F</p>",
        "id": 525493310,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750763491
    },
    {
        "content": "<p>I think this looks great</p>",
        "id": 525493604,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750763606
    },
    {
        "content": "<p>And this is the app we started with, Can section</p>\n<div class=\"codehilite\" data-code-language=\"Clojure\"><pre><span></span><code><span class=\"p\">(</span><span class=\"nf\">can-ir</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">d-let</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">87</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">p-assign</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8-1-8-6</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"main!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">73</span><span class=\"p\">))</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">e-lambda</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8-9-12-2</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">86</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">args</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">p-underscore</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8-10-8-11</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">74</span><span class=\"p\">)))</span>\n<span class=\"w\">            </span><span class=\"p\">(</span><span class=\"nf\">e-block</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">8-13-12-2</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">s-let</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9-2-9-17</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">p-assign</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9-2-9-7</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">ident</span><span class=\"w\"> </span><span class=\"s\">\"world\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"p\">))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e-string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9-10-9-17</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">77</span><span class=\"p\">)</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e-literal</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">9-11-9-16</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"World\"</span><span class=\"p\">))))</span>\n<span class=\"w\">                </span><span class=\"p\">(</span><span class=\"nf\">e-call</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11-2-11-31</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e-lookup-external</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">ext-decl</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11-2-11-14</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">qualified</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout.line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">local</span><span class=\"w\"> </span><span class=\"s\">\"line!\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">kind</span><span class=\"w\"> </span><span class=\"s\">\"value\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">type-var</span><span class=\"w\"> </span><span class=\"mi\">79</span><span class=\"p\">)))</span>\n<span class=\"w\">                    </span><span class=\"p\">(</span><span class=\"nf\">e-string</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11-15-11-30</span>\n<span class=\"w\">                        </span><span class=\"p\">(</span><span class=\"nf\">e-literal</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">11-16-11-29</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">string</span><span class=\"w\"> </span><span class=\"s\">\"Hello, world!\"</span><span class=\"p\">)))))))</span>\n<span class=\"w\">    </span><span class=\"p\">(</span><span class=\"nf\">s-import</span><span class=\"w\"> </span><span class=\"o\">@</span><span class=\"mi\">6-1-6-17</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">module</span><span class=\"w\"> </span><span class=\"s\">\"pf.Stdout\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">id</span><span class=\"w\"> </span><span class=\"mi\">72</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">(</span><span class=\"nf\">exposes</span><span class=\"p\">)))</span>\n</code></pre></div>",
        "id": 525495347,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750764198
    },
    {
        "content": "<p>Beautiful</p>",
        "id": 525495800,
        "sender_full_name": "Anthony Bullard",
        "timestamp": 1750764368
    },
    {
        "content": "<p>Random side question... does anyone know how to rename a file so git is happy. I change the casing on this but I'm not sure git has carried it through.</p>\n<p><a href=\"/user_uploads/22008/FKCQMGQDt2Sfj-Aqv7P_YwOS/Screenshot-2025-06-24-at-21.35.33.png\">Screenshot 2025-06-24 at 21.35.33.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/22008/FKCQMGQDt2Sfj-Aqv7P_YwOS/Screenshot-2025-06-24-at-21.35.33.png\" title=\"Screenshot 2025-06-24 at 21.35.33.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2580x986\" src=\"/user_uploads/thumbnail/22008/FKCQMGQDt2Sfj-Aqv7P_YwOS/Screenshot-2025-06-24-at-21.35.33.png/840x560.webp\"></a></div>",
        "id": 525497583,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750764980
    },
    {
        "content": "<p>maybe this would help<br>\n<a href=\"https://adamj.eu/tech/2022/12/09/git-change-case-of-filenames/\">https://adamj.eu/tech/2022/12/09/git-change-case-of-filenames/</a></p>\n<p>tldr: <code>git mv</code></p>",
        "id": 525497891,
        "sender_full_name": "Kiryl Dziamura",
        "timestamp": 1750765089
    },
    {
        "content": "<p>Thank you.</p>",
        "id": 525498249,
        "sender_full_name": "Luke Boswell",
        "timestamp": 1750765219
    },
    {
        "content": "<p>FWIW I think greppability of the s-expr names (i.e. exact match between what a thing is called in the s-expr and what it's called in the zig source) is really useful for ramping up in an unfamiliar codebase. Agree it's a bit more readable with kebab-case, but that does give me a bit of pause...</p>",
        "id": 525544409,
        "sender_full_name": "Joshua Warner",
        "timestamp": 1750778944
    }
]
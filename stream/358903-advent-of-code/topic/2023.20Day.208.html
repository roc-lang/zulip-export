<html>
<head><meta charset="utf-8"><title>2023 Day 8 · advent of code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/index.html">advent of code</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html">2023 Day 8</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="406706925"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406706925" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Lindskogen <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406706925">(Dec 08 2023 at 07:55)</a>:</h4>
<p>Solved day 8, but it's really slow <span aria-label="snail" class="emoji emoji-1f40c" role="img" title="snail">:snail:</span> <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span>  <a href="https://github.com/lindskogen/advent-of-code-2023/blob/main/day08/main.roc">https://github.com/lindskogen/advent-of-code-2023/blob/main/day08/main.roc</a></p>



<a name="406740297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406740297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Domurad <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406740297">(Dec 08 2023 at 11:30)</a>:</h4>
<p>I have something similar and it runs for about 5s <span aria-label="oh no" class="emoji emoji-1f615" role="img" title="oh no">:oh_no:</span> </p>
<div class="spoiler-block"><div class="spoiler-header">
<p>remarks</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>it is "hard" to do math in <code>roc</code> without autoscasting the number types <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span><br>
it might be a matter of getting used to it, but doing this AoC Day 8 part 2, I have spent most of the time trying to do basic aritmetics in <code>roc</code> and fighting the type system...</p>
</div></div>



<a name="406747321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406747321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406747321">(Dec 08 2023 at 12:21)</a>:</h4>
<p><a href="https://gist.github.com/FabHof/ddc3bee4ac783eec36c31b2847a4da87">Here is mine</a></p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>What I don't like for today is, that lcm seems to be the only viable solution, but in theory there can be inputs, that are not solvable this way. Looks like all are, but there is nothing in the text gving you a hint that all routes are circles with only one target.</p>
</div></div>
<p>BTW, you can use <code>//</code> for integer division (shorthand for <a href="https://www.roc-lang.org/builtins/Num#divTrunc">Num.divTrunc</a>), no need to transform to floats.</p>



<a name="406776242"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406776242" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Domurad <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406776242">(Dec 08 2023 at 15:00)</a>:</h4>
<p>I didn't know this <code>//</code> existed in <code>roc</code>.<br>
Thanks :)</p>



<a name="406838879"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406838879" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406838879">(Dec 08 2023 at 21:15)</a>:</h4>
<p><a href="https://github.com/ostcar/aoc2023/blob/main/days/day08.roc">https://github.com/ostcar/aoc2023/blob/main/days/day08.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Why I did not like day8</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>I did not like day8. The input had some characteristics, that where not in the description of the day.</p>
<p>Each start has it's own end and the end comes always at the same ratio. So if <code>XXA</code> leads to <code>XXZ</code>after 5 steps, then it will never go to <code>YYZ</code> and the next <code>XXZ</code>-nodes will be after 10, 15, 20 steps. This is how it is solved, but I could not read this contain in the description. For example, here is an input, that does not hold the constrain:</p>
<div class="codehilite"><pre><span></span><code>LR

11A = (11D, XXX)
11B = (XXX, 11C)
11C = (11D, XXX)
11D = (XXX, 11Z)
11Z = (11B, XXX)
</code></pre></div>
<p>I was thinking all day about the problem until I analyzed the actual input and found the constrains.</p>
<p>But maybe day8 was not for humans to solve, but for ghosts <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>
</div></div>



<a name="406886144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/406886144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#406886144">(Dec 09 2023 at 04:47)</a>:</h4>
<p>Here's my solution for day 8. I got it down to 1 second for both parts (with <code>roc dev</code>).<br>
<a href="https://github.com/ryanb/advent-2023-roc/blob/main/day08/main.roc">https://github.com/ryanb/advent-2023-roc/blob/main/day08/main.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Note on performance</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>I figured the dictionary lookup was the slowest part so I played around with different types for the key. I found U16 was pretty quick so I converted each of the 3 characters into a unique ID and used that as the key.</p>
</div></div>



<a name="407165236"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%208/near/407165236" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> timotree <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.208.html#407165236">(Dec 11 2023 at 05:55)</a>:</h4>
<p>Here's my solution for day 8: <a href="https://github.com/timotree3/aoc2023/blob/main/roc/day8.roc">https://github.com/timotree3/aoc2023/blob/main/roc/day8.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Algorithm</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>I believe my solution works for all possible inputs as described in the puzzle. It takes about 6 seconds on my input.</p>
<p>After my naïve solution for part 2 was taking forever, I assumed there were hundreds of start nodes in the input and started optimizing the traversal. I came up with an algorithm to compute the destiny of every node in the input (including non-start nodes) in O(nodes * directions) time. Then once I viewed the output so far and saw that there were only six start nodes and they each only encountered one end node in their cycles, I was pretty disappointed. I still didn't realize that the cycle length was equal to the exit distance, so I implemented a general solution for satisfying the congruence restrictions mod the cycle length using an implementation of division mod the cycle length. This is actually the most explosive part of the algorithm because it would take exponential time in the number of start nodes if each start node actually hit an end node more than once per cycle.</p>
</div></div>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
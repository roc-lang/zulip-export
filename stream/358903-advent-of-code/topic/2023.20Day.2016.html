<html>
<head><meta charset="utf-8"><title>2023 Day 16 · advent of code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/index.html">advent of code</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html">2023 Day 16</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="408377898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408377898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408377898">(Dec 16 2023 at 21:52)</a>:</h4>
<p><a href="https://github.com/FabHof/aoc-2023/blob/main/day16/main.roc">https://github.com/FabHof/aoc-2023/blob/main/day16/main.roc</a><br>
Part 2 was simple again, if performance on part 1 is not horrible, part 2 is no problem.</p>



<a name="408426382"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408426382" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408426382">(Dec 17 2023 at 09:16)</a>:</h4>
<p>Here is mine: <a href="https://github.com/ostcar/aoc2023/blob/main/days/day16.roc">https://github.com/ostcar/aoc2023/blob/main/days/day16.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>About Part2</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>My Part1 took 3 seconds. So I know, that if I brute force throw part2, it would take around 20 Minutes. I did not want to do it, but in the end I failed and brute force it was.</p>
</div></div>



<a name="408668899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408668899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408668899">(Dec 18 2023 at 18:46)</a>:</h4>
<p>Here's my day 16: <a href="https://github.com/ryanb/advent-2023-roc/blob/main/day16/main.roc">https://github.com/ryanb/advent-2023-roc/blob/main/day16/main.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Part 2 Performance</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>Part 2 took 7 seconds to run. I can't think of a way to do part 2 except brute force, but performance of part 1 was good enough.</p>
</div></div>



<a name="408689912"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408689912" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Lindskogen <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408689912">(Dec 18 2023 at 21:24)</a>:</h4>
<p>I was completely stuck in terms of performance in part 2. Taking inspiration from this thread, I manage to solve it finally, albeit with performance from hell.   <a href="https://github.com/lindskogen/advent-of-code-2023/blob/main/day16/main.roc">https://github.com/lindskogen/advent-of-code-2023/blob/main/day16/main.roc</a></p>
<p>(Takes about 208s (~3min) to find both solutions)</p>



<a name="408809670"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408809670" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408809670">(Dec 19 2023 at 06:53)</a>:</h4>
<p><span class="user-mention" data-user-id="668691">@Johan Lindskogen</span> I heard from the Dec online meet-up that there's a refcounting bug with strings, and that a hack around that is using u8 instead.<br>
I replaced Str with U8 in your code, and it ran in 235 millis.<br>
Way faster than <a href="https://github.com/WhileTruu/advent-of-code-2023/blob/main/day-16.roc">my own hacky day 16 code</a> which runs in about 7 seconds :D</p>



<a name="408810663"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%2016/near/408810663" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Lindskogen <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.2016.html#408810663">(Dec 19 2023 at 06:56)</a>:</h4>
<p><span class="user-mention" data-user-id="555462">@Marten</span> That’s awesome, thank you! Will try it out today for sure!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>2023 Day 9 · advent of code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/index.html">advent of code</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html">2023 Day 9</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="406896482"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/406896482" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#406896482">(Dec 09 2023 at 06:17)</a>:</h4>
<p><a href="https://github.com/ostcar/aoc2023/blob/main/days/day09.roc">https://github.com/ostcar/aoc2023/blob/main/days/day09.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>I did not get the problem</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>I think, this was the easiest day of all. The description said exactly, what to do. And it was easy to implement that in roc.</p>
</div></div>



<a name="406897297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/406897297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Lindskogen <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#406897297">(Dec 09 2023 at 06:24)</a>:</h4>
<p><a href="https://github.com/lindskogen/advent-of-code-2023/blob/main/day09/main.roc">https://github.com/lindskogen/advent-of-code-2023/blob/main/day09/main.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Yeah, I tried a bunch of stuff first, then I too realised the description said exactly what to do <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> </p>
</div></div>



<a name="406913832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/406913832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#406913832">(Dec 09 2023 at 09:32)</a>:</h4>
<p>This is <a href="https://github.com/lukewilliamboswell/aoc/blob/main/src/S2023/D09.roc">my solution for Day 9</a>.</p>
<p>I thought this was quite nice to do with Roc, recursion and pattern matching are really nice to work with.</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>performance</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>$ roc run --optimize src/cli.roc -- 2023 9 <br>
2023 Day 9: Mirage Maintenance completed in 6 ms</p>
<hr>
<p>Part 1 took 3 ms<br>
The the sum of the LAST extrapolated values 1479011877</p>
<hr>
<p>Part 2 took 2 ms<br>
The the sum of the FIRST extrapolated values 973</p>
<p>$ roc run src/cli.roc -- 2023 9 <br>
2023 Day 9: Mirage Maintenance completed in 214 ms</p>
<hr>
<p>Part 1 took 109 ms<br>
The the sum of the LAST extrapolated values 1479011877</p>
<hr>
<p>Part 2 took 105 ms<br>
The the sum of the FIRST extrapolated values 973</p>
</div></div>



<a name="406920214"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/406920214" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#406920214">(Dec 09 2023 at 10:26)</a>:</h4>
<p>Here's mine for day 9. <a href="https://github.com/ryanb/advent-2023-roc/blob/main/day09/main.roc">https://github.com/ryanb/advent-2023-roc/blob/main/day09/main.roc</a></p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Thought about difficulty</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>Last year the difficulty seemed to increase gradually. This year the difficulty has been all over the place. I'm wondering if this was done intentionally to encourage us to do more days and not assume "If I can't do this puzzle I won't be able to do the rest".</p>
</div></div>
<div class="spoiler-block"><div class="spoiler-header">
<p>A potential optimization</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>You don’t need to calculate the difference of every value until they are all zero. Instead you can start at the last value and calculate the difference pyramid backwards until you hit a single zero. Then just sum the values on the right side of the pyramid to get your answer.</p>
<p>I was expecting part 2 to require this optimization but it didn’t so I never ended up implementing it.</p>
</div></div>



<a name="406968558"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/406968558" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#406968558">(Dec 09 2023 at 20:23)</a>:</h4>
<p><a href="https://github.com/FabHof/aoc-2023/blob/main/day9/main.roc">https://github.com/FabHof/aoc-2023/blob/main/day9/main.roc</a></p>
<p>Was pretty easy. My current solution basically does both Part 1 and 2 twice, one for each output, but it takes only a few seconds to run, so it's good enough. I start to like that you are not going to know how hard it will be.</p>



<a name="407183164"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/407183164" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> timotree <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#407183164">(Dec 11 2023 at 07:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="667613">Ryan Bates</span> <a href="#narrow/stream/358903-Advent-of-Code/topic/2023.20Day.209/near/406920214">said</a>:</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Reply</p>
</div><div class="spoiler-content" aria-hidden="true">
<blockquote>
<p>You don’t need to calculate the difference of every value until they are all zero. Instead you can start at the last value and calculate the difference pyramid backwards until you hit a single zero. </p>
</blockquote>
<p>Doesn't this break if there is a row ending in zero before the all-zeroes row? e.g.</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>4 2 1 1
 2 1 0
 -1 -1
   0
</code></pre></div>
</div></div>



<a name="407183561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/407183561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> timotree <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#407183561">(Dec 11 2023 at 07:53)</a>:</h4>
<p>My day 9: <a href="https://github.com/timotree3/aoc2023/blob/main/roc/day9.roc">https://github.com/timotree3/aoc2023/blob/main/roc/day9.roc</a></p>



<a name="407300350"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/407300350" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#407300350">(Dec 11 2023 at 18:50)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>Reply to timotree</p>
</div><div class="spoiler-content" aria-hidden="true">
<blockquote>
<p>Doesn't this break if there is a row ending in zero before the all-zeroes row? e.g.</p>
</blockquote>
<p>Ah, I think you're right. I never fully tested it.</p>
</div></div>



<a name="420518083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/2023%20Day%209/near/420518083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/2023.20Day.209.html#420518083">(Feb 08 2024 at 18:30)</a>:</h4>
<p>I have found out something very cool about part2! <br>
(It's been monts, so I'll not put this under a spoiler)<br>
You don't need to first calculate the difference lists all the way until zeroes to start calculating the prediction per line "from the tip of the piramid back to the base of it". You just need to sum up the first numbers in the difference lists as they appear with alternating sign. So for the test input below, sum up the numbers in inside the stars (the first number is positive) :</p>
<div class="codehilite"><pre><span></span><code> *10*  13  16  21  30  45
    *3*   3   5   9  15
      *0*   2   4   6
         *2*  2   2
           *0*   0
</code></pre></div>
<p>The prediction is +10-3+0-2+0 = 5. <br>
Because the algorith for the i-th line prediction is</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span>

<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo>−</mo><msub><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i = - x_{i-1} + y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>where y_i is the i-th line's first number<br>
 You can find my solution here: <a href="https://github.com/HajagosNorbert/advent-of-code-2023/blob/main/day09.roc#L37-L44">https://github.com/HajagosNorbert/advent-of-code-2023/blob/main/day09.roc#L37-L44</a></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
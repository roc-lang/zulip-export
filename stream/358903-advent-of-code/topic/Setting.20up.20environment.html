<html>
<head><meta charset="utf-8"><title>Setting up environment · advent of code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/index.html">advent of code</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html">Setting up environment</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="313206129"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313206129" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313206129">(Dec 01 2022 at 05:20)</a>:</h4>
<p>I'm already struggling to even setup an environment to work in <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="313206153"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313206153" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313206153">(Dec 01 2022 at 05:20)</a>:</h4>
<p>What's the best way to setup a cli project?</p>



<a name="313210525"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313210525" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313210525">(Dec 01 2022 at 06:10)</a>:</h4>
<p>Are you wanting to write just Roc apps? If you can download a <a href="https://github.com/roc-lang/roc/releases/tag/nightly">nightly release</a> binary from github, then make sure it is in your path. Then you can run a basic-cli app from anywhere with <code>roc run myApp.roc</code>. </p>
<p>I'm not an expert, so apologise in advance if this doesn't work for you, but I'm pretty sure that's all. </p>
<p>For an example app you could look at my <a href="https://github.com/lukewilliamboswell/roc-things/blob/main/aoc-2021/day1.roc">AoC 2021 Day 1</a>. It's not great, but shows the basics I think. Note that example links to an older URL release of basic-cli, so maybe update the url from the <a href="https://github.com/roc-lang/basic-cli/releases">basic-cli repo</a> if you want the latest version.</p>



<a name="313212002"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313212002" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313212002">(Dec 01 2022 at 06:25)</a>:</h4>
<p>I just commandeered the helloWorld.roc file from examples for now <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> </p>
<p>Now I'm running into frustrations by not being able to use <code>dbg</code> though. It just isn't giving me anything!</p>



<a name="313212096"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313212096" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313212096">(Dec 01 2022 at 06:26)</a>:</h4>
<p>Can you share an example?</p>



<a name="313213138"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313213138" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313213138">(Dec 01 2022 at 06:38)</a>:</h4>
<p>Hah! Of course as always,  a minimal repro works. Man, this is really making me think, haha.</p>



<a name="313214327"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313214327" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313214327">(Dec 01 2022 at 06:51)</a>:</h4>
<p><code>dbg</code> just landed last week, so it's very not battle tested...a non minimal repo would still be helpful if you have time to open an issue with it!</p>



<a name="313565177"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313565177" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asier Elorz (he/him) <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313565177">(Dec 02 2022 at 18:41)</a>:</h4>
<p>Hi. I am following the roc tutorial with the intention of getting the basics and then doing advent of code in roc this year. However, in the "Building an application" step, I get a panic at the compiler when trying to build the example hello world program. The problem seems to be related to downloading or compiling the platform from the GitHub releases link.</p>
<p>This is the error message I am getting, with the stacktrace:</p>
<div class="codehilite"><pre><span></span><code>~/Desktop/advent-of-code-2022/day-1-1  roc dev day-1-1.roc

Downloading https://github.com/roc-lang/basic-cli/releases/download/0.1.1/zAoiC9xtQPHywYk350_b7ust04BmWLW00sjb9ZPtSQk.tar.br
    into /home/asier/.cache/roc/packages

thread &#39;main&#39; panicked at &#39;not yet implemented: TODO gracefully handle package install error IoErr(Os { code: 18, kind: CrossesDevices, message: &quot;Invalid cross-device link&quot; })&#39;, crates/compiler/load_internal/src/file.rs:3859:37
stack backtrace:
   0: rust_begin_unwind
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/std/src/panicking.rs:584:5
   1: core::panicking::panic_fmt
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/core/src/panicking.rs:142:14
   2: roc_load_internal::file::parse_header
   3: roc_load_internal::file::load_filename
   4: roc_load_internal::file::LoadStart::from_path
   5: roc_load::load_and_monomorphize
   6: roc_cli::build::build_file
   7: roc_cli::build
   8: roc::main
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
</code></pre></div>
<p>Just in case, the program I am trying to build is exactly this:</p>
<div class="codehilite"><pre><span></span><code>app &quot;Advent of code - Day 1 - Problem 1&quot;
    packages { pf: &quot;https://github.com/roc-lang/basic-cli/releases/download/0.1.1/zAoiC9xtQPHywYk350_b7ust04BmWLW00sjb9ZPtSQk.tar.br&quot; }
    imports [pf.Stdout]
    provides [main] to pf

main =
    Stdout.line &quot;I&#39;m a Roc application&quot;
</code></pre></div>
<p>I am using a Manjaro Linux with all rolling release dependencies updated today. The roc version I am using is roc_nightly-linux_x86_64-2022-12-02-0d80e74.tar.gz, or roc --version "roc nightly pre-release, built from commit 0d80e74 on Fr 02 Dez 2022 09:08:27 UTC"</p>
<p>I'm not sure if this channel is the right place to ask, but I hope so, since it is about setting up the environment for advent of code.</p>



<a name="313566631"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313566631" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pearce Keesling <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313566631">(Dec 02 2022 at 18:49)</a>:</h4>
<p>Yeah, I also gave up trying to use dbg, I'll try to make a repro tomorrow when I'm back on that machine doing day3</p>



<a name="313566870"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313566870" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313566870">(Dec 02 2022 at 18:51)</a>:</h4>
<p>The string after <code>app</code> is supposed to be the name of the executable. Try removing the spaces?</p>



<a name="313566898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313566898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313566898">(Dec 02 2022 at 18:51)</a>:</h4>
<p>Also what's the Roc filename?</p>



<a name="313567286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313567286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asier Elorz (he/him) <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313567286">(Dec 02 2022 at 18:53)</a>:</h4>
<p>The name of the file is day-1-1.roc</p>



<a name="313567563"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313567563" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asier Elorz (he/him) <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313567563">(Dec 02 2022 at 18:54)</a>:</h4>
<p>I tried changing the name of the file to day11.roc and the app name to "AOC1" and I get the same error. I don't think I can get names simpler than that. I would guess the problem is somewhere else.</p>



<a name="313567947"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313567947" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313567947">(Dec 02 2022 at 18:56)</a>:</h4>
<p>I have a Manjaro VM, I'll try to reproduce this tomorrow.</p>



<a name="313569568"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313569568" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313569568">(Dec 02 2022 at 19:05)</a>:</h4>
<p><span class="user-mention" data-user-id="479448">@Asier Elorz (he/him)</span> I have the exact same issue on my Fedora box when trying to use the basic cli platform from github releases - the download fails.</p>
<p>What I have been dong instead, is placing my roc files at the top level for the <code>roc</code> repo examples folder, and copying the platform path from helloWorld.roc. That at least has gotten me up and running</p>



<a name="313569667"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313569667" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313569667">(Dec 02 2022 at 19:05)</a>:</h4>
<p><span class="user-mention" data-user-id="505035">@Braydon Hall</span> what OS is this on?</p>



<a name="313569782"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313569782" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Braydon Hall <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313569782">(Dec 02 2022 at 19:06)</a>:</h4>
<p>Haha, just updated, sorry. Fedora 35</p>



<a name="313571292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/358903-advent%20of%20code/topic/Setting%20up%20environment/near/313571292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asier Elorz (he/him) <a href="https://roc-lang.github.io/zulip-export/stream/358903-advent-of-code/topic/Setting.20up.20environment.html#313571292">(Dec 02 2022 at 19:14)</a>:</h4>
<p>I have more information. I downloaded and decompressed the platform, then tried to reference it locally. I am not sure if I am doing it correctly, but just in case I will post the message.</p>
<p>The program now is:</p>
<div class="codehilite"><pre><span></span><code>app &quot;advent-of-code-1-1&quot;
    packages { pf: &quot;../Platform/main.roc&quot; }
    imports [pf.Stdout]
    provides [main] to pf

main =
    Stdout.line &quot;I&#39;m a Roc application&quot;
</code></pre></div>
<p>where ~/Desktop/advent-of-code-2022/Platform is a directory that contains the contents of the .tar.br in the GitHub releases page and nothing else.</p>
<p>The error message now is:</p>
<div class="codehilite"><pre><span></span><code>~/Desktop/advent-of-code-2022/day-1-1  roc dev day-1-1.roc
🔨 Rebuilding platform...
An internal compiler expectation was broken.
This is definitely a compiler bug.
Please file an issue here: https://github.com/roc-lang/roc/issues/new/choose
thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;failed to open file &quot;../Platform/dynhost&quot;: No such file or directory (os error 2)&#39;, crates/linker/src/lib.rs:513:29
stack backtrace:
   0: rust_begin_unwind
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/std/src/panicking.rs:584:5
   1: core::panicking::panic_fmt
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/core/src/panicking.rs:142:14
   2: roc_linker::open_mmap
   3: roc_linker::elf::preprocess_elf
   4: roc_linker::build_and_preprocess_host
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
thread &#39;main&#39; panicked at &#39;Failed to (re)build platform.: Any { .. }&#39;, crates/cli/src/build.rs:342:46
stack backtrace:
   0: rust_begin_unwind
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/std/src/panicking.rs:584:5
   1: core::panicking::panic_fmt
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/core/src/panicking.rs:142:14
   2: core::result::unwrap_failed
             at /rustc/a55dd71d5fb0ec5a6a3a9e8c27b2127ba491ce52/library/core/src/result.rs:1814:5
   3: roc_cli::build::build_file
   4: roc_cli::build
   5: roc::main
</code></pre></div>
<p>I am posting it since it says it is definitely a compiler bug. I have also submitted an issue to GitHub as the error message suggests: <a href="https://github.com/roc-lang/roc/issues/4663">https://github.com/roc-lang/roc/issues/4663</a></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
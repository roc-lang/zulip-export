<html>
<head><meta charset="utf-8"><title>combining roc with rust libraries · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html">combining roc with rust libraries</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="553303556"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553303556" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drewry Pope <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553303556">(Nov 03 2025 at 05:08)</a>:</h4>
<p>i understand the new code to be using zig, i want to use iroh with roc, iroh is a rust library. how feasible is using roc from rust at this point? I'm guessing you would use ffi against the c bindings? I'm also guessing it might be easier to make c bindings for a rust lib and then call those from roc, does that seem like the right way to go about it? I figure calling rust from zig will be easier since the roc compiler has its own processes and expects zig.</p>



<a name="553306251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553306251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553306251">(Nov 03 2025 at 05:51)</a>:</h4>
<p>Roc has no FFI, so to integrate Roc with any language, you would need to write a Roc platform in that language. Platforms can be in any language, so the Zig rewrite of the compiler won't affect this. The platform is compiled and linked with a Roc app, then the combined platform+app will run the host code (e.g. some Rust code that uses iroh) and call your Roc code.</p>
<p>Someone else will come along and explain this better than me and guide you to resources on writing a platform. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="553335244"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553335244" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niclas Ahden <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553335244">(Nov 03 2025 at 09:30)</a>:</h4>
<p>+1 to what Hannes said. Here's a resource to learn more: <a href="https://www.roc-lang.org/platforms">https://www.roc-lang.org/platforms</a></p>
<p>Platforms isn't the easiest thing to get into right now as most contributions are made toward moving the language itself forward first. However, if you're up for some experimentation and tinkering you'll have fun :)</p>
<p>An easy way to get started is to extend an existing platform like <a href="https://github.com/roc-lang/basic-cli"><code>basic-cli</code></a> or <a href="https://github.com/roc-lang/basic-webserver"><code>basic-webserver</code></a>. Perhaps you just need to add a few dependencies and functions in there and you're done?</p>
<p>The new compiler will change the language, and how platforms are built, so if you go into it expecting changes along the line you'll be fine :)</p>



<a name="553474286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553474286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553474286">(Nov 03 2025 at 20:25)</a>:</h4>
<blockquote>
<p>Roc has no FFI</p>
</blockquote>
<p>A better way to word this might be that all FFI in roc is controlled by the platform. By default, this tends to mean that to expose something via FFI is to extend a platform or create a new one.</p>
<p>A platform technically could expose raw bindings to libFFI. If it did so, it would enable roc apps to have total control for FFI to any library.</p>



<a name="553474329"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553474329" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553474329">(Nov 03 2025 at 20:26)</a>:</h4>
<p>I don't know enough about iroh to give any concrete suggestions here though.</p>



<a name="553476077"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/553476077" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drewry Pope <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#553476077">(Nov 03 2025 at 20:38)</a>:</h4>
<p>thank you both <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> I'll play with it and see how it goes</p>



<a name="556660832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/556660832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drewry Pope <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#556660832">(Nov 16 2025 at 06:01)</a>:</h4>
<p>something I had trouble with before, and I don't know probably this was the old compiler but maybe true with either-- I understand the part of platform that I would add, is there an interface or documentation for the list of roc_ functions a platform would need to work? I made a list at one point by looking at old cli/webserver code. Is that the full list? Are there optional functions? This is more theoretical ensuring I fully understand how it works, in practice I'm going to take one of the existing and make it look how I want for now.</p>



<a name="556661347"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/556661347" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#556661347">(Nov 16 2025 at 06:10)</a>:</h4>
<p>I don't think we have it officially written down somewhere (and the api changes between the old and the new compiler). This should be the full list of required functions: <a href="https://github.com/roc-lang/roc/blob/824c243d06a820babcbeb85e97c94c0cbfca5c9e/test/int/platform/host.zig#L105-L110">https://github.com/roc-lang/roc/blob/824c243d06a820babcbeb85e97c94c0cbfca5c9e/test/int/platform/host.zig#L105-L110</a> (this is in the new compiler setup).</p>



<a name="556661418"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/556661418" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drewry Pope <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#556661418">(Nov 16 2025 at 06:11)</a>:</h4>
<p>Thank you!!</p>



<a name="556661888"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/556661888" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drewry Pope <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#556661888">(Nov 16 2025 at 06:23)</a>:</h4>
<p>Something else I had noticed, and I'm hoping you can confirm or clarify--</p>
<p>The docs split out platform and app, but then digging a bit deeper it seems what you're referring to as platform, is in fact, host/platform, or as I've recently taken to calling it, host plus platform. ;-)</p>
<p>Back in July I tried to map out how all this works and ended up with a diagram that makes me feel a little like Charlie ranting about Pepe Silvia.</p>
<p><a href="/user_uploads/22008/34HAp6J27b5ZOmG8DQn1LwE4/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/34HAp6J27b5ZOmG8DQn1LwE4/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="4456x2951" src="/user_uploads/thumbnail/22008/34HAp6J27b5ZOmG8DQn1LwE4/image.png/840x560.webp"></a></div><p>I'm sure that this diagram isn't right and maybe was focused on the older compiler.</p>
<p>I guess my question is, how do you see the role of host in roc applications? Do you see this as distinct from platforms or so tightly ingrained where the host should exist for and be dedicated to just one platforms specific needs?</p>



<a name="556661998"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/combining%20roc%20with%20rust%20libraries/near/556661998" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/combining.20roc.20with.20rust.20libraries.html#556661998">(Nov 16 2025 at 06:26)</a>:</h4>
<p>As I use the term, a platform is a host (code in some other langauge) + a roc api.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
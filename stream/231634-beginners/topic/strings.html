<html>
<head><meta charset="utf-8"><title>strings · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html">strings</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="248673520"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248673520" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248673520">(Aug 06 2021 at 21:59)</a>:</h4>
<p>Where can I find the functions available in the String (Str ?) library?</p>



<a name="248675566"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248675566" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248675566">(Aug 06 2021 at 22:25)</a>:</h4>
<p>this is probably the most up-to-date list <a href="https://github.com/rtfeldman/roc/blob/trunk/compiler/module/src/symbol.rs#L905">https://github.com/rtfeldman/roc/blob/trunk/compiler/module/src/symbol.rs#L905</a></p>



<a name="248675581"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248675581" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248675581">(Aug 06 2021 at 22:25)</a>:</h4>
<p>not very discoverable or friendly, but that's what's actually implemented</p>



<a name="248682194"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248682194" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248682194">(Aug 07 2021 at 00:06)</a>:</h4>
<p>I'll work on improving that tonight!</p>



<a name="248692072"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248692072" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248692072">(Aug 07 2021 at 03:08)</a>:</h4>
<p>Excellent!  I've decoded just a tad, see section 6 of <a href="https://l1-lab.lamdera.app/g/jxxcarlson-the-roc-language-by-example-2021-08-05">https://l1-lab.lamdera.app/g/jxxcarlson-the-roc-language-by-example-2021-08-05</a> -- will belay and look at what you do.</p>
<p>Here is the beginning of some notes on parser combinators: <a href="https://l1-lab.lamdera.app/g/jxxcarlson-roc-parser-combinator-notes-2021-08-07">https://l1-lab.lamdera.app/g/jxxcarlson-roc-parser-combinator-notes-2021-08-07</a>  <br>
Some questions there (all very brief)</p>



<a name="248692174"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248692174" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248692174">(Aug 07 2021 at 03:10)</a>:</h4>
<p>One question.  Is it possible to split a string <code>(x:xs)</code> into <code>Pair x xs</code>? By <code>(x:xs)</code>, I mean <code>x = first char</code>, <code>xs = the rest</code>.</p>



<a name="248692514"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248692514" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248692514">(Aug 07 2021 at 03:19)</a>:</h4>
<p>Something like <code>String.uncons</code> in Elm</p>



<a name="248721993"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248721993" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248721993">(Aug 07 2021 at 15:41)</a>:</h4>
<blockquote>
<p>One question.  Is it possible to split a string <code>(x:xs)</code> into <code>Pair x xs</code>? By <code>(x:xs)</code>, I mean <code>x = first char</code>, <code>xs = the rest</code>.</p>
</blockquote>
<p>I don't think so. I find elm has a small number of builtins in general so if it's in elm it might be worth including in roc as well, <span class="user-mention" data-user-id="281383">@Richard Feldman</span> <span class="user-mention" data-user-id="281543">@Folkert de Vries</span>.</p>



<a name="248722376"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248722376" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248722376">(Aug 07 2021 at 15:49)</a>:</h4>
<p>About the questions in the notes:</p>
<blockquote>
<p>Can we import stuff into the repl?</p>
</blockquote>
<p>No, I dont't think so. Although I think we planned on adding that in the future.</p>
<blockquote>
<p>Need to learn how put these in a module (or interface???) and how to make use of what is in that file in a test app or in the repl.</p>
</blockquote>
<p><a href="https://github.com/rtfeldman/roc/blob/trunk/examples/benchmarks/QuicksortApp.roc">examples/benchmarks/QuicksortApp.roc</a> uses things from the Quicksort interface. That should be a good example for you.</p>



<a name="248725930"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248725930" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248725930">(Aug 07 2021 at 17:14)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="361169">@Anton</span> , very helpful!</p>



<a name="248728852"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248728852" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248728852">(Aug 07 2021 at 18:23)</a>:</h4>
<p>ok, I wrote up a bunch of notes on string parsing API thoughts!</p>
<p><a href="https://gist.github.com/rtfeldman/ae69d41e0f73d3059d14b7d54186edc1">https://gist.github.com/rtfeldman/ae69d41e0f73d3059d14b7d54186edc1</a></p>



<a name="248728868"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248728868" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248728868">(Aug 07 2021 at 18:23)</a>:</h4>
<p>some of those things that aren't implemented should be very quick, and good beginner projects for contributing to the compiler - if anyone wants to pair on implementing any of them this weekend, DM me!</p>



<a name="248732091"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248732091" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248732091">(Aug 07 2021 at 19:39)</a>:</h4>
<p>also, love to hear any feedback anyone has about that gist <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>



<a name="248734915"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248734915" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248734915">(Aug 07 2021 at 20:49)</a>:</h4>
<p>I like that the design of <code>Str</code> has the specific use case of "writing arbitrary string parsers" and pattern matching APIs geared towards it. In my experience with scripting languages, there's a perpetual temptation to hack together code that sort of works using clever hash-table and string manipulation, so if the ergonomics of Roc can guide users towards modeling their problem with data structures instead, that's a win. </p>
<p>To that end, I'd propose keeping the API of strings reasonably minimal. What exists now seems reasonable, and a few more helpers might be nice, but I'd get nervous about adding too much regular expression sugar or Rubyims like <code>squeeze</code> and friends. I also think the temptation to write <code>Str.length</code> and other similar functions gives us the chance to add lots of lovely compiler messages about why strings can be so confusing and why you might want to choose something else.</p>
<p>Could we build mechanisms into the compiler/editor to help application and platform writers decide where their parsing functions belong? I could envision a scenario where a platform author adds a built-in after discovering application developers writing lots of similar parsing code. Would adding explicit tooling for that use-case be worthwhile? Probably not yet, but maybe in the future...</p>
<p>Philosophically, I think users tend to be happier when they understand the why of an API, not merely the what. I thought the gist did a good job conveying that <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="248735848"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248735848" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chad Stearns <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248735848">(Aug 07 2021 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/231634-beginners/topic/strings/near/248732091">said</a>:</p>
<blockquote>
<p>also, love to hear any feedback anyone has about that gist <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>
</blockquote>
<p>Makes a lot of sense to me. I like it.</p>



<a name="248742769"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248742769" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248742769">(Aug 08 2021 at 00:15)</a>:</h4>
<p>gist nice</p>



<a name="248742775"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248742775" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248742775">(Aug 08 2021 at 00:15)</a>:</h4>
<p>Elixir has the best string story I’ve seen so far.</p>
<p><a href="https://elixir-lang.org/getting-started/binaries-strings-and-char-lists.html">https://elixir-lang.org/getting-started/binaries-strings-and-char-lists.html</a></p>



<a name="248742823"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248742823" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248742823">(Aug 08 2021 at 00:16)</a>:</h4>
<p>they take into account graphemes and have some gnarly pattern matching for them too</p>



<a name="248742975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248742975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248742975">(Aug 08 2021 at 00:20)</a>:</h4>
<p>Woaaah, the bitstring matching looks freaking slick</p>



<a name="248743050"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743050" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743050">(Aug 08 2021 at 00:22)</a>:</h4>
<p>yea aside from that matching roc has a lot of what elixir does with strings</p>



<a name="248743056"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743056" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743056">(Aug 08 2021 at 00:22)</a>:</h4>
<p>‘(‘ vs. 40</p>



<a name="248743069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743069">(Aug 08 2021 at 00:23)</a>:</h4>
<p>In elixir a list of numbers will print as a Charlist if the numbers are a readable sequence of characters</p>



<a name="248743140"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743140" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743140">(Aug 08 2021 at 00:24)</a>:</h4>
<p>well in roc you could match on bytes but elixir has that wild thing where you can say what sizes each chunk should be</p>



<a name="248743303"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743303" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743303">(Aug 08 2021 at 00:29)</a>:</h4>
<p><a href="/user_uploads/22008/ARcEnQG_dbDl3Y0W1AHvODj4/IMG_7600.PNG">IMG_7600.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/ARcEnQG_dbDl3Y0W1AHvODj4/IMG_7600.PNG" title="IMG_7600.PNG"><img src="/user_uploads/22008/ARcEnQG_dbDl3Y0W1AHvODj4/IMG_7600.PNG"></a></div>



<a name="248743317"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743317" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743317">(Aug 08 2021 at 00:29)</a>:</h4>
<p>Wild is the right word, I wanna go read a parser in Elixir now</p>



<a name="248743403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743403">(Aug 08 2021 at 00:31)</a>:</h4>
<p><a href="https://github.com/elixir-ecto/ecto/blob/v3.5.4/lib/ecto/uuid.ex">https://github.com/elixir-ecto/ecto/blob/v3.5.4/lib/ecto/uuid.ex</a></p>



<a name="248743406"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743406" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743406">(Aug 08 2021 at 00:31)</a>:</h4>
<p>this is how one would generate a UUID with the same syntax</p>



<a name="248743526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248743526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248743526">(Aug 08 2021 at 00:34)</a>:</h4>
<p><a href="https://github.com/elixir-ecto/ecto/blob/6aea34e865f05c9f0ffa9d3c78219e21a63527c7/lib/ecto/uuid.ex#L163">https://github.com/elixir-ecto/ecto/blob/6aea34e865f05c9f0ffa9d3c78219e21a63527c7/lib/ecto/uuid.ex#L163</a></p>
<p>I don't know if I'd want to read code that looks like this every day, but in isolation... wow, that's gorgeous</p>



<a name="248744215"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248744215" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248744215">(Aug 08 2021 at 00:53)</a>:</h4>
<p>Thanks so much!  The link above was really helpful, and as I mentioned in my reply to your Gist, I think that the foundation is almost there for writing fault-tolerant pasrsers.</p>



<a name="248745526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248745526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248745526">(Aug 08 2021 at 01:27)</a>:</h4>
<p>Richard, I put a very brief comment in your gist.  I'm satisfied that this lays a good foundation for what I want to do — implement something along the lines of <a href="https://www.cs.nott.ac.uk/~pszgmh/monparsing.pdf">Hughes and Meijer: Parse Combinators</a>.  I'm going to have a go at it and can probably have more specific feedback after I've gotten into the code.</p>



<a name="248751469"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751469" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751469">(Aug 08 2021 at 04:08)</a>:</h4>
<p>Is there an analogue of Elm's <code>Debug.toString</code>?</p>



<a name="248751532"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751532" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751532">(Aug 08 2021 at 04:10)</a>:</h4>
<p>there is not...the plan is to do that through the editor, but that's a ways off <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="248751595"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751595" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751595">(Aug 08 2021 at 04:12)</a>:</h4>
<p>OK!</p>



<a name="248751648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751648">(Aug 08 2021 at 04:14)</a>:</h4>
<p>FYI, <span class="user-mention" data-user-id="430829">@James Carlson</span> you can now find up-to-date (as in, what's actually currently implemented) documentation for the <code>Str</code> module at <a href="https://www.roc-lang.org/builtins/Str">https://www.roc-lang.org/builtins/Str</a> - so far I've only added <code>Str</code> and <code>Bool</code> there, but I'm hoping to add the other builtin modules soon!</p>



<a name="248751653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751653">(Aug 08 2021 at 04:15)</a>:</h4>
<p>there's a bug where <code>Bool</code> is always the expanded module on the sidebar; I'll fix that tomorrow!</p>



<a name="248751763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751763">(Aug 08 2021 at 04:19)</a>:</h4>
<p>Fantastic!</p>



<a name="248751836"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248751836" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248751836">(Aug 08 2021 at 04:21)</a>:</h4>
<p>Extremely cool that <code>List.len</code> returns a <code>Nat</code>!  That's the way it's supposed to be.</p>



<a name="248752191"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752191" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752191">(Aug 08 2021 at 04:33)</a>:</h4>
<p>Why this error?</p>
<div class="codehilite"><pre><span></span><code>I expected to reach the end of the file, but got stuck here:

1│  interface MiniParsec exposes [ result, test1 ] imports []
2│
3│  result = \v -&gt; (\inp -&gt; [Pair v inp])
4│
5│  test1 n = (result &quot;a&quot;) n  |&gt; List.len
        ^

no hints%
</code></pre></div>
<p>There is a blank line 6</p>



<a name="248752412"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752412" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752412">(Aug 08 2021 at 04:40)</a>:</h4>
<p>Oops, the caret should be at the beginning of line 5</p>



<a name="248752540"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752540" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752540">(Aug 08 2021 at 04:45)</a>:</h4>
<p>can you file an issue for it? that's a confusing error message!</p>



<a name="248752546"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752546" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752546">(Aug 08 2021 at 04:45)</a>:</h4>
<p>the problem is that functions are always defined using lambdas in Roc - should be <code>test1 = \n -&gt; ...</code></p>



<a name="248752653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752653">(Aug 08 2021 at 04:49)</a>:</h4>
<p>Ah ok, i forgot that.  Will file</p>



<a name="248752705"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248752705" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248752705">(Aug 08 2021 at 04:50)</a>:</h4>
<p>ok, I fixed the sidebar bug on <a href="https://www.roc-lang.org/builtins/Str">https://www.roc-lang.org/builtins/Str</a> - you have to refresh the page to get it instead of the cached version, because I haven't set up hashed assets on Netlify yet <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="248753132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248753132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248753132">(Aug 08 2021 at 05:04)</a>:</h4>
<p>Very nice! Here is another one.  First, we have</p>
<div class="codehilite"><pre><span></span><code># MiniParsec.roc
interface MiniParsec exposes [ result, test1, idNat] imports []

result : a -&gt; (b -&gt; List [ Pair a b ]*)
result = \v -&gt; (\inp -&gt; [Pair v inp])

test1 : Nat -&gt; Nat
test1 = \n -&gt; (result &quot;a&quot;) n  |&gt; List.len

idNat : Nat -&gt; Nat
idNat = \n -&gt; n
</code></pre></div>
<p>Then this:</p>
<div class="codehilite"><pre><span></span><code># ParseApp.roc
app &quot;parseap&quot;
    packages { base: &quot;platform&quot; }
    imports [base.Task, MiniParsec]
    provides [ main ] to base

main : Task.Task {} []
main =
    Task.after Task.getInt \n -&gt;
        MiniParsec.idNat n
            |&gt; Str.fromInt
            |&gt; Task.putLine
</code></pre></div>
<p>But the below hangs after entering an integer (5):</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(trunk) ✗ cargo run run jim/ParseApp.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.77s
     Running `target/debug/roc run jim/ParseApp.roc`
5
</code></pre></div>



<a name="248767221"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767221" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767221">(Aug 08 2021 at 12:03)</a>:</h4>
<p>I'll take a look</p>



<a name="248767446"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767446" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767446">(Aug 08 2021 at 12:08)</a>:</h4>
<p>the compiler hanging is odd. Usually it just panics, I think it hanging could only be an infinite loop ?!</p>



<a name="248767485"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767485" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767485">(Aug 08 2021 at 12:08)</a>:</h4>
<p>well, really your program here is running forever</p>



<a name="248767492"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767492" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767492">(Aug 08 2021 at 12:08)</a>:</h4>
<p>which, if it's a compiler problem would usually segfault</p>



<a name="248767802"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767802" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767802">(Aug 08 2021 at 12:16)</a>:</h4>
<p>got it. <code>getInt</code> returns a <code>I64</code>, but then you try to use it as an <code>Int</code></p>



<a name="248767818"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767818" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767818">(Aug 08 2021 at 12:17)</a>:</h4>
<p>normally, that should give a good error message, but in this case I guess you built the compiler with <code>--release</code> (turning off debug messages) and the application hits a panic at a later stage because the input is illtyped and therefore malformed</p>



<a name="248767831"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767831" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767831">(Aug 08 2021 at 12:17)</a>:</h4>
<p>I just got it too :)</p>



<a name="248767872"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248767872" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248767872">(Aug 08 2021 at 12:18)</a>:</h4>
<p>using <code>        idNat (Num.intCast n)</code> allows you to cast any integer type to another</p>



<a name="248771871"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248771871" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248771871">(Aug 08 2021 at 13:53)</a>:</h4>
<p>OK, on my end, I will clean up my bad types</p>



<a name="248772397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248772397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248772397">(Aug 08 2021 at 14:05)</a>:</h4>
<p>Hmm .. I am getting the same behavior with </p>
<div class="codehilite"><pre><span></span><code>idI64 : I64 -&gt; I64
idI64 = \n -&gt; n
</code></pre></div>



<a name="248773410"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248773410" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248773410">(Aug 08 2021 at 14:31)</a>:</h4>
<p>Hmmm, do you have something different than I?</p>
<div class="codehilite"><pre><span></span><code>interface MiniParsec exposes [ result, test1, idI64] imports []

result : a -&gt; (b -&gt; List [ Pair a b ]*)
result = \v -&gt; (\inp -&gt; [Pair v inp])

test1 : Nat -&gt; Nat
test1 = \n -&gt; (result &quot;a&quot;) n  |&gt; List.len

idI64 : I64 -&gt; I64
idI64 = \n -&gt; n
</code></pre></div>
<div class="codehilite"><pre><span></span><code>app &quot;parseap&quot;
    packages { base: &quot;platform&quot; }
    imports [base.Task, MiniParsec]
    provides [ main ] to base

main : Task.Task {} []
main =
    Task.after Task.getInt \n -&gt;
        MiniParsec.idI64 n
            |&gt; Str.fromInt
            |&gt; Task.putLine
</code></pre></div>



<a name="248773416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248773416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248773416">(Aug 08 2021 at 14:31)</a>:</h4>
<p>This is working for me</p>



<a name="248776475"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776475" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776475">(Aug 08 2021 at 15:46)</a>:</h4>
<p>We seem to have identical files (after insertion of whitespace).  I verified with <code>diff</code>.  However, it may be that I had not run <code>git pull</code>.  Now I'm not sure which command to run (after the git pull):</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(trunk) ✗ cargo run run jim/ParseApp.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.28s
     Running `target/debug/roc run jim/ParseApp.roc`
`roc run` is deprecated! (You no longer need the `run` - just do `roc [FILE]` instead of `roc run [FILE]` like before.

➜  roc git:(trunk) ✗ roc jim/ParseApp.roc
zsh: command not found: roc

➜  roc git:(trunk) ✗ cargo roc jim/ParseApp.roc
error: no such subcommand: `roc`

    Did you mean `doc`?

➜  roc git:(trunk) ✗ cargo run roc jim/ParseApp.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.25s
     Running `target/debug/roc roc jim/ParseApp.roc`
File not found: roc
</code></pre></div>
<p>Hmmmm ....</p>



<a name="248776589"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776589" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776589">(Aug 08 2021 at 15:49)</a>:</h4>
<p>With cargo it's <code>cargo run jim/ParseApp.roc</code> now</p>



<a name="248776642"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776642" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776642">(Aug 08 2021 at 15:50)</a>:</h4>
<p>I'll improve the suggestion in the deprecation message</p>



<a name="248776699"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776699" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776699">(Aug 08 2021 at 15:52)</a>:</h4>
<p>The suggestion refers to roc as in <code>target/debug/roc</code></p>



<a name="248776797"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776797" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776797">(Aug 08 2021 at 15:55)</a>:</h4>
<p>It's really helpful to have you trying out all this stuff <span class="user-mention" data-user-id="430829">@James Carlson</span>  :)</p>



<a name="248776850"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248776850" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248776850">(Aug 08 2021 at 15:56)</a>:</h4>
<p>I am well-known for my ability to commit errors , blunders, oversights, and mess-ups of all kinds <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="248777328"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248777328" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248777328">(Aug 08 2021 at 16:08)</a>:</h4>
<p>Hmm .. really strange.  I copied Anton's code verbatim, have done git pull, and  <code>cargo run jim/ParseApp.roc</code> still "hangs" when I enter "5&lt;RETURN&gt;"</p>



<a name="248777395"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248777395" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248777395">(Aug 08 2021 at 16:10)</a>:</h4>
<p>Can you tell me what platform you are using? I put the two files in <code>examples/benchmarks</code> so  I'm using <code>examples/benchmarks/platform</code></p>



<a name="248778100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248778100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248778100">(Aug 08 2021 at 16:31)</a>:</h4>
<p>maybe he isn’t using a platform and that’s why stuff is acting up?</p>



<a name="248778109"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248778109" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248778109">(Aug 08 2021 at 16:31)</a>:</h4>
<p>I think that would result in some kind of file error tho so maybe not</p>



<a name="248780707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248780707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248780707">(Aug 08 2021 at 17:42)</a>:</h4>
<p>Yep I just tried it. That's what happens when there is no platform. I'll make an issue for a better error.</p>



<a name="248780951"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248780951" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248780951">(Aug 08 2021 at 17:49)</a>:</h4>
<p>#1552</p>



<a name="248782937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248782937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248782937">(Aug 08 2021 at 18:38)</a>:</h4>
<p>I moved <code>jim/</code> into <code>./examples/benchmarks</code>.  However, I get the same error:</p>
<div class="codehilite"><pre><span></span><code>➜  benchmarks git:(trunk) ✗ cargo run jim/ParseApp.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.68s
     Running `/Users/jxxcarlson/dev/roc/roc/target/debug/roc jim/ParseApp.roc`
9
^C
</code></pre></div>
<p>I've pushed a new branch <code>jim</code> with my code.</p>



<a name="248784106"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248784106" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248784106">(Aug 08 2021 at 19:05)</a>:</h4>
<p>hmm, I don't see a <code>jim</code> folder when I check out that branch, or a <code>ParseApp.roc</code> <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> - maybe something didn't get pushed?</p>



<a name="248784282"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248784282" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248784282">(Aug 08 2021 at 19:08)</a>:</h4>
<p>but here are the critical ingredients:</p>
<ol>
<li>You're running the <code>cargo run</code> command from the root <code>roc/</code> directory (with the main <code>rtfeldman/roc</code> README file in it)</li>
<li>The <code>cargo run</code> command is being passed the path to your <code>.roc</code> application file, relative to the current directory - so for example if you're running <code>cargo</code> from <code>~/roc/</code> and the <code>.roc</code> file you want to run is in <code>~/roc/examples/ParseApp.roc</code> then you'd run that with <code>cargo run examples/ParseApp.roc</code></li>
<li>Your <code>ParseApp.roc</code> has a  <code>platform/</code> folder in the same directory as it (for example, in <code>examples/hello-world/</code> there's  <code>examples/hello-world/Hello.roc</code> and also <code>examples/hello-world/platform/</code>)</li>
</ol>



<a name="248784355"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248784355" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248784355">(Aug 08 2021 at 19:10)</a>:</h4>
<p>so for the command <code>cargo run jim/ParseApp.roc</code> to work, you'd need to be able to run <code>ls jim/ParseApp.roc</code> and have that succeed, and also <code>ls jim/platform/</code> and have that succeed too</p>



<a name="248784363"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248784363" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248784363">(Aug 08 2021 at 19:11)</a>:</h4>
<p>if either of those <code>ls</code> commands fails, then something is amiss!</p>



<a name="248790565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248790565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248790565">(Aug 08 2021 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span>  — All is good!  I moved the contents of <code>examples/benchmarks/jim</code> into <code>examples/benchmarks/</code> and ran this:</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(jim) ✗ cargo run examples/benchmarks/ParseApp.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.25s
     Running `target/debug/roc examples/benchmarks/ParseApp.roc`
8
8
runtime: 466.063ms
➜  roc git:(jim) ✗
</code></pre></div>
<p>This was of course a dry run for doing real work. <span aria-label="laughter tears" class="emoji emoji-1f602" role="img" title="laughter tears">:laughter_tears:</span></p>



<a name="248790640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248790640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248790640">(Aug 08 2021 at 21:51)</a>:</h4>
<p>Yes, I forgot to commit some files.  I had misgivings about putting stuff in <code>examples/benchmarks</code>, but then I realized that no one can see them in the working branch. ((Hurrah!))</p>



<a name="248790685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248790685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248790685">(Aug 08 2021 at 21:52)</a>:</h4>
<p>FWIW, I pushed <code>jim</code></p>



<a name="248791041"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248791041" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248791041">(Aug 08 2021 at 22:01)</a>:</h4>
<p>awesome, glad we got it resolved! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="248791063"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248791063" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248791063">(Aug 08 2021 at 22:02)</a>:</h4>
<p>also, this experience report helped identify several improvements to make, so thank you so much for your patience! <span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>



<a name="248791845"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248791845" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248791845">(Aug 08 2021 at 22:20)</a>:</h4>
<p>I love the bleeding edge, LOL!  </p>
<p>Question: is there some kind of <code>Task.getLine</code> to pair with <code>Task.putline</code>?</p>



<a name="248792108"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248792108" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248792108">(Aug 08 2021 at 22:27)</a>:</h4>
<p>depends on the platform. I think you're using the one in benchmarks<br>
<a href="https://github.com/rtfeldman/roc/blob/trunk/examples/benchmarks/platform/Task.roc">https://github.com/rtfeldman/roc/blob/trunk/examples/benchmarks/platform/Task.roc</a></p>
<p>and I don't see a getLine in that one. There seems to be a getInt tho</p>



<a name="248793706"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248793706" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248793706">(Aug 08 2021 at 23:13)</a>:</h4>
<p>Never mind, all good and getting better!</p>



<a name="248798548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248798548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248798548">(Aug 09 2021 at 01:32)</a>:</h4>
<p>Nice</p>



<a name="248815589"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248815589" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248815589">(Aug 09 2021 at 07:57)</a>:</h4>
<p>Hmm ... What does this mean?</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(dev) ✗ vr parser
    Finished dev [unoptimized + debuginfo] target(s) in 0.68s
     Running `target/debug/roc examples/benchmarks/ParseApp.roc`
thread &#39;main&#39; panicked at &#39;There were still outstanding Arc references to module_ids&#39;, /Users/jxxcarlson/dev/roc/roc/compiler/load/src/file.rs:1576:33
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
error: Failed at the parser script
</code></pre></div>
<p>Here <code>vr parser == cargo run examples/benchmarks/ParseApp.roc</code> where <code>vr  == velociraptor</code></p>



<a name="248816742"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248816742" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248816742">(Aug 09 2021 at 08:13)</a>:</h4>
<p>What's velociraptor?</p>



<a name="248867123"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248867123" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248867123">(Aug 09 2021 at 15:55)</a>:</h4>
<p>Velociraptor is a script runner very lean and clean: <a href="https://dev.to/umbo/velociraptor-an-npm-style-script-runner-for-deno-26a">https://dev.to/umbo/velociraptor-an-npm-style-script-runner-for-deno-26a</a></p>



<a name="248873444"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248873444" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248873444">(Aug 09 2021 at 16:38)</a>:</h4>
<p>It behaves the same without velociraptor right?</p>



<a name="248873763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248873763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248873763">(Aug 09 2021 at 16:41)</a>:</h4>
<p>Can you push it to the Jim branch?</p>



<a name="248889060"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248889060" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248889060">(Aug 09 2021 at 18:36)</a>:</h4>
<p>Yes, the same .  Just pushed the script.  I really like velociraptor.  No bloat.</p>



<a name="248906607"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248906607" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248906607">(Aug 09 2021 at 20:54)</a>:</h4>
<p>Is there an analogue of Elm's </p>
<div class="codehilite"><pre><span></span><code>List.concat : List (List a) -&gt; List a
</code></pre></div>
<p>??</p>



<a name="248906843"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248906843" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248906843">(Aug 09 2021 at 20:56)</a>:</h4>
<p>Ah: <code>List.join</code> !! Figures!</p>



<a name="248907990"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248907990" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248907990">(Aug 09 2021 at 21:05)</a>:</h4>
<p>I've made progress with <code>MiniParsec.roc</code> in the <code>jim</code> branch: the primitive parsers <code>zero</code> (always fails), <code>result</code> (always succeeds, consumes no input), and <code>item</code>: consumes one character and otherwise fails.  Also, possibly correct <code>Parser.map</code> and <code>Parser.andThen</code> where <code>Parser  = MiniParsec</code>.  Pretty much trying to follow the paper by Hughes &amp; Meijer.</p>
<p>What would speed things up enormously  is the ability to import interfaces into the repl to experiment with them.  Not sure if this is easy, medium, or hard, but it will be great when it gets there.</p>
<p>I'll probably give the primitive parsers better names and rename the parser interface to something less pretentious.</p>
<p>As part of this, I wrote the beginnings of an interface <code>Pair.roc</code> with functions <code>first</code> and <code>second</code>, like Elm's <code>Tuple</code> stuff, and also some mapping functions:</p>
<div class="codehilite"><pre><span></span><code>first : [Pair a b] -&gt; a
first = \(Pair a _) -&gt; a

second : [Pair a b] -&gt; b
second = \(Pair _ b) -&gt; b


mapFirst : [Pair a x], (a -&gt; b) -&gt; [Pair b x]
mapFirst =
  \(Pair a b), f -&gt; (Pair (f a) b)

mapSecond : [Pair a x], (x -&gt; y) -&gt; [Pair a y]
mapSecond =
  \(Pair a b), f -&gt; (Pair a (f b))
</code></pre></div>
<p>Overall, quite  a pleasant coding experience  after the first painful day.  Thanks all!!!</p>



<a name="248908085"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248908085" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248908085">(Aug 09 2021 at 21:06)</a>:</h4>
<p>Perhaps a <code>Pair</code> library already exists?</p>



<a name="248922319"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248922319" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248922319">(Aug 09 2021 at 23:29)</a>:</h4>
<p>I can work on adding imports to the repl this weekend!</p>



<a name="248922437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248922437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248922437">(Aug 09 2021 at 23:30)</a>:</h4>
<p>I'd say it's a medium-sized project <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="248949979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248949979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248949979">(Aug 10 2021 at 07:53)</a>:</h4>
<blockquote>
<p>Perhaps a <code>Pair</code> library already exists?</p>
</blockquote>
<p>No, I don't think so.</p>



<a name="248951857"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248951857" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248951857">(Aug 10 2021 at 08:19)</a>:</h4>
<div class="codehilite"><pre><span></span><code>cargo run examples/benchmarks/ParseApp.roc
</code></pre></div>
<p>Is working for me on the latest Jim branch.<br>
I'm wondering if it could be the rust version, can you send over the output of <code>rustup show</code> <span class="user-mention" data-user-id="430829">@James Carlson</span> ?<br>
Can you also check if <code>cargo test</code> (from the root of the repo) runs without failures?</p>



<a name="248975425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248975425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248975425">(Aug 10 2021 at 13:02)</a>:</h4>
<p>Everything good with <code>cargo test</code>, with the excption of. <code>test cli_run::rbtree_insert ... FAILED</code></p>



<a name="248975583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248975583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248975583">(Aug 10 2021 at 13:03)</a>:</h4>
<p>Everything is working for me now.  One thing that had stumped for a while is a mysterious error message that occurs when there is a missing comma in the import list.  I will file an issue.</p>



<a name="248975655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248975655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248975655">(Aug 10 2021 at 13:04)</a>:</h4>
<p>Is there a roc testing library?</p>



<a name="248976911"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248976911" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248976911">(Aug 10 2021 at 13:14)</a>:</h4>
<p>Is there a block comment in roc?</p>



<a name="248977569"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248977569" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248977569">(Aug 10 2021 at 13:20)</a>:</h4>
<p>no and no. That rbtree issue should go away on a second try. We have some race condition in the tests when a file is not present (i.e. on first run)</p>



<a name="248985683"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248985683" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248985683">(Aug 10 2021 at 14:21)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span>  or <span class="user-mention" data-user-id="281543">@Folkert de Vries</span> , if you have a moment, could you look at commit <code>8997bf8be</code> in the <code>jim</code> branch regarding the definition of <code>andThen</code>:</p>
<div class="codehilite"><pre><span></span><code>andThen : Parser a, (a -&gt; Parser b) -&gt; Parser b
andThen = \p, q -&gt;
            \input -&gt; p input |&gt; List.map (\(Pair a input2) -&gt; (q a) input2) |&gt; List.join
</code></pre></div>
<p>You can run a test on it with <code>cargo run examples/benchmarks/ParseApp.roc</code>.  Here is the test:</p>
<div class="codehilite"><pre><span></span><code>app &quot;parseapp&quot;
    packages { base: &quot;platform&quot; }
    imports [base.Task, Parser]
    provides [ main ] to base

main : Task.Task {} []
main =
    # TEST Parser.andThen
    Parser.runToString Parser.showU8 &quot;abcd&quot; (  Parser.andThen (Parser.satisfy (\u -&gt; u == 97)) (\u2 -&gt; Parser.satisfy (\u3 -&gt; u3 == u2))  )
       |&gt; Task.putLine
</code></pre></div>
<p>I am not feeding the second parser <code>q a</code> properly.  If I replace <code>(\u3 -&gt; u3 == u2)</code> with <code>(\u3 -&gt; u3 == 98)</code>, I get the  expected output, but that of course is not the point.</p>



<a name="248985806"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248985806" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248985806">(Aug 10 2021 at 14:22)</a>:</h4>
<p>Thanks!</p>



<a name="248985845"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248985845" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248985845">(Aug 10 2021 at 14:22)</a>:</h4>
<p>what is the problem you observe?</p>



<a name="248985955"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248985955" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248985955">(Aug 10 2021 at 14:23)</a>:</h4>
<p>I get an error message <code>Parse error (runToString)</code> from the function <code>runToString</code>.</p>



<a name="248986199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248986199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248986199">(Aug 10 2021 at 14:25)</a>:</h4>
<p>Because I get the expected output with the subsitution <code>(\u3 -&gt; u3 == 98)</code> for <code>(\u3 -&gt; u3 == u2)</code>, I know that the problem is in how the second parser in <code>andThen</code> is being fed its info (or handling that info)</p>



<a name="248986438"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248986438" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248986438">(Aug 10 2021 at 14:26)</a>:</h4>
<p>Here is the <code>run</code> code:</p>
<div class="codehilite"><pre><span></span><code>run : Str, Parser a -&gt; Result a [ListWasEmpty]
run =
  \str, parser -&gt; parser (Str.toUtf8 str) |&gt; List.map Pair.first  |&gt; List.first

runToString : (a -&gt; Str), Str, Parser a -&gt; Str
runToString =
  \toString, str, parser -&gt;
    when run str parser is
      Ok a -&gt; toString a
      _ -&gt; &quot;Parse error (runToString)&quot;
</code></pre></div>
<p>Pretty sure the problem is not there.</p>



<a name="248986467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248986467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248986467">(Aug 10 2021 at 14:26)</a>:</h4>
<p>but <code>u3 == u2</code> should fail right? b != c</p>



<a name="248987015"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248987015" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248987015">(Aug 10 2021 at 14:30)</a>:</h4>
<p>Well,  I can't disagree!  I think I see what the problem is.  Thanks!</p>



<a name="248988235"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248988235" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248988235">(Aug 10 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="281543">@Folkert de Vries</span>  My test was incorrect.  The below works:</p>
<div class="codehilite"><pre><span></span><code># TEST Parser.andThen
# Recognize strings beginning with &quot;aa&quot;
    Parser.runToString Parser.showU8 &quot;aaxyz&quot; (  Parser.andThen (Parser.satisfy (\u -&gt; u == 97)) (\u2 -&gt; Parser.satisfy (\u3 -&gt; u3 == u2))  )
</code></pre></div>



<a name="248988284"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248988284" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248988284">(Aug 10 2021 at 14:39)</a>:</h4>
<p>nice</p>



<a name="248994036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248994036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248994036">(Aug 10 2021 at 15:26)</a>:</h4>
<p>Hmmm ... Error on <code>git push</code>:</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(jim) git push
Enumerating objects: 15, done.
Counting objects: 100% (15/15), done.
Delta compression using up to 16 threads
Compressing objects: 100% (11/11), done.
Writing objects: 100% (11/11), 1.38 KiB | 1.38 MiB/s, done.
Total 11 (delta 7), reused 0 (delta 0)
remote: Resolving deltas: 100% (7/7), completed with 4 local objects.
remote: fatal error in commit_refs
To github.com:rtfeldman/roc.git
 ! [remote rejected]     jim -&gt; jim (failure)
error: failed to push some refs to &#39;git@github.com:rtfeldman/roc.git&#39;
</code></pre></div>



<a name="248994443"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248994443" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248994443">(Aug 10 2021 at 15:29)</a>:</h4>
<p><a href="https://stackoverflow.com/a/37342002/4200103">This</a> might help</p>



<a name="248996224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248996224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248996224">(Aug 10 2021 at 15:43)</a>:</h4>
<p>Hmm ... never used <code>git gc</code> or <code>git fsck</code> before. Unfortunately, the error persists.  Just checked: the compiler repo is online</p>



<a name="248998055"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248998055" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248998055">(Aug 10 2021 at 15:57)</a>:</h4>
<p>Kind of a hack, but maybe create a new branch based on trunk and copy over your files.<br>
I've never encountered this error either.</p>



<a name="248998194"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248998194" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248998194">(Aug 10 2021 at 15:58)</a>:</h4>
<p>I'm encountering it too; maybe GitHub is down?</p>



<a name="248998216"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248998216" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Hoeflich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248998216">(Aug 10 2021 at 15:58)</a>:</h4>
<p><a href="https://www.githubstatus.com/">https://www.githubstatus.com/</a></p>



<a name="248998604"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248998604" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248998604">(Aug 10 2021 at 16:01)</a>:</h4>
<p>Uhu, looks like it.</p>



<a name="248999581"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/248999581" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#248999581">(Aug 10 2021 at 16:09)</a>:</h4>
<p>I'll wait a while and see what happens.  When I do<code>git fsck</code>, I get this:</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(jim) git fsck
Checking object directories: 100% (256/256), done.
Checking objects: 100% (71877/71877), done.
dangling commit 19b2d41cd70df2f24b1b91aeb387a359130100ba
dangling tree bce4c448a8cea397f51573f8951e2096a47d3a9d
dangling commit b617a55998ea6c81c52b3f1e5ac3a96ab4c3c985
dangling commit 32c9f99ee8cc7090481fd4edf45a63cf2f31a555
dangling tree b5d7b19d0dc3e36e51a7786e004ab52582ab7bfb
dangling tree 4577eab778e36ff32f767c843a4c0354bb1977b3
dangling tree 379fa66772dc46659b618374a98e3c2ee05ad2f7
dangling commit 68ceda8f3ab08c8e751c283ebbdcb87bde931403
dangling commit b5d84e7ca957d950322508b184ca020760fced15
dangling blob e62c9f7e5dc3baa8a285536ddb10d302b612b7e8
</code></pre></div>



<a name="249004633"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249004633" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249004633">(Aug 10 2021 at 16:48)</a>:</h4>
<p>I have the type definition <code>Step state a : [ Loop state, Done a ]</code> and <code>Counter : { counter : I64, value : I64 }</code>  The function<code>loop : (state -&gt; Step state a), state -&gt; a</code>is used with <code>updateCounter : Counter -&gt; Step Counter I64</code>  as the first argument  and with a <code>Counter</code> value as the second.</p>
<p>Later I say this:</p>
<div class="codehilite"><pre><span></span><code>test3 : Str
test3 =
  out = loop updateCounter { counter : 4, value : 0}
  if out == Done 10 then &quot;Ok&quot; else &quot;Fail&quot;
</code></pre></div>
<p>But calling <code>test3</code> gives a type error:</p>
<div class="codehilite"><pre><span></span><code>41│    if out == Done 10 then &quot;Ok&quot; else &quot;Fail&quot;
                 ^^^^^^^

This Done global tag application has the type:

    [ Done (Num a) ]b

But isEq needs the 2nd argument to be:

    I64
</code></pre></div>
<p>Shouldn't the various <code>I64</code> declarations above make this not happen?</p>



<a name="249004987"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249004987" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249004987">(Aug 10 2021 at 16:50)</a>:</h4>
<p>Or is there some way to ensure that <code>Done 10</code> is <code>Done I64</code>?</p>



<a name="249005800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249005800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249005800">(Aug 10 2021 at 16:56)</a>:</h4>
<p>Can you push it to the jim branch? github should be good again</p>



<a name="249005929"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249005929" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249005929">(Aug 10 2021 at 16:57)</a>:</h4>
<p>Done!</p>



<a name="249006065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249006065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249006065">(Aug 10 2021 at 16:58)</a>:</h4>
<p>My first thought is that <code>out</code> is a <code>I64</code>, not a <code>[ Done I64 ]b</code> which is why <code>isEq</code> would not work.</p>



<a name="249006188"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249006188" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249006188">(Aug 10 2021 at 16:59)</a>:</h4>
<p>Ah yes indeed!!  let me verify that.</p>



<a name="249006320"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/strings/near/249006320" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/strings.html#249006320">(Aug 10 2021 at 17:00)</a>:</h4>
<p>Works -- thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
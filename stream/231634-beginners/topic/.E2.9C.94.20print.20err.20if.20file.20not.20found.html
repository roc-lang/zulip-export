<html>
<head><meta charset="utf-8"><title>âœ” print err if file not found Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html">âœ” print err if file not found</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="303634786"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303634786" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303634786">(Oct 12 2022 at 14:07)</a>:</h4>
<p>is there some way to accomplish this? </p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="n">contents</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">path</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Path</span><span class="o">.</span><span class="n">fromStr</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">File</span><span class="o">.</span><span class="n">readUtf8</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">onFail</span><span class="w"> </span><span class="err">\</span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Stderr</span><span class="o">.</span><span class="n">line</span><span class="w"> </span><span class="s2">"oops"</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await</span><span class="w"></span>
</code></pre></div>
<p>i get the errors</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">â”€â”€ TOO MANY ARGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ platform-test/main.roc â”€</span>

<span class="go">The onFail function expects 2 arguments, but it got 3 instead:</span>

<span class="go">20â”‚          contents &lt;- path |&gt; Path.fromStr |&gt; File.readUtf8 |&gt; Task.onFail \_ -&gt; Stderr.line "oops" |&gt; Task.await</span>
<span class="go">                                                                  ^^^^^^^^^^^</span>

<span class="go">Are there any missing commas? Or missing parentheses?</span>


<span class="go">â”€â”€ TOO FEW ARGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ platform-test/main.roc â”€</span>

<span class="go">The await function expects 2 arguments, but it got only 1:</span>

<span class="go">20â”‚          contents &lt;- path |&gt; Path.fromStr |&gt; File.readUtf8 |&gt; Task.onFail \_ -&gt; Stderr.line "oops" |&gt; Task.await</span>
<span class="go">                                                                                                          ^^^^^^^^^^</span>
</code></pre></div>



<a name="303635507"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303635507" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303635507">(Oct 12 2022 at 14:11)</a>:</h4>
<p>i'm thinking <code>Task.attempt</code> might work</p>



<a name="303635800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303635800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303635800">(Oct 12 2022 at 14:12)</a>:</h4>
<p>Syntax aside, I don't think stderr writing should pipe to a variable named contents... mixing steps?</p>



<a name="303636002"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636002" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636002">(Oct 12 2022 at 14:13)</a>:</h4>
<p>Today you'll need to add parentheses around your mid-pipeline function</p>



<a name="303636189"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636189" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636189">(Oct 12 2022 at 14:14)</a>:</h4>
<p>What type are you aiming for for contents?</p>



<a name="303636323"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636323" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636323">(Oct 12 2022 at 14:15)</a>:</h4>
<p>contents is a <code>List u8</code> i believe</p>



<a name="303636459"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636459" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636459">(Oct 12 2022 at 14:16)</a>:</h4>
<p>wait maybe its a Str. next line is:<br>
<code>raw = Str.toUtf8 contents</code></p>



<a name="303636536"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636536" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636536">(Oct 12 2022 at 14:16)</a>:</h4>
<p>(there is a File.readBytes that you might like)</p>



<a name="303636587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636587">(Oct 12 2022 at 14:17)</a>:</h4>
<p>But yes, that sounds like a good aim, for contents to be a str</p>



<a name="303636681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636681">(Oct 12 2022 at 14:17)</a>:</h4>
<p>yeah i don't really care what type contents is, Str or List u8 is fine. but lets just say Str for now</p>



<a name="303636805"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636805" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636805">(Oct 12 2022 at 14:18)</a>:</h4>
<p>Unfortunately, after File.readUtf8 returns a task that could Ok or Err, you're not handling/extracting either the Ok or Err cases</p>



<a name="303636816"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303636816" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303636816">(Oct 12 2022 at 14:18)</a>:</h4>
<p>this is just for demoing my zig platform</p>



<a name="303637061"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637061" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637061">(Oct 12 2022 at 14:19)</a>:</h4>
<p>I recommend changing <code>contents</code> to <code>result</code></p>



<a name="303637139"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637139" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637139">(Oct 12 2022 at 14:20)</a>:</h4>
<p>deleting the onFail logic and just awaiting the file read</p>



<a name="303637206"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637206" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637206">(Oct 12 2022 at 14:20)</a>:</h4>
<p>then on a new line handle the result</p>



<a name="303637249"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637249" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637249">(Oct 12 2022 at 14:20)</a>:</h4>
<p>ok sounds good. i'll see what i can do.</p>



<a name="303637274"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637274" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637274">(Oct 12 2022 at 14:20)</a>:</h4>
<p>thanks!</p>



<a name="303637289"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637289" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637289">(Oct 12 2022 at 14:20)</a>:</h4>
<p>After that works, recombining the lines is still an option but you'll have a working baseline :)</p>



<a name="303637298"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637298" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637298">(Oct 12 2022 at 14:20)</a>:</h4>
<p>You bet!</p>



<a name="303637491"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637491" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637491">(Oct 12 2022 at 14:22)</a>:</h4>
<p>And in case it's a point of confusion, stderr writing isn't a side effect</p>



<a name="303637591"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637591" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637591">(Oct 12 2022 at 14:22)</a>:</h4>
<p>hold on. how can i get a Result without stopping the subsequent chain of Tasks? Task.attempt?</p>



<a name="303637707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637707">(Oct 12 2022 at 14:23)</a>:</h4>
<p>thats what i was trying to use but having some problems. does it sound like it should work?</p>



<a name="303637957"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303637957" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303637957">(Oct 12 2022 at 14:24)</a>:</h4>
<p>maybe you are saying instead of backpassing handle contents in a new function?</p>



<a name="303638037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638037">(Oct 12 2022 at 14:25)</a>:</h4>
<p>Shouldn't this work?</p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="n">contents</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">path</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Path</span><span class="o">.</span><span class="n">fromStr</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">File</span><span class="o">.</span><span class="n">readUtf8</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">onFail</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Stderr</span><span class="o">.</span><span class="n">line</span><span class="w"> </span><span class="s2">"oops"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await</span><span class="w"></span>
</code></pre></div>



<a name="303638310"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638310" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638310">(Oct 12 2022 at 14:26)</a>:</h4>
<p>ooh seems closer. now i get an unexpected type error...</p>



<a name="303638485"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638485" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638485">(Oct 12 2022 at 14:27)</a>:</h4>
<p>the diff is <code>Task {}</code> vs <code>Task Str</code></p>



<a name="303638551"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638551" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638551">(Oct 12 2022 at 14:27)</a>:</h4>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">This 2nd argument to onFail has an unexpected type:</span>

<span class="go">31â”‚            |&gt; Task.onFail (\_ -&gt; Stderr.line "oops")</span>
<span class="go">                               ^^^^^^^^^^^^^^^^^^^^^^^^</span>

<span class="go">The argument is an anonymous function of type:</span>

<span class="go">    [FileReadErr Path ReadErr,</span>
<span class="go">    FileReadUtf8Err Path [BadUtf8 Utf8ByteProblem Nat]*]* -&gt;</span>
<span class="go">    Task {} * [Read [File]*, Write [Stderr]*]a ?</span>

<span class="go">But onFail needs its 2nd argument to be:</span>

<span class="go">    [FileReadErr Path ReadErr,</span>
<span class="go">    FileReadUtf8Err Path [BadUtf8 Utf8ByteProblem Nat]*]* -&gt;</span>
<span class="go">    Task Str * [Read [File]*, Write [Stderr]*]a ?</span>
</code></pre></div>



<a name="303638644"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638644" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638644">(Oct 12 2022 at 14:28)</a>:</h4>
<p>last line and 4th from last</p>



<a name="303638733"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638733" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638733">(Oct 12 2022 at 14:28)</a>:</h4>
<p>seems i just need to return a string there</p>



<a name="303638815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638815">(Oct 12 2022 at 14:29)</a>:</h4>
<p>Ah, <code>onFail</code> expects you to return a task that gives you a new value for contents. So a <code>Str</code></p>



<a name="303638937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303638937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303638937">(Oct 12 2022 at 14:29)</a>:</h4>
<p>So this would work, but doesn't print of coures</p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="n">contents</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">path</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Path</span><span class="o">.</span><span class="n">fromStr</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">File</span><span class="o">.</span><span class="n">readUtf8</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">onFail</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">succeed</span><span class="w"> </span><span class="s2">"Some backup content value"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await</span><span class="w"></span>
</code></pre></div>



<a name="303639153"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303639153" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303639153">(Oct 12 2022 at 14:30)</a>:</h4>
<p>ah neat. well atleast i'll be able to see that an error happened. this will work ok for my use case.</p>



<a name="303639176"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303639176" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303639176">(Oct 12 2022 at 14:31)</a>:</h4>
<p>thank you both <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="303639281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303639281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303639281">(Oct 12 2022 at 14:31)</a>:</h4>
<p>So the current implementation of <code>onFail</code> doesn't work the way we expected here.</p>
<p>I think you would need to do:</p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="n">contents</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">path</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Path</span><span class="o">.</span><span class="n">fromStr</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">File</span><span class="o">.</span><span class="n">readUtf8</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">onFail</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"></span>
<span class="w">    </span><span class="bp">_</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">Stderr</span><span class="o">.</span><span class="n">line</span><span class="w"> </span><span class="s2">"oops"</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await</span><span class="w"></span>
<span class="w">    </span><span class="nc">Task</span><span class="o">.</span><span class="n">fail</span><span class="w"> </span><span class="n">e</span><span class="w"></span>
<span class="w">  </span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">await</span><span class="w"></span>
</code></pre></div>



<a name="303639311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303639311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303639311">(Oct 12 2022 at 14:31)</a>:</h4>
<p>Probably would want a different helper function</p>



<a name="303648325"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303648325" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303648325">(Oct 12 2022 at 14:32)</a>:</h4>
<p>So I guess <code>onFail</code> is really "if I fail, try to recover and continue by doing this"</p>
<p>You want, "if I fail, do this, but stay as a failure"</p>



<a name="303648696"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303648696" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303648696">(Oct 12 2022 at 14:34)</a>:</h4>
<p>This is probably worth making an issue for, or at least a discussion in <a class="stream" data-stream-id="304641" href="/#narrow/stream/304641-ideas">#ideas</a>. Seems like a generally useful Task function that we are missing. Also a possible naming confusion/conflict.</p>



<a name="303648842"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303648842" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303648842">(Oct 12 2022 at 14:35)</a>:</h4>
<p>yes. it would be nice to have a helper for that.  i agree.</p>



<a name="303648940"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303648940" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303648940">(Oct 12 2022 at 14:36)</a>:</h4>
<p>maybe ill post some of this in ideas in a bit.</p>



<a name="303649428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303649428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303649428">(Oct 12 2022 at 14:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="551275">Travis</span> has marked this topic as resolved.</p>



<a name="303658189"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303658189" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303658189">(Oct 12 2022 at 14:56)</a>:</h4>
<p>That last code snippet works if the file exists (the <code>Ok</code> case), but it panics if it doesn't (the <code>Err</code> case):</p>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;not yet implemented: Report a file open error&#39;, src/lib.rs:375:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
fatal runtime error: failed to initiate panic, error 5
Aborted (core dumped)
</code></pre></div>



<a name="303658741"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303658741" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303658741">(Oct 12 2022 at 14:59)</a>:</h4>
<p>Oh, that's not a roc issue, that's a rust platform issue.</p>



<a name="303658762"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303658762" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303658762">(Oct 12 2022 at 14:59)</a>:</h4>
<p>The platform doesn't handle all errors yet</p>



<a name="303658791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303658791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303658791">(Oct 12 2022 at 14:59)</a>:</h4>
<p>So some cases it just panics</p>



<a name="303659159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659159">(Oct 12 2022 at 15:01)</a>:</h4>
<p>Oh... Oh! I just now understood the "stderr quick exit" approach you two are both taking... that's cool.</p>



<a name="303659167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659167">(Oct 12 2022 at 15:01)</a>:</h4>
<p>oh reeeeaaalllly? <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> i think i was able to get it working in my zig platform</p>



<a name="303659282"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659282" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659282">(Oct 12 2022 at 15:01)</a>:</h4>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$</span>roc platform-test/main.roc -- asfd
<span class="go">ðŸ”¨ Rebuilding platform...</span>
<span class="go">----</span>
<span class="go">File.readUtf8 platform-test/main.roc:</span>
<span class="go">----</span>
<span class="go">app "platform-main"</span>
<span class="go">    packages { ...(truncated)</span>
<span class="go">----</span>
<span class="go">not-a-file:               Not Found</span>
</code></pre></div>



<a name="303659473"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659473" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659473">(Oct 12 2022 at 15:02)</a>:</h4>
<p>like just got it working this morning doing some error handling in <code>roc_fx_fileReadBytes</code></p>



<a name="303659513"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659513" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659513">(Oct 12 2022 at 15:03)</a>:</h4>
<p>I never realized you could write a backpassing chain that handles early exits halfway through...</p>



<a name="303659556"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659556" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659556">(Oct 12 2022 at 15:03)</a>:</h4>
<p>That's great!</p>



<a name="303659640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659640">(Oct 12 2022 at 15:03)</a>:</h4>
<p>I mean the pipelining is handling the early exits. The backpass once triggered would be too late.</p>



<a name="303659835"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303659835" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303659835">(Oct 12 2022 at 15:04)</a>:</h4>
<p>That said, it is also valid to just accumulate the errors and handle them all at the end in one place.</p>



<a name="303660118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303660118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303660118">(Oct 12 2022 at 15:06)</a>:</h4>
<div class="codehilite"><pre><span></span><code>        happy &lt;-
            input
            |&gt; process
            |&gt; ifSad exitSadly
            |&gt; await
        smile &lt;-
            happy
            |&gt; react
            |&gt; ifFrown goToFrownTown
            |&gt; await
        smile
        |&gt; welcomeToSmileTown
</code></pre></div>



<a name="303660194"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303660194" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ghislain <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303660194">(Oct 12 2022 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found/near/303659835">said</a>:</p>
<blockquote>
<p>That said, it is also valid to just accumulate the errors and handle them all at the end in one place.</p>
</blockquote>
<p>Related to this, if you accumulate all errors, how can you avoid error Tag naming conflict from different lib/package?</p>



<a name="303660570"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303660570" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303660570">(Oct 12 2022 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> I credit backpassing with this "early escape" functionality, because if you only have <code>|&gt;</code>s with no <code>&lt;-</code> then at the end of the pipeline you'll have to handle a complex multi-type for all possible outcomes.</p>



<a name="303660681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303660681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303660681">(Oct 12 2022 at 15:08)</a>:</h4>
<p>...hence why I was going to suggest changing <code>contents</code> to <code>result</code> and then doing the <code>Err</code> handling after.</p>



<a name="303661032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661032">(Oct 12 2022 at 15:10)</a>:</h4>
<p>With <code>&lt;-</code>, you can add mid-pipeline handler steps to narrow the type "returned" by <code>&lt;-</code>, because you're essentially narrowing the branches that the final callback must handle.</p>



<a name="303661096"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661096" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661096">(Oct 12 2022 at 15:11)</a>:</h4>
<p>This might be understood by everyone else here, but it's news to me :D</p>



<a name="303661120"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661120" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661120">(Oct 12 2022 at 15:11)</a>:</h4>
<p>related to this, is there a way to get the tag name as a string? or would i just have to do a manual switch?</p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">onFail</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Task</span><span class="o">.</span><span class="n">succeed</span><span class="w"> </span><span class="s2">"Not Found"</span><span class="p">)</span><span class="w"> </span><span class="c1">#TODO print error tag somehow</span><span class="w"></span>
</code></pre></div>



<a name="303661136"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661136" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661136">(Oct 12 2022 at 15:11)</a>:</h4>
<p>your would just add a lambda to the last await in the pipeline, it would be the same thing with more indentation.</p>



<a name="303661212"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661212" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661212">(Oct 12 2022 at 15:11)</a>:</h4>
<p>manual switch</p>



<a name="303661341"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661341" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661341">(Oct 12 2022 at 15:12)</a>:</h4>
<blockquote>
<p>Tag naming conflict from different lib/package?</p>
</blockquote>
<p>Wrap them by package or function or etc</p>



<a name="303661379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661379">(Oct 12 2022 at 15:12)</a>:</h4>
<p>i think i'm spoiled by zig here</p>



<a name="303661408"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661408" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661408">(Oct 12 2022 at 15:12)</a>:</h4>
<p>haha. Sounds reasonable. Zig is a nice language.</p>



<a name="303661476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303661476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303661476">(Oct 12 2022 at 15:13)</a>:</h4>
<p>yeah @tagName would be nice here</p>



<a name="303662711"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20print%20err%20if%20file%20not%20found/near/303662711" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20print.20err.20if.20file.20not.20found.html#303662711">(Oct 12 2022 at 15:20)</a>:</h4>
<p>That's something else that could be worth putting in the <a class="stream" data-stream-id="304641" href="/#narrow/stream/304641-ideas">#ideas</a> stream.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>zig 0.9 · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html">zig 0.9</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="259178511"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178511" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178511">(Oct 27 2021 at 00:09)</a>:</h4>
<p>I'm using zig 0.9 and it does not compile. I'm using the <code>trunk</code> branch.<br>
Should I update the code to fit zig 0.9?</p>



<a name="259178749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178749">(Oct 27 2021 at 00:13)</a>:</h4>
<p>good question!</p>



<a name="259178754"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178754" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178754">(Oct 27 2021 at 00:13)</a>:</h4>
<p>I think we should hold off until there's an official 0.9 release</p>



<a name="259178813"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178813" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178813">(Oct 27 2021 at 00:14)</a>:</h4>
<p>otherwise it's harder for people to get the right version, since currently 0.9 is built from Zig's <code>master</code> branch</p>



<a name="259178893"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178893" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178893">(Oct 27 2021 at 00:15)</a>:</h4>
<p>Can I do the update in another branch?</p>



<a name="259178996"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259178996" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259178996">(Oct 27 2021 at 00:17)</a>:</h4>
<p>oh sure! I just wouldn't want to merge it into <code>trunk</code> until the 0.9 release is out <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="259179013"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179013" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179013">(Oct 27 2021 at 00:17)</a>:</h4>
<p>although, depending on how long that takes, the branch might have problems with drift</p>



<a name="259179024"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179024" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179024">(Oct 27 2021 at 00:17)</a>:</h4>
<p>as people add more to the zig code in <code>trunk</code></p>



<a name="259179069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179069">(Oct 27 2021 at 00:18)</a>:</h4>
<p>so it might end up needing recurring updates over time to stay mergeable <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="259179155"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179155" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179155">(Oct 27 2021 at 00:19)</a>:</h4>
<p>I think all changes we need to backwards compatible, like removing <code>packed</code> enum.</p>



<a name="259179294"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179294" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179294">(Oct 27 2021 at 00:21)</a>:</h4>
<p>good to know! <span aria-label="rock on" class="emoji emoji-1f918" role="img" title="rock on">:rock_on:</span></p>



<a name="259179403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179403">(Oct 27 2021 at 00:23)</a>:</h4>
<p>Also building <code>compiler/bitcode</code> crashes the zig compiler</p>



<a name="259179421"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179421" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179421">(Oct 27 2021 at 00:23)</a>:</h4>
<p>on 0.9?</p>



<a name="259179423"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179423" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179423">(Oct 27 2021 at 00:23)</a>:</h4>
<p>yes</p>



<a name="259179485"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179485" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179485">(Oct 27 2021 at 00:24)</a>:</h4>
<p>maybe a known bug? it is a <code>master</code> build after all haha</p>



<a name="259179610"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179610" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179610">(Oct 27 2021 at 00:26)</a>:</h4>
<p>it crashes in <code>LLVMStructGetTypeAtIndex</code></p>



<a name="259179649"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259179649" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259179649">(Oct 27 2021 at 00:27)</a>:</h4>
<p>ok, sounds like it's too soon for us to try 0.9 <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="259181255"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259181255" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259181255">(Oct 27 2021 at 00:53)</a>:</h4>
<p>ok this is jank</p>



<a name="259181259"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259181259" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259181259">(Oct 27 2021 at 00:53)</a>:</h4>
<div class="codehilite"><pre><span></span><code>const std = @import(&quot;std&quot;);

comptime {
    @export(eq, .{ .name = &quot;eq&quot; });
}

pub const RocDec = extern struct {
    num: i128,
};
pub fn eq(self: RocDec, other: RocDec) callconv(.C) bool {
    return self.num == other.num;
}
</code></pre></div>



<a name="259181322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259181322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259181322">(Oct 27 2021 at 00:54)</a>:</h4>
<p>using <code>i128</code> just crashes the compiler while <code>i64</code> doesn't</p>



<a name="259181933"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259181933" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Locria Cyber <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259181933">(Oct 27 2021 at 01:03)</a>:</h4>
<p>blocked by <a href="https://github.com/ziglang/zig/issues/10039">https://github.com/ziglang/zig/issues/10039</a></p>



<a name="259184480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259184480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259184480">(Oct 27 2021 at 01:50)</a>:</h4>
<p>Before updating the zig version we usually need to update the version of LLVM we use and before updating our LLVM version we need to update our zig version. This tends to occur because zig quickly moves to the latest version of LLVM and their release cycles kinda alternate. So we usually do those at the same time</p>



<a name="259184517"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259184517" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259184517">(Oct 27 2021 at 01:51)</a>:</h4>
<p>there’s a few things already addressed for the 0.9 update like unused vars etc. but definitely some other stuff as well</p>



<a name="259184608"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259184608" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259184608">(Oct 27 2021 at 01:53)</a>:</h4>
<p>0.9 isn’t too far out. I’m pretty sure it’ll use LLVM 13 and we use v12 last I checked</p>



<a name="259196679"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259196679" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259196679">(Oct 27 2021 at 06:05)</a>:</h4>
<p>I updated inkwell already so upgrading llvm versions is not blocked on anything</p>



<a name="259253179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259253179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259253179">(Oct 27 2021 at 15:02)</a>:</h4>
<p>excellent</p>



<a name="259723696"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259723696" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias Beyer <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259723696">(Oct 30 2021 at 10:40)</a>:</h4>
<p>Can someone give a rationale why zig is even in the codebase? I don't yet see what the benefit is over just implementing everything in Rust...</p>



<a name="259724296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724296">(Oct 30 2021 at 10:54)</a>:</h4>
<p>All of the compiler is written in rust, because as you say that makes sense. </p>
<p>We use zig for writing code that we want to end up in the binary that a user makes. That binary is a combination of code the user wrote, and some "runtime system" that does things like implement our builtins (list and string data structures) and manage memory (the whole refcounting machinery).</p>



<a name="259724306"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724306" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724306">(Oct 30 2021 at 10:54)</a>:</h4>
<p>zig makes it easy to do this for all the platforms that we target: zig can be converted to LLVM IR, to webassembly and to machine code (e.g. X86_64 assembly)</p>



<a name="259724321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724321">(Oct 30 2021 at 10:55)</a>:</h4>
<p>and it does that 1) way faster than rust and 2) with way less baggage: rust brings a runtime system of its own that is much larger than what C and zig bring along</p>



<a name="259724440"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724440" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias Beyer <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724440">(Oct 30 2021 at 10:58)</a>:</h4>
<p>okay, I can see that .</p>



<a name="259724604"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724604" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthias Beyer <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724604">(Oct 30 2021 at 11:01)</a>:</h4>
<p>Still, I wonder whether no_std rust would be viable to reduce the "runtime" you speak of. I don't know zig, so I cannot judge it, but rust provides guarantees that are really neat and I was hyped when I saw that roc is implemented in Rust! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="259724685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724685">(Oct 30 2021 at 11:03)</a>:</h4>
<p>yes, and we really want those guarantees for the compiler itself, but for that runtime system, any overhead is a shame and we actually want to do a bunch of unsafe things there</p>



<a name="259724695"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259724695" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259724695">(Oct 30 2021 at 11:03)</a>:</h4>
<p>in other words, using rust there has less of the advantages in that scenario than for writing this massive compiler application</p>



<a name="259730102"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259730102" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259730102">(Oct 30 2021 at 13:09)</a>:</h4>
<p>we actually tried Rust with no_std first, and it was tons of <code>unsafe</code> plus linking difficulties plus not getting much help debugging memory safety issues, so we tried zig and it's gone much better!</p>



<a name="259736300"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%200.9/near/259736300" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivo Balbaert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.200.2E9.html#259736300">(Oct 30 2021 at 15:21)</a>:</h4>
<p>Hi! I am Ivo Balbaert, a PL enthousiast and author of some books on emerging languages.<br>
I worked in software industry (mainly 4GL, ASP.NET, C#) and taught programming languages and databases.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Bundling a package? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html">Bundling a package?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="339692985"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339692985" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339692985">(Mar 05 2023 at 13:11)</a>:</h4>
<p>Sorry if this is documented somewhere, I looked but couldn't find anything <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> </p>
<p>I want to convert my tiny tui code into a package, bundle it, and allow people to use it via the url package thing.  It depends on the basics_cli platform.</p>
<p>My best guess was to create a <code>tui.roc</code> file in the dir I'm working in and put this in it</p>
<div class="codehilite"><pre><span></span><code>package &quot;tui&quot;
    exposes [
        Term,
        Term.Unicode
    ]
    packages {  pf: &quot;https://github.com/roc-lang/basic-cli/releases/download/0.2.0/8tCohJeXMBUnjo_zdMq0jSaqdYoCWJkWazBd4wa8cQU.tar.br&quot; }
</code></pre></div>
<p>And then maybe run <code>roc build tui.roc</code>?  Doesn't seem quite right, and that command also hangs.</p>
<p>Is there a script or process that I could check out on how to prepare the necessary <code>.tar.br</code>?</p>
<p>Bonus points, I would also love to generate docs for it <span aria-label="dancer" class="emoji emoji-1f483" role="img" title="dancer">:dancer:</span></p>



<a name="339697159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339697159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339697159">(Mar 05 2023 at 13:45)</a>:</h4>
<p>Ahhh, just found <code>roc build --bundle=.tar.br</code>!</p>



<a name="339697904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339697904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339697904">(Mar 05 2023 at 13:50)</a>:</h4>
<p>So, I think the issue is just that <code>roc build tui.roc</code> hangs.</p>
<p>Running with the <code>--bundle</code> produces this error</p>
<p><a href="/user_uploads/22008/CIruRDncLZTS757kterLzXB5/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/CIruRDncLZTS757kterLzXB5/image.png" title="image.png"><img src="/user_uploads/22008/CIruRDncLZTS757kterLzXB5/image.png"></a></div><p>Maybe I need to create a directory or something? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="339706469"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339706469" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339706469">(Mar 05 2023 at 14:51)</a>:</h4>
<p>definitely seems like a compiler bug! is there a link to the code I can use to reproduce?</p>



<a name="339711455"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339711455" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339711455">(Mar 05 2023 at 15:25)</a>:</h4>
<p>Yes!  Just made it public here: <a href="https://github.com/mdgriffith/roc-tui">https://github.com/mdgriffith/roc-tui</a></p>



<a name="339714707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339714707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339714707">(Mar 05 2023 at 15:51)</a>:</h4>
<p>Does term depend on basic_cli?</p>



<a name="339714730"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339714730" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339714730">(Mar 05 2023 at 15:51)</a>:</h4>
<p>If so, i think that is the issue</p>



<a name="339714751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339714751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339714751">(Mar 05 2023 at 15:51)</a>:</h4>
<p>I don't think a package can depend on a platform</p>



<a name="339721280"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339721280" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339721280">(Mar 05 2023 at 16:46)</a>:</h4>
<p>Ah, interesting, ok</p>



<a name="339721313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339721313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339721313">(Mar 05 2023 at 16:47)</a>:</h4>
<p>Is that a design constraint or something that hasn't been implemented yet?</p>



<a name="339721467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339721467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339721467">(Mar 05 2023 at 16:49)</a>:</h4>
<p>Design constraint</p>



<a name="339721478"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339721478" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339721478">(Mar 05 2023 at 16:49)</a>:</h4>
<p>I don't think there is any plan to change that, but I could have missed something.</p>



<a name="339722122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722122">(Mar 05 2023 at 16:55)</a>:</h4>
<p>Ok, good to know!</p>



<a name="339722145"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722145" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722145">(Mar 05 2023 at 16:55)</a>:</h4>
<p>Packages can't directly depend on platforms. They need to depend on a shared type or use other abstractions to convert to the platform types and effects.</p>



<a name="339722168"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722168" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722168">(Mar 05 2023 at 16:55)</a>:</h4>
<p>This keeps effects out of the packages.</p>



<a name="339722265"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722265" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722265">(Mar 05 2023 at 16:56)</a>:</h4>
<p>Hmm....That said, given effects are changing and becoming pure tag unions, I guess that would enable packages to use them directly...hmmm</p>



<a name="339722293"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722293" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722293">(Mar 05 2023 at 16:56)</a>:</h4>
<p>so yeah, things may change some.</p>



<a name="339722406"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722406" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722406">(Mar 05 2023 at 16:57)</a>:</h4>
<p>Awesome <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span>   For now I can make it pure and have them pass in the Stdout stuff!</p>



<a name="339722598"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339722598" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339722598">(Mar 05 2023 at 16:59)</a>:</h4>
<p><a class="stream-topic" data-stream-id="304641" href="/#narrow/stream/304641-ideas/topic/effects.20in.20packages">#ideas &gt; effects in packages</a> I think this discussed it some and fancier abstractions.</p>



<a name="339736722"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339736722" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339736722">(Mar 05 2023 at 19:24)</a>:</h4>
<p>yeah it should be possible in the future but it's not yet <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="339736731"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339736731" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339736731">(Mar 05 2023 at 19:24)</a>:</h4>
<p>(packages depending on platforms I mean)</p>



<a name="339736768"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339736768" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339736768">(Mar 05 2023 at 19:25)</a>:</h4>
<p>once <a href="https://github.com/roc-lang/roc/pull/5093">https://github.com/roc-lang/roc/pull/5093</a> lands we might be able to start converting platforms over to that representation though!</p>



<a name="339737598"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339737598" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339737598">(Mar 05 2023 at 19:35)</a>:</h4>
<p>Oh, that's getting close. So exciting. Hopefully the rebasing for updating the glue stuff I have worked on isn't too painful.</p>



<a name="339739272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Bundling%20a%20package%3F/near/339739272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Bundling.20a.20package.3F.html#339739272">(Mar 05 2023 at 19:55)</a>:</h4>
<p>it should not be too bad I think. mostly it just needs the glue gen for function types</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>feedback on custom numbers in language reference · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html">feedback on custom numbers in language reference</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="571723814"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571723814" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571723814">(Feb 03 2026 at 17:37)</a>:</h4>
<p>I wrote up a draft explanation of how custom numbers work in the new compiler: <a href="https://gist.github.com/rtfeldman/f4f1ee9b0c8194e2e3d7309059bef7a4">https://gist.github.com/rtfeldman/f4f1ee9b0c8194e2e3d7309059bef7a4</a></p>
<p>the idea is for this to end up in the language reference.</p>
<p>any feedback welcome!</p>



<a name="571732722"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571732722" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571732722">(Feb 03 2026 at 18:23)</a>:</h4>
<p>Reads well :)</p>



<a name="571732766"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571732766" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571732766">(Feb 03 2026 at 18:23)</a>:</h4>
<p>I assume going with Ratio over Fraction was a deliberate choice?</p>



<a name="571732865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571732865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571732865">(Feb 03 2026 at 18:24)</a>:</h4>
<p>In my opinion you can cut " which would be the requirement if div assumed both arguments had the same type (like they happen to in number types like Ratio and Dec, but not in number types like Duration)."</p>



<a name="571737349"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571737349" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571737349">(Feb 03 2026 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference/near/571732766">said</a>:</p>
<blockquote>
<p>I assume going with Ratio over Fraction was a deliberate choice?</p>
</blockquote>
<p>yeah that's <a href="https://clojure.org/reference/data_structures#_ratio">what Clojure calls it</a></p>



<a name="571737640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571737640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571737640">(Feb 03 2026 at 18:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference/near/571732865">said</a>:</p>
<blockquote>
<p>In my opinion you can cut " which would be the requirement if div assumed both arguments had the same type (like they happen to in number types like Ratio and Dec, but not in number types like Duration)."</p>
</blockquote>
<p>fair, although I wanted to call that out because it's how all the builtin number types happen to be shaped, so I wanted to be clear that it's an intentional decision not to be that restrictive</p>



<a name="571740587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571740587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571740587">(Feb 03 2026 at 19:06)</a>:</h4>
<p>I'm hyped for custom numbers! One of the first things I want to try out is making a 2D Projective Geometric Algebra number type for making really fast and precise physics calculations. I've got this idea that it would be cool if the graphics platform and associated packages for making games just used a nicer mathematical primitive rather than forcing game devs to think in terms of the lower level abstractions like how they efficiently represents vectors.</p>



<a name="571740900"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571740900" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571740900">(Feb 03 2026 at 19:07)</a>:</h4>
<p>This idea may not go anywhere... but from the YT rabbit holes I've been down I'm feeling hopeful it will be nicer to work  with.</p>



<a name="571741655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571741655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571741655">(Feb 03 2026 at 19:11)</a>:</h4>
<p>This looks really neat by the way:</p>
<div class="codehilite"><pre><span></span><code>duration : Duration
duration = 5.Min + 30.Sec
</code></pre></div>
<p>Maybe that should be higher up as a hook for the reader :p</p>



<a name="571746735"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571746735" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571746735">(Feb 03 2026 at 19:37)</a>:</h4>
<p>yeah maybe could note some things up top that you can do with it</p>



<a name="571746759"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571746759" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571746759">(Feb 03 2026 at 19:37)</a>:</h4>
<p>and then explain how they all work</p>



<a name="571753682"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571753682" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571753682">(Feb 03 2026 at 20:13)</a>:</h4>
<p>I love a good TLDR or Exec Summary <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="571977270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/571977270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#571977270">(Feb 04 2026 at 18:06)</a>:</h4>
<p>Very exciting to read! Have you thought about using Tags for telling the negativeness? The is_negative associated functions is very clear, just that looking at this line, I need the line above it to know what the first parameter should be: <code>Numeral.init(False, [], numeral.digits_after_pt())</code>. Maybe <code>init</code> could accept the <code>[NonNegative, Negative]</code> tag union? <br>
I know my comment's mostly about looks. The semantics are awesome and powerful!</p>



<a name="572022647"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572022647" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572022647">(Feb 04 2026 at 22:28)</a>:</h4>
<p>I gotta question: can this be used for "tagging units" like metric stuff in a physics sim?  I've never found an ergonomic solution; does Roc have something else that already works well?  maybe tagged unions somehow?</p>



<a name="572022799"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572022799" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572022799">(Feb 04 2026 at 22:29)</a>:</h4>
<p>Yeah the metric stuff is one of the main motivations that led to this design, like <code>12.Meters</code> or <code>43.Psi</code></p>



<a name="572022904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572022904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572022904">(Feb 04 2026 at 22:30)</a>:</h4>
<p>new question: does octopus mean roughly "awesome!" because that's what it means to me</p>



<a name="572023026"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572023026" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572023026">(Feb 04 2026 at 22:31)</a>:</h4>
<p>what's the 2nd best way to do units (e.g. metric) in roc, using old features?</p>



<a name="572129147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572129147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572129147">(Feb 05 2026 at 12:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference/near/572023026">said</a>:</p>
<blockquote>
<p>what's the 2nd best way to do units (e.g. metric) in roc, using old features?</p>
</blockquote>
<p>I made a port of elm-units a while ago: <a href="https://github.com/Hasnep/roc-units">roc-units</a></p>



<a name="572131927"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572131927" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572131927">(Feb 05 2026 at 12:14)</a>:</h4>
<p>I'm excited to port it to use custom numbers when the new compiler is ready <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="572216904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572216904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572216904">(Feb 05 2026 at 18:01)</a>:</h4>
<p>Looks great!  I love this style of implementation, mostly declarative and definitional, and <em>obviously correct</em>, with really nice things falling out of it.  I'm not a license nerd, nor do I want to be, but I'd be tempted to reword "partly based on" to "inspired by". <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="572323849"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572323849" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Juhrich <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572323849">(Feb 06 2026 at 09:00)</a>:</h4>
<p>To give some outside perspective on the 5.Sec + 3.Min API: in the latest C# version (14, released last year) this is also possible using extension members, where one can write <code>5d.Sec</code>. Of course, this is evaluated at runtime, so not quite as cool :)<br>
There is even a quite popular package which does this: <a href="https://github.com/angularsen/UnitsNet?tab=readme-ov-file#extension-packages">https://github.com/angularsen/UnitsNet?tab=readme-ov-file#extension-packages</a></p>
<p>To me, it is cool to see how similar ideas for ergonomic APIs emerge in different contexts.</p>



<a name="572520725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/feedback%20on%20custom%20numbers%20in%20language%20reference/near/572520725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference.html#572520725">(Feb 07 2026 at 11:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/feedback.20on.20custom.20numbers.20in.20language.20reference/near/572216904">said</a>:</p>
<blockquote>
<p>I'm not a license nerd, nor do I want to be, but I'd be tempted to reword "partly based on" to "inspired by". <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>
</blockquote>
<p>I believe the BSD 3 clause licence is one of the most permissive licences, if you make a derivative work then it only requires you to include a copy of the original licence with your derivative and to not imply that the original project endorses your derivative. I included a copy of the original licence and I think the names are different enough to not confuse anyone.</p>
<p>If thousands of companies are allowed to include BSD licenced code verbatim in their proprietary projects then I think I'll be okay translating a BSD licenced codebase and re-licencing it <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
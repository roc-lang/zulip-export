<html>
<head><meta charset="utf-8"><title>Building Roc apps into Otherlang libraries · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html">Building Roc apps into Otherlang libraries</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="296933120"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296933120" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296933120">(Sep 03 2022 at 02:34)</a>:</h4>
<p>I just noticed the CLI flag to build your Roc app as a C library - that sounds cool! I don't remember that from Roc marketing or training materials, though. Could we build Zig libraries, too? Rust? (Context: I'm uninformed on most low-level language stuff)</p>



<a name="296933661"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296933661" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296933661">(Sep 03 2022 at 02:46)</a>:</h4>
<p>That probably doesn't mean what you think it means. You mean <code>--lib</code>, right? IIRC, that just builds a dynamic library.</p>



<a name="296933715"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296933715" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296933715">(Sep 03 2022 at 02:46)</a>:</h4>
<p>It talks c abi. Which is probably why it says a c library, but it really is just a standard dynamic/shared library</p>



<a name="296933725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296933725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296933725">(Sep 03 2022 at 02:46)</a>:</h4>
<p>It can be loaded by zig or c or rust and talked to with cffi like normal</p>



<a name="296933728"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296933728" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296933728">(Sep 03 2022 at 02:46)</a>:</h4>
<p>We are not emitting c or anything.</p>



<a name="296934560"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934560" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934560">(Sep 03 2022 at 03:04)</a>:</h4>
<p>Ah, yes, I did not envision it outputting uncompiled C source code. However, I maintain that this is super cool and (maybe) undersold in Roc's story!</p>



<a name="296934641"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934641" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934641">(Sep 03 2022 at 03:06)</a>:</h4>
<p>So far I've envisioned Roc as a valuable tool for any teams who want a lang upgrade or simply want to script/control an existing engine... but this opens a third category of use cases - incremental Roc-ification of a codebase!</p>



<a name="296934684"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934684" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934684">(Sep 03 2022 at 03:07)</a>:</h4>
<p>It sounds like one could have a dozen product features implemented in Rust/Zig/C and decide to implement the 13th feature in Roc???</p>



<a name="296934691"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934691" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934691">(Sep 03 2022 at 03:07)</a>:</h4>
<p>I mean it really is no different that current Roc really. It would be the exact same api. It just lives in a dynamic library instead of being surgically linked into the host.</p>



<a name="296934694"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934694" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934694">(Sep 03 2022 at 03:07)</a>:</h4>
<p>I guess a tad more dynamic</p>



<a name="296934713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934713">(Sep 03 2022 at 03:07)</a>:</h4>
<p>My realization is that Roc doesn't have to own the entrypoint/callsite</p>



<a name="296934758"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934758" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934758">(Sep 03 2022 at 03:08)</a>:</h4>
<p>/executable</p>



<a name="296934767"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934767" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934767">(Sep 03 2022 at 03:08)</a>:</h4>
<p>What do you mean?</p>



<a name="296934776"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934776" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934776">(Sep 03 2022 at 03:08)</a>:</h4>
<p>Roc currently doesn't own the executable entry point. It is defined in rust or zig or c</p>



<a name="296934829"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934829" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934829">(Sep 03 2022 at 03:09)</a>:</h4>
<p>I guess we tend to currently have roc control the build process, but that isn't required.</p>



<a name="296934830"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934830" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934830">(Sep 03 2022 at 03:09)</a>:</h4>
<p>It sounds like we could take an existing codebase that doesn't use Roc, sprinkle some Roc goodness on it, and continue to run the service/product the same way (same entrypoint, same executable build pipeline, same everything external/interface-y) but with part of the compiled code sourcing Roc</p>



<a name="296934886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934886">(Sep 03 2022 at 03:10)</a>:</h4>
<p>In my opinion, this is a massive boon for Roc's adoptability</p>



<a name="296934936"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934936" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934936">(Sep 03 2022 at 03:11)</a>:</h4>
<p>I guess? We also can emit a <code>.o</code> file. Which is probably better than a library in most cases</p>



<a name="296934939"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296934939" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296934939">(Sep 03 2022 at 03:11)</a>:</h4>
<p>I've never used Lua, so maybe analogies to Lua were supposed to elicit this realization earlier for me</p>



<a name="296935020"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935020" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935020">(Sep 03 2022 at 03:12)</a>:</h4>
<p>But yeah, long term, platforms should have more control on specifying the build process. That will likely help a lot. The current situation is all manually hacked into the compiler. When I targeted a microcontroller, I just used the <code>.o</code> file and an external build process</p>



<a name="296935031"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935031" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935031">(Sep 03 2022 at 03:13)</a>:</h4>
<p>Is there precedent for this style of language interop? All of cffi maybe, which I never looked into? All of these JVM-based FPLangs like Scala?</p>



<a name="296935118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935118">(Sep 03 2022 at 03:15)</a>:</h4>
<p>I'm not sure I understand these questions.</p>



<a name="296935127"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935127" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935127">(Sep 03 2022 at 03:15)</a>:</h4>
<p>Can an existing Rust codebase call any compiled Roc app though not import from it?</p>



<a name="296935138"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935138" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935138">(Sep 03 2022 at 03:15)</a>:</h4>
<p>I might need to watch some videos on what cffi and .o are</p>



<a name="296935204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935204">(Sep 03 2022 at 03:16)</a>:</h4>
<p>I'm coming from an understanding that scripting languages call systems languages, not the other way around.</p>



<a name="296935224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935224">(Sep 03 2022 at 03:16)</a>:</h4>
<p>This breaks that distinction for me, in a very promising way :D</p>



<a name="296935266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935266">(Sep 03 2022 at 03:17)</a>:</h4>
<p>When using the dynamic lib or <code>.o</code>, must of the rust code would not change. It still needs to define all of the <code>roc_</code> functions. It also needs to define all of the headers to know how to call roc code. Roc require bidirectional communication</p>



<a name="296935334"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935334" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935334">(Sep 03 2022 at 03:18)</a>:</h4>
<p>(Note: I've known that Roc apps are actually called by Roc platforms, not the other way around at all. However, I assumed that Roc platforms could call same-lang codebases but not the other way around, due to a crude understanding of executable entrypoint.)</p>



<a name="296935376"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935376" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935376">(Sep 03 2022 at 03:19)</a>:</h4>
<p>Ah, so an existing codebase would need to do the minimal enhancements required to become a Roc platform?</p>



<a name="296935477"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935477" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935477">(Sep 03 2022 at 03:21)</a>:</h4>
<p>That helpfully erodes at my idea of Roc platforms being codebases focused on Roc... rather than just codebases that happen to have implemented the adaptations necessary to call Roc</p>



<a name="296935561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935561">(Sep 03 2022 at 03:22)</a>:</h4>
<p>Your last comment hits the nail on the head. For example, you may work on a game and just use Roc as a scripting language, but you still implement an entire game. This is super specialized and would be fine without roc. Roc is just a nice addition.</p>



<a name="296935659"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935659" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935659">(Sep 03 2022 at 03:24)</a>:</h4>
<p>Let's see. The best way to think about this is probably to just consider Roc another package/library in the host language (even though it clearly isn't).</p>
<p>It is a package with a really weird api that imports a few functions (<code>roc_alloc</code>, <code>roc_memcpy</code>, ..., <code>roc_fx_DoSometing</code>) and exposes a few functions <code>roc_main_for_host</code>, etc.</p>



<a name="296935683"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935683" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935683">(Sep 03 2022 at 03:24)</a>:</h4>
<p>Yes, but critically, adding Roc doesn't make your codebase Roc-y and it doesn't create a scoped Roc zone that can't benefit existing code elsewhere</p>



<a name="296935787"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935787" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935787">(Sep 03 2022 at 03:26)</a>:</h4>
<p>The first example I heard about game dev was that devs could add a scripting language for game players/modders to use... but that didn't make me think that the game developers might want to refactor some of the game engine into Roc for maintainability or stability/security reasons</p>



<a name="296935934"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296935934" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296935934">(Sep 03 2022 at 03:29)</a>:</h4>
<p>So, following that simplification, if Roc is basically a Rust/Zig/C library... then a Roc app is basically a particular single data transformation plugin that the library can perform for a Rust/Zig/C codebase?</p>



<a name="296936045"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936045" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936045">(Sep 03 2022 at 03:30)</a>:</h4>
<p>If a Rust codebase calls 3 different Roc apps, will it need 3 "really weird api"s?</p>



<a name="296936051"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936051" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936051">(Sep 03 2022 at 03:30)</a>:</h4>
<p>It would be, but roc can also call effects. That enables it to do more than just transform data</p>



<a name="296936089"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936089" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936089">(Sep 03 2022 at 03:31)</a>:</h4>
<p>True, I suppose the Roc app is a data transformation but the Roc "library" uses the result of that data transformation to call effects on behalf of the codebase</p>



<a name="296936150"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936150" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936150">(Sep 03 2022 at 03:32)</a>:</h4>
<p>Also, roc is really not made with the idea of using multiple apps, though since they are just object files, I guess you could. You would probably have to be careful around name conflicts</p>



<a name="296936172"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936172" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936172">(Sep 03 2022 at 03:33)</a>:</h4>
<p>But yeah, you would need to define all effects expected from all roc apps. Though you would only define things like <code>roc_alloc</code> once.</p>



<a name="296936204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936204">(Sep 03 2022 at 03:33)</a>:</h4>
<p>Also, you would have to deal with all the function calling code, but in the future hopefully glue will generate most of that</p>



<a name="296936207"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936207" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936207">(Sep 03 2022 at 03:33)</a>:</h4>
<p>I suppose it'd be easier to either have the main function switch on a tag or expose a record of functions, rather than using multiple apps</p>



<a name="296936327"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936327" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936327">(Sep 03 2022 at 03:35)</a>:</h4>
<p>Also, long term, roc should be able to expose multiple function directly rather than through main</p>



<a name="296936423"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936423" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936423">(Sep 03 2022 at 03:37)</a>:</h4>
<p>To summarize, any existing Rust/Zig/C(/C++?) codebase can add a few specific IO/memory-related (effect-related) functions and start adding new business logic features in Roc instead of in Rust/Zig/C (or refactoring old business logic into a superior language for it)</p>



<a name="296936506"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936506" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936506">(Sep 03 2022 at 03:38)</a>:</h4>
<p>#BigIfTrue</p>



<a name="296936539"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936539" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936539">(Sep 03 2022 at 03:38)</a>:</h4>
<p>Yeah</p>



<a name="296936580"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936580" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936580">(Sep 03 2022 at 03:39)</a>:</h4>
<p>That enables such a clear incremental adoption/upgrade/refactor story</p>



<a name="296936704"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296936704" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296936704">(Sep 03 2022 at 03:41)</a>:</h4>
<ol>
<li>Add some boilerplate to your codebase</li>
<li>Write new business logic in Roc</li>
<li>Your codebase is now technically also a Roc platform</li>
<li>Be happier</li>
<li>Refactor old business logic into Roc</li>
<li>Your codebase is now ONLY a Roc platform</li>
<li>Be happier</li>
</ol>



<a name="296937249"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296937249" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296937249">(Sep 03 2022 at 03:50)</a>:</h4>
<p>Haha <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> you make it sound so simple</p>



<a name="296937900"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296937900" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296937900">(Sep 03 2022 at 04:00)</a>:</h4>
<p>Hahahaha</p>



<a name="296981876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/296981876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#296981876">(Sep 03 2022 at 11:54)</a>:</h4>
<p>yeah check out <code>examples/ruby-interop</code> - that incremental adoption thing is how we're working on using it at work!</p>



<a name="297052499"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/297052499" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#297052499">(Sep 04 2022 at 02:44)</a>:</h4>
<p>How simple can step 1 become? Can we create+publish+maintain libraries/codegen for that "setup step" (platformification) to become trivial? Is it already trivial by virtue of it requiring only copy/paste of less than 50 lines of code?</p>



<a name="297052538"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/297052538" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#297052538">(Sep 04 2022 at 02:46)</a>:</h4>
<p>I don't know how Rust/Zig/C/Ruby libraries work, but a two-liner like</p>
<div class="codehilite"><pre><span></span><code>import Roc
Roc.initializePlatform({ ... })
</code></pre></div>
<p>would be super cool</p>



<a name="297053278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Building%20Roc%20apps%20into%20Otherlang%20libraries/near/297053278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Building.20Roc.20apps.20into.20Otherlang.20libraries.html#297053278">(Sep 04 2022 at 03:02)</a>:</h4>
<p>The goal of <code>roc glue</code> is to make that step trivial!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
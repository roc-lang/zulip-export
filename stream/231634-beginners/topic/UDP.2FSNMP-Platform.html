<html>
<head><meta charset="utf-8"><title>UDP/SNMP-Platform · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html">UDP/SNMP-Platform</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="412707451"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412707451" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412707451">(Jan 13 2024 at 12:43)</a>:</h4>
<p>Hi, <br>
I'm motivated to implement  an SNMP-Library for Roc, but I'm unable to find a platform which lets me send and recieve UDP-packets. Is there already any platform or just an API for UDP? It's hard to find good pointers to platforms and their API. So thanks in advance for any help or pointers for this matter :)</p>



<a name="412708105"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412708105" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412708105">(Jan 13 2024 at 12:54)</a>:</h4>
<p>I've never heard of anyone implementing either of these for Roc. I'm pretty sure we don't have them yet. In fact I never heard of SNMP at all! Maybe you could say a bit more about what kind of apps you want to build?</p>



<a name="412708125"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412708125" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412708125">(Jan 13 2024 at 12:54)</a>:</h4>
<p>Basic-cli has <a href="https://github.com/roc-lang/basic-cli/blob/main/platform/Tcp.roc">Tcp implemented</a> so you could fork that and add Udp in a similar way.</p>



<a name="412708636"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412708636" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412708636">(Jan 13 2024 at 13:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="431893">Brian Carroll</span> <a href="#narrow/stream/231634-beginners/topic/UDP.2FSNMP-Platform/near/412708105">said</a>:</p>
<blockquote>
<p>I've never heard of anyone implementing either of these for Roc. I'm pretty sure we don't have them yet. In fact I never heard of SNMP at all! Maybe you could say a bit more about what kind of apps you want to build?</p>
</blockquote>
<p>In my workplace, we have a lot of low level hardware (routers, switches,...) that I need to monitor. Usually, they are locked down to only respond to ICMP and SNMP. So I'm forced to use that protocol, it's not the best but it does the job.</p>
<p>Until now, I used some python or perl libraries to write simple scripts that gather metrics via snmp. <br>
I wrote my bachelor thesis using elm and learned to love the functional style. <br>
Since elm is not suited at all for these tasks, roc is a natural replacement for it.</p>



<a name="412709065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709065">(Jan 13 2024 at 13:09)</a>:</h4>
<p>OK cool. Well people have done low level programming with Roc before, and this sounds totally feasible, but nobody's done it yet. I think Anton's suggestion is the right place to start! The basic-cli platform is for writing command line scripts, and it sounds like you've written this kind of script with other languages before so it should fit.<br>
Do keep us updated and keep asking questions!</p>



<a name="412709088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709088">(Jan 13 2024 at 13:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/UDP.2FSNMP-Platform/near/412708125">said</a>:</p>
<blockquote>
<p>Basic-cli has <a href="https://github.com/roc-lang/basic-cli/blob/main/platform/Tcp.roc">Tcp implemented</a> so you could fork that and add Udp in a similar way.</p>
</blockquote>
<p>That's a good start! If I'm not mistaken, I would have to add the send/recieve method declaration (!= implementation) in<a href="https://github.com/roc-lang/basic-cli/blob/main/platform/Effect.roc#L80">Effect</a> but where would I then implement the according Rust code?</p>



<a name="412709179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709179">(Jan 13 2024 at 13:11)</a>:</h4>
<p>Rust TCP code is <a href="https://github.com/roc-lang/basic-cli/blob/main/platform/src/lib.rs#L727-L857">here</a></p>



<a name="412709246"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709246" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709246">(Jan 13 2024 at 13:12)</a>:</h4>
<p>The Rust function linked as <code>roc_fx_tcpConnect</code> implements the effect called <code>tcpConnect</code> in Roc</p>



<a name="412709294"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709294" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709294">(Jan 13 2024 at 13:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="431893">Brian Carroll</span> <a href="#narrow/stream/231634-beginners/topic/UDP.2FSNMP-Platform/near/412709179">said</a>:</p>
<blockquote>
<p>Rust TCP code is <a href="https://github.com/roc-lang/basic-cli/blob/main/platform/src/lib.rs#L727-L857">here</a></p>
</blockquote>
<p>Perfect! I'll go ahead and keep you updated ;) Thank you so much :)</p>



<a name="412709296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412709296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412709296">(Jan 13 2024 at 13:13)</a>:</h4>
<p>The <code>roc_fx_</code> name prefix is added by the compiler. This convention is part of how effects work in Roc. It's not very well documented unfortunately but hopefully you will be able to follow the patterns.</p>



<a name="412711372"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412711372" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412711372">(Jan 13 2024 at 13:47)</a>:</h4>
<p>There is also a <a href="https://github.com/j340m3/basic-cli/blob/main/platform/src/tcp_glue.rs">tcp_glue.rs</a> file saying that it was generated via roc glue. Whats up with that? The cli says "Generate glue code between a platform's Roc API and its host language". Will it be automatically called upon build of basic-cli or do I have to do so manually? Is there more documentation on that?</p>



<a name="412711837"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412711837" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412711837">(Jan 13 2024 at 13:54)</a>:</h4>
<p>The Rust code needs to know how to read and write the Roc data structures, so we autogenerate Rust type definitions for them, and we call this "glue code".<br>
The <code>roc glue</code> command generates this glue code. You need to provide it with the platform main.roc file and another Roc file specific to the language you are generating for. It currently only works well with Rust - there's a RustGlue.roc somewhere in the repo.<br>
I personally don't know the basic-cli platform well enough to know what build script it's run from. I'd start looking in the CI scripts and Cargo <a href="http://build.rs">build.rs</a> file.</p>



<a name="412712928"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412712928" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412712928">(Jan 13 2024 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="431893">Brian Carroll</span> <a href="#narrow/stream/231634-beginners/topic/UDP.2FSNMP-Platform/near/412711837">said</a>:</p>
<blockquote>
<p>The Rust code needs to know how to read and write the Roc data structures, so we autogenerate Rust type definitions for them, and we call this "glue code".<br>
The <code>roc glue</code> command generates this glue code. You need to provide it with the platform main.roc file and another Roc file specific to the language you are generating for. It currently only works well with Rust - there's a RustGlue.roc somewhere in the repo.<br>
I personally don't know the basic-cli platform well enough to know what build script it's run from. I'd start looking in the CI scripts and Cargo <a href="http://build.rs">build.rs</a> file.</p>
</blockquote>
<p>Allright, so there is no standard way of doing it platformwise and I have to dig into the CI to see if/where its called. But is it called on a <em>per platform basis</em> or on a <em>per module basis</em>, does <code>roc glue</code> automagically find, what it has to generate or do I have to supply arguments? <br>
The CLI says it wants:<br>
<code>roc glue &lt;GLUE_SPEC&gt; &lt;GLUE_DIR&gt; [ROC_FILE]</code><br>
I would assume that ( in the case of basic-cli):</p>
<ul>
<li><code>GLUE_DIR</code> is <code>platform/src</code></li>
<li><code>ROC_FILE</code> is <code>platform/Effect.roc</code></li>
</ul>
<p>but what (the hell) is a <code>GLUE_SPEC</code> ;)?<br>
Edit: Answered <a href="#narrow/stream/231634-beginners/topic/How.20to.20use.20roc.20glue.3F">here</a></p>



<a name="412712938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412712938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412712938">(Jan 13 2024 at 14:12)</a>:</h4>
<p>Glue is not generated in CI or using the <a href="http://build.rs">build.rs</a>, all glue files have been generated with <code>roc glue ...</code> and added to the repo</p>



<a name="412713130"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412713130" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412713130">(Jan 13 2024 at 14:16)</a>:</h4>
<p>GLUE_SPEC may be <a href="https://github.com/roc-lang/roc/blob/2d64d134d44e0616f53cb68f6c15890690ddc4bf/crates/glue/src/RustGlue.roc#L4">this file</a> but I don't have much glue experience either.</p>



<a name="412722879"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412722879" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412722879">(Jan 13 2024 at 16:38)</a>:</h4>
<p>For basic-cli I have a PR that hasn't merged yet, that cleans up glue for the whole platform to be generated from the one script. You can check that out for inspiration on how you could use glue to generate the types you need for these new effects.</p>



<a name="412722929"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412722929" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412722929">(Jan 13 2024 at 16:39)</a>:</h4>
<p>Glue is still a work in progress and there are quite a few known issues that you need to work around, but for the most part it is very helpful, moreso than manually writing the glue code.</p>



<a name="412724789"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412724789" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412724789">(Jan 13 2024 at 17:06)</a>:</h4>
<p>Can you share a link to the PR?</p>



<a name="412725224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/412725224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#412725224">(Jan 13 2024 at 17:11)</a>:</h4>
<p><a href="https://github.com/roc-lang/basic-cli/pull/135">https://github.com/roc-lang/basic-cli/pull/135</a></p>



<a name="441350917"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441350917" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441350917">(May 30 2024 at 00:48)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> -- also came here interested in a UDP implementation. <span class="user-mention" data-user-id="471840">@Jerome Bergmann</span> -- did you have any luck with this?</p>



<a name="441456338"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441456338" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerome Bergmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441456338">(May 30 2024 at 13:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699215">Aaron Strick</span> <a href="#narrow/stream/231634-beginners/topic/UDP.2FSNMP-Platform/near/441350917">said</a>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> -- also came here interested in a UDP implementation. <span class="user-mention silent" data-user-id="471840">Jerome Bergmann</span> -- did you have any luck with this?</p>
</blockquote>
<p>No, I spent a couple of hours poking around in the source code and then my personal life carried me away. If you have any success, I'm still interested. TBH, I forgot this thread until your question slided into my mails. Maybe I will give it at shot in the near future. Anyways, good luck, hope we'll get this sooner than later ;)</p>



<a name="441534949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441534949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441534949">(May 30 2024 at 19:16)</a>:</h4>
<p>OK - I started poking around last night and I made some progress. I did the following:</p>
<ol>
<li>I built roc and cloned <code>basic-cli</code></li>
<li>I got it so that if I make changes to <code>basic-cli</code> - I can run a roc program that reflects those changes</li>
<li>I created a <code>Udp</code> and <code>InternalUdp</code> packages that basically just copy/paste the respective Tcp modules</li>
<li>I got my test program to crash because of a lack of corresponding functions in <code>src/lib.rs</code></li>
<li>I started poking at the rust <a href="https://doc.rust-lang.org/std/net/struct.UdpSocket.html"><code>UdpSocket</code></a> docs so I could actually implement it</li>
</ol>
<hr>
<p>But I stopped there for night 1-</p>
<p>I'm <strong><em>hoping</em></strong> that by adding the appropriate functions in <code>lib.rs</code> it will Just Work<span aria-label="tm" class="emoji emoji-2122" role="img" title="tm">:tm:</span> -- but I have a sense that I will need to do something around "generating glue" -- but I don't know.</p>
<p>Perhaps someone could weigh in here. (But also, I won't be able to dive back for the next few days... and at that point, I'll know better if I run into a hiccup.</p>



<a name="441874369"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874369" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874369">(Jun 01 2024 at 08:18)</a>:</h4>
<p>Made some progress here:</p>
<ol>
<li>I changed my copy pasted <code>Tcp</code> modules so that they actually had a few Udp specific functions.</li>
<li>I wrote an example that uses it</li>
<li>I implemented the corresponding functions in <a href="http://lib.rs">lib.rs</a></li>
</ol>
<p>But... unfortunately I got kind of stuck here.</p>
<p>I first received errors that were somewhat expected -- that my types didn't actually exist in rust.</p>
<div class="codehilite"><pre><span></span><code>error[E0433]: failed to resolve: could not find `BindResult` in `roc_app`
   --&gt; src/lib.rs:951:22
    |
951 |             roc_app::BindResult::Bound(ptr)
    |                      ^^^^^^^^^^
    |                      |
    |                      could not find `BindResult` in `roc_app`
</code></pre></div>
<p>This makes sense!</p>
<p>I had a feeling I'd have to generate some glue. So I ran the <code>./glue.sh</code> script that is in the repo.<br>
This resulted in a big diff  in<code>crates/roc_app/*</code>. <br>
On the surface, the diff looked good (ie, I saw my new types reflected)</p>
<p>However! I could not get the example to run, receiving a wholly unexpected group of errors that looked like this:</p>
<div class="codehilite"><pre><span></span><code>   --&gt; /Users/strickinato/code/basic-cli/crates/roc_app/src/x86_64.rs:326:39
    |
326 | const _SIZE_CHECK_union_ReadErr: () = assert!(core::mem::size_of::&lt;union_ReadErr&gt;() == 40);
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the evaluated program panicked at &#39;assertion failed: core::mem::size_of::&lt;union_ReadErr&gt;() == 40&#39;, /Users/strickinato/code/basic-cli/crates/roc_app/src/x86_64.rs:326:39
    |
    = note: this error originates in the macro `assert` (in Nightly builds, run with -Z macro-backtrace for more info)
</code></pre></div>
<p>This is where I'm stuck. And I am wondering:</p>
<ul>
<li>Is there a different way I should be generating the glue?</li>
<li>Do I have a version mismatch of some kind?</li>
<li>Or something entirely different?</li>
</ul>
<p>Here is a draft PR with my starting initial code and the example:<br>
<a href="https://github.com/roc-lang/basic-cli/pull/212/files">https://github.com/roc-lang/basic-cli/pull/212/files</a></p>
<p>I've also checked in the problematic generated glue code:<br>
(<a href="https://github.com/roc-lang/basic-cli/pull/212/commits/c248ce19dc64d36e868351d0af0eabc36061cc31">commit</a>)</p>
<p>If anyone has an ideas to unblock, happy to keep trucking.</p>



<a name="441874482"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874482" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874482">(Jun 01 2024 at 08:19)</a>:</h4>
<p>If your types are simple enough it's much easier to hand roll them.</p>



<a name="441874572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874572">(Jun 01 2024 at 08:20)</a>:</h4>
<p>If your type is more complicated, I think the best strategy is to make a "fake" platform that just uses that single type, and then run glue on it and copy-paste the generate Rust out and clean it up a bit manually.</p>



<a name="441874671"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874671" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874671">(Jun 01 2024 at 08:22)</a>:</h4>
<p>If you can avoid re-generating glue for the whole of basic cli then that would be best, as I usually go through and fixup the glue generated code manually.</p>



<a name="441874736"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874736" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874736">(Jun 01 2024 at 08:22)</a>:</h4>
<p>If you use a fake platform you can generate glue into a random/temp directory</p>



<a name="441874843"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874843" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874843">(Jun 01 2024 at 08:23)</a>:</h4>
<p>Interesting! OK -- By "hand roll"<br>
I am pretty sure you mean to just type out (or copy/paste/edit) the types in crates/roc_app/&lt;arch&gt;.rs</p>
<p>That I think I can do</p>



<a name="441874875"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874875" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874875">(Jun 01 2024 at 08:23)</a>:</h4>
<p>Also, I have a release of the glue platform files so you don't have to have the roc repository cloned locally. You can copy just the <code>RustGlue.roc</code> spec and replace the platform with <code>    pf: platform "https://github.com/lukewilliamboswell/roc/releases/download/test/olBfrjtI-HycorWJMxdy7Dl2pcbbBoJy4mnSrDtRrlI.tar.br",</code></p>



<a name="441874968"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441874968" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441874968">(Jun 01 2024 at 08:24)</a>:</h4>
<p>Yes, though I would advise putting your handrolled types in <code>platform/src/lib.rs</code> for now</p>



<a name="441875051"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441875051" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441875051">(Jun 01 2024 at 08:25)</a>:</h4>
<p>The <code>roc_app</code> crate is generated by glue, so you might lose the types if someone re-generates glue over the top of it</p>



<a name="441875219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441875219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441875219">(Jun 01 2024 at 08:27)</a>:</h4>
<p><span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span> - OK - that makes sense.</p>



<a name="441875224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441875224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441875224">(Jun 01 2024 at 08:27)</a>:</h4>
<p>I find using <code>roc glue RustGlue.roc glue-tmp/ dummy-platform.roc</code> and using the generated types much quicker than writing by hand, and if you have  only one type in the <code>mainForHost</code> in the <code>dummy-platform.roc</code> then there isn't too much to sift through</p>



<a name="441875369"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441875369" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441875369">(Jun 01 2024 at 08:29)</a>:</h4>
<p>I don't really have reps setting up platforms yet -- so I'll probably start with the hand roll option. I should be able to dive into that more quickly</p>



<a name="441875687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/UDP/SNMP-Platform/near/441875687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Strick <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/UDP.2FSNMP-Platform.html#441875687">(Jun 01 2024 at 08:32)</a>:</h4>
<p>Thanks for your help <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
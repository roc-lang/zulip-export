<html>
<head><meta charset="utf-8"><title>dynamic access to Record fields and Tuple items in Roc · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html">dynamic access to Record fields and Tuple items in Roc</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="562277011"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562277011" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Minato 13 <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562277011">(Dec 07 2025 at 01:34)</a>:</h4>
<p>Hi, I installed ROC today and started playing around a bit to try to learn the language, and I’m finding it really interesting so far.</p>
<p>I got a question about how to access a Tuple or a Record based on a variable, for example:</p>
<div class="codehilite"><pre><span></span><code>record = { foo: &quot;bar&quot;, fizz: &quot;buzz&quot; }
key = &quot;fizz&quot;
# how can I access the field based on the value of `key` without hardcoding record.fizz?
</code></pre></div>
<div class="codehilite"><pre><span></span><code>tuple = (&quot;foo&quot;, &quot;bar&quot;)
index = 1
# how can I access the element at `index` in the tuple using the variable `index`
# without hardcoding tuple.1?
</code></pre></div>



<a name="562281446"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281446" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281446">(Dec 07 2025 at 03:21)</a>:</h4>
<p>You have two main options</p>



<a name="562281457"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281457" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281457">(Dec 07 2025 at 03:21)</a>:</h4>
<p>One, use different data structures for dynamic acces. Instead of a record, use a dictionary. Instead of a tuple, use a list.</p>



<a name="562281476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281476">(Dec 07 2025 at 03:22)</a>:</h4>
<p>Two, write a mapping function for access. (Though maybe we should autogenerate this for tuple at least).</p>



<a name="562281552"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281552" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281552">(Dec 07 2025 at 03:24)</a>:</h4>
<p>Something like (I hope this is the right syntax for match):</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">getTup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">tup</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="o">|</span><span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">match</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="no">Ok</span><span class="p">(</span><span class="n">tup</span><span class="o">.</span><span class="mi">0</span><span class="p">),</span>
<span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="no">Ok</span><span class="p">(</span><span class="n">tup</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span>
<span class="w">        </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="no">Err</span><span class="p">(</span><span class="no">OutOfBounds</span><span class="p">),</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>



<a name="562281558"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281558" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281558">(Dec 07 2025 at 03:24)</a>:</h4>
<p>Can do something equivalent for the string keys and the record.</p>



<a name="562281571"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281571" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281571">(Dec 07 2025 at 03:25)</a>:</h4>
<p>Oh, one other note for these. You can also use lambdas.</p>



<a name="562281581"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281581" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281581">(Dec 07 2025 at 03:25)</a>:</h4>
<p>So <code>.foo</code> should give you a function to extra the foo field from a record. Some with <code>.1</code> for a tuple.</p>



<a name="562281583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562281583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562281583">(Dec 07 2025 at 03:25)</a>:</h4>
<p>That might also be enough for your use case.</p>



<a name="562289808"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/dynamic%20access%20to%20Record%20fields%20and%20Tuple%20items%20in%20Roc/near/562289808" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/dynamic.20access.20to.20Record.20fields.20and.20Tuple.20items.20in.20Roc.html#562289808">(Dec 07 2025 at 06:48)</a>:</h4>
<p>+1 to what Brendan has said. Roc doesn't have runtime type information, so when you want to do something truly dynamic (e.g. you read a string from stdin and you access <code>record.&lt;str-content-here&gt;</code>, in JS it would be <code>record[strContent]</code>), you have to do the mapping at compile time (Brendan's <code>getTup</code> is like that), or you need a datastructure that will do that mapping for you at runtime. </p>
<p><em>In hindsight I see, I've gone way overboard with this answer. Don't worry, you don't have to understand this to use roc.</em></p>
<p>A record is just like a tuple in Roc, except the fields have a "proper" name, not just numbers. They are both like a C struct if you're familiar with them. Your <code>record</code> var will take up 48 bytes. 24 for each of the 2 strings. A string is 8+8+8 bytes on your system (A pointer to the start of the string, a length and another number that helps with managing its memory).  These 2 strings are just one-after-another when your program executes and the interpreter doesn't know what the name of each field in your source code was. For that, it would have to store those names as well, making the struct double its size. You could imagine a simple algorithm running on <code>record[strContent]</code> that would search for strContent in the record's list of fieldnames and when it finds it (if it finds it), returns the value with the same index. But that wouldn't be enough either, because if you have a <code>record = { foo: "bar", fizz: True, buzz: False }</code>,  <code>record</code> takes up (24+1+1) bytes, 1 byte for each boolean. There it's not enough to say "get the 3rd element", because how do you know where that is? It is at offset byte 25 (zero-indexed) from the start of the struct, but for that to be dynamic, we would have to know at runtime how big each of the fields are (runtime type information), so that we could do the calculation of "it starts at offset 24+1". All that to say, structs are not dictionaries that have all this machinery in them, but we have (will have once implemented) Dict-s that handle this use case. They are also nicer in that they handle the case when there isn't such key as you have provided, while structs and tuples will only access fields that are guaranteed there.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
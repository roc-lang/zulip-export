<html>
<head><meta charset="utf-8"><title>Exclamation mark for List.forEach! not being detected?? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html">Exclamation mark for List.forEach! not being detected??</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="485421343"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421343" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pci_express <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421343">(Nov 30 2024 at 21:21)</a>:</h4>
<p>Hey all! I'm very new to Roc, and I just ran into what seems to be a very basic error, but I can't find an obvious answer to: </p>
<div class="codehilite"><pre><span></span><code>The List module does not expose `forEach`:

4│      List.forEach! [1, 2, 3] \num -&gt; &quot;Hi&quot;
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Did you mean one of these?

    List.forEach!
    List.forEachTry!
    List.concat
    List.first
</code></pre></div>
<p>I've been getting the above List.forEach! error no matter what I do or where I run it (command line, web repl). The compiler just doesn't seem to detect the exclamation mark in my code? This is not a universal problem, because I'm able to use other functions like Stdout.line! just fine. Am I missing something obvious here? I'm running with the latest Roc nightly build 2024-11-29-d72da8e for linux x86-64. Thanks in advance!</p>



<a name="485421480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421480">(Nov 30 2024 at 21:23)</a>:</h4>
<p>What platform are you using? If the platform is using <code>Task</code>s then it will expect Tasks to be used everywhere and not purity inference.</p>



<a name="485421494"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421494" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421494">(Nov 30 2024 at 21:23)</a>:</h4>
<p>Strange though... <a href="https://www.roc-lang.org/builtins/List#forEach">https://www.roc-lang.org/builtins/List#forEach</a>! is included in the docs</p>



<a name="485421595"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421595" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421595">(Nov 30 2024 at 21:25)</a>:</h4>
<p>Are you able to post a larger snippet of your code? The error shows you are returning an expression, the string literal "Hi" which wouldn't be an effectful function call.</p>



<a name="485421725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421725">(Nov 30 2024 at 21:26)</a>:</h4>
<p>You may also be on an older nightly... so that could be an issue to.</p>



<a name="485421754"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485421754" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485421754">(Nov 30 2024 at 21:26)</a>:</h4>
<p>Just throwing some ideas out there in case this helps. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="485422169"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422169" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422169">(Nov 30 2024 at 21:32)</a>:</h4>
<p>The problem of living between two worlds (tasks and purity inference).</p>



<a name="485422270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422270">(Nov 30 2024 at 21:34)</a>:</h4>
<p>In your example above, I think you would just want <code>List.map</code>. If you do need effects, you probably have to use a recursive function or <code>List.walk</code> to build up a task. <code>List.forEach!</code> only works with purity inference as luke mentioned above.</p>



<a name="485422378"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422378" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pci_express <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422378">(Nov 30 2024 at 21:36)</a>:</h4>
<p>My platform is <code>https://github.com/roc-lang/basic-cli/releases/download/0.17.0/lZFLstMUCUvd5bjnnpYromZJXkQUrdhbva4xdBInicE.tar.br</code>. </p>
<p>Here's the full main.roc file I've got right now  (excluding testing code I wrote further down):</p>
<div class="codehilite"><pre><span></span><code>app [main] { pf: platform &quot;https://github.com/roc-lang/basic-cli/releases/download/0.17.0/lZFLstMUCUvd5bjnnpYromZJXkQUrdhbva4xdBInicE.tar.br&quot; }
import pf.Stdout
import &quot;test.txt&quot; as sample : List U8

main =
    Stdout.line! &quot;I&#39;m a Roc application!&quot;
    total = addAndStringify {birds: 3, iguanas: 2}
    Stdout.line! &quot;There are $(total) animals&quot;
    List.forEach! [&quot;entry1&quot;, &quot;entry2&quot;, &quot;entry3&quot;] \str -&gt;
        Stdout.line! str

# New helper function!
addAndStringify = \count -&gt;
    sum = count.birds + count.iguanas
    if sum == 0 then
        &quot;&quot;
    else if sum &lt; 0 then
        &quot;negative&quot;
    else
        Num.toStr sum
</code></pre></div>



<a name="485422410"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422410" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pci_express <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422410">(Nov 30 2024 at 21:36)</a>:</h4>
<p>(the original snippet I posted above was me tooling around in the roc repl trying to find a solution lol)</p>



<a name="485422552"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422552" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422552">(Nov 30 2024 at 21:39)</a>:</h4>
<p>Yeah, basic CLI does not yet have a release with purity inference (PR is so close to landing). So it can't use anything in the standard library with a <code>!</code> in the name</p>



<a name="485422567"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422567" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422567">(Nov 30 2024 at 21:39)</a>:</h4>
<p>That said, I think basic CLI expose <code>Task.forEach</code> instead</p>



<a name="485422662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422662">(Nov 30 2024 at 21:40)</a>:</h4>
<p>Or, it's in the standard library</p>



<a name="485422676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422676">(Nov 30 2024 at 21:41)</a>:</h4>
<p>Has the same signature, so should just work instead of the list version</p>



<a name="485422713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485422713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pci_express <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485422713">(Nov 30 2024 at 21:41)</a>:</h4>
<p>ah ok cool, thanks for the tips <span class="user-mention" data-user-id="515757">@Luke Boswell</span> <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> !! Another noob question: what are tasks/purity inference (and/or is there a link where I can read more about them )?  For context, my programming background is all in Rust/C++/C systems land, so I haven't substantially interacted with functional languages prior (if this is a functional languages property?).</p>



<a name="485423296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Exclamation%20mark%20for%20List.forEach%21%20not%20being%20detected%3F%3F/near/485423296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Exclamation.20mark.20for.20List.2EforEach.21.20not.20being.20detected.3F.3F.html#485423296">(Nov 30 2024 at 21:51)</a>:</h4>
<p>Richard has a talk on it <a href="https://youtu.be/42TUAKhzlRI?si=K_MSSRqBgngcvJb0">https://youtu.be/42TUAKhzlRI?si=K_MSSRqBgngcvJb0</a> "The Functional Purity Inference Plan"</p>
<div class="youtube-video message_inline_image"><a data-id="42TUAKhzlRI" href="https://youtu.be/42TUAKhzlRI?si=K_MSSRqBgngcvJb0"><img src="https://uploads.zulipusercontent.net/8c33b5cd1c8227ab0b3ead322bc76a00c437f7ff/68747470733a2f2f692e7974696d672e636f6d2f76692f34325455414b687a6c52492f64656661756c742e6a7067"></a></div>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
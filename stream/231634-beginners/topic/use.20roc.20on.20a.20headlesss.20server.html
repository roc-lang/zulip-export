<html>
<head><meta charset="utf-8"><title>use roc on a headlesss server · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html">use roc on a headlesss server</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="329055462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329055462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329055462">(Feb 20 2023 at 19:39)</a>:</h4>
<p>so a friend tried to grab roc from nightly and run it<br>
problem being </p>
<ol>
<li>he runs (and can only run) in a headless server</li>
<li>he cannot install any software</li>
<li>he gets <code>error while loading shared libraries: libasound.so.2  No such file or directory</code></li>
</ol>
<p>now (I think) I get why, guess the editor depends on alsa for audio<br>
and ofc he does not have a DE so it is not installed by default, and again he can't (and perhaps shouldn't need to ideally) install it himself for roc to operate</p>
<p>so then what would people who can only to run/ program in a tty environment do?</p>



<a name="329055754"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329055754" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329055754">(Feb 20 2023 at 19:41)</a>:</h4>
<p>I think there should be an option to ignore it with the warning that only partial functionality will be enabled, no?</p>



<a name="329062360"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329062360" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329062360">(Feb 20 2023 at 20:29)</a>:</h4>
<p>There is a feature flag when compiling from source to disable it.</p>



<a name="329062388"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329062388" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329062388">(Feb 20 2023 at 20:30)</a>:</h4>
<p>Not a direct solution, but does enable a workaround</p>



<a name="329094688"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329094688" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329094688">(Feb 21 2023 at 02:30)</a>:</h4>
<p>I think ideally we could also gracefully degrade regarding audio</p>



<a name="329094713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329094713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329094713">(Feb 21 2023 at 02:30)</a>:</h4>
<p>we use a Rust crate for audio, and I'm not sure what their options are regarding that</p>



<a name="329095133"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329095133" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329095133">(Feb 21 2023 at 02:36)</a>:</h4>
<p>honestly I wouldn't mind if we removed <code>rodio</code> as a dependency for now</p>



<a name="329095186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329095186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329095186">(Feb 21 2023 at 02:37)</a>:</h4>
<p>we aren't using it for anything, and I'd really like to avoid having <code>roc</code> depend on shared libraries like this which aren't always available</p>



<a name="329095219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329095219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329095219">(Feb 21 2023 at 02:37)</a>:</h4>
<p>because in general I want to avoid support requests of the form "I don't have <code>lib_____</code> and <code>roc</code> won't work without it, how do I fix this?" - they are really terrible UX</p>



<a name="329095282"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329095282" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329095282">(Feb 21 2023 at 02:38)</a>:</h4>
<p>what do others think about removing <code>rodio</code> as a dependency for now (we aren't actually using it for anything real yet anyway, it just makes it so that pressing F12 plays a bell sound - basically "hello world")</p>



<a name="329096906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329096906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329096906">(Feb 21 2023 at 03:02)</a>:</h4>
<p>Silly question - what does the editor need audio for?</p>



<a name="329096915"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329096915" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329096915">(Feb 21 2023 at 03:02)</a>:</h4>
<p>(I say this as someone who takes pains to turn off the terminal bell)</p>



<a name="329097370"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097370" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097370">(Feb 21 2023 at 03:10)</a>:</h4>
<p>short answer is accessibility</p>



<a name="329097395"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097395" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097395">(Feb 21 2023 at 03:11)</a>:</h4>
<p>text-to-speech</p>



<a name="329097421"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097421" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097421">(Feb 21 2023 at 03:11)</a>:</h4>
<p>so we definitely need it in the future, but I don't know that solving the shared library problem right now is worth the trouble until we actually have something to use that library with <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="329097422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097422">(Feb 21 2023 at 03:11)</a>:</h4>
<p>Ahhh interesting</p>



<a name="329097489"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097489" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097489">(Feb 21 2023 at 03:12)</a>:</h4>
<p>I would have thought that text-to-speech is something you'd generally depend on OS functionality for, rather than having that built-in</p>



<a name="329097516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097516">(Feb 21 2023 at 03:12)</a>:</h4>
<p>Both mac &amp; windows have accessibility APIs to expose text to screen readers</p>



<a name="329097533"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097533" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097533">(Feb 21 2023 at 03:13)</a>:</h4>
<p>Would need to do some research on linux</p>



<a name="329097685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329097685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329097685">(Feb 21 2023 at 03:16)</a>:</h4>
<p>yeah we talked about those options - short version is that it seems like for our use case we'll have an easier time getting to a good outcome if we go the direct audio route for the actual text, and just use OS APIs to detect user settings</p>



<a name="329098749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329098749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329098749">(Feb 21 2023 at 03:30)</a>:</h4>
<p>Have you talked to people who actually use screen readers (for coding or otherwise)?</p>



<a name="329098776"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329098776" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329098776">(Feb 21 2023 at 03:30)</a>:</h4>
<p>(I ask, not having done so myself - but I'm assuming such people would have important opinions on the matter)</p>



<a name="329098919"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329098919" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329098919">(Feb 21 2023 at 03:32)</a>:</h4>
<p>Also, good TTS is hard.</p>



<a name="329098929"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329098929" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329098929">(Feb 21 2023 at 03:33)</a>:</h4>
<p>I guess on the other hand if the Roc editor could really nail a good experience for visually-impaired people, that could be a good selling point for that niche market.</p>



<a name="329098938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329098938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329098938">(Feb 21 2023 at 03:33)</a>:</h4>
<p>... but seems like a serious case of scope creep ;)</p>



<a name="329099061"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329099061" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329099061">(Feb 21 2023 at 03:35)</a>:</h4>
<p>... and if you already talked to a visually impaired person to come to the current plan - definitely just ignore everything I said!</p>



<a name="329099515"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329099515" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329099515">(Feb 21 2023 at 03:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="453336">Joshua Warner</span> <a href="#narrow/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server/near/329098749">said</a>:</p>
<blockquote>
<p>Have you talked to people who actually use screen readers (for coding or otherwise)?</p>
</blockquote>
<p>yeah, <span class="user-mention" data-user-id="479655">@Jose Quesada</span> - that's who I was referring to with the "we" who concluded we should do our own audio <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="329099642"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329099642" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329099642">(Feb 21 2023 at 03:42)</a>:</h4>
<p>I think actually the difference between doing a really good job and doing a functionally adequate job at all will be mostly a matter of design effort</p>



<a name="329099671"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329099671" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329099671">(Feb 21 2023 at 03:43)</a>:</h4>
<p>I suspect the implementation effort will be pretty comparable either way, but I could be wrong!</p>



<a name="329099931"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329099931" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329099931">(Feb 21 2023 at 03:47)</a>:</h4>
<p>I wonder how hard it would be to link to the underlying audio library dynamically - only when available on the system?</p>



<a name="329100237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329100237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329100237">(Feb 21 2023 at 03:52)</a>:</h4>
<p>yeah I think that's ideally what we'd do - I assume the <code>rodio</code> crate would have to support that, which I don't know if it does!</p>



<a name="329103633"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329103633" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329103633">(Feb 21 2023 at 04:43)</a>:</h4>
<p>I think there is a second dependency on x/Wayland for visuals, correct? So that would have to go too for working in cli? Or does that work on Linux with no GUI.</p>



<a name="329103781"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329103781" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329103781">(Feb 21 2023 at 04:45)</a>:</h4>
<p>Tangentially, I've kinda wanted to experiment with a terminal-only version of the editor ;)</p>



<a name="329104487"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329104487" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329104487">(Feb 21 2023 at 04:55)</a>:</h4>
<p>^^ I would love to get roc-tui mature enough to do something like this.</p>



<a name="329104600"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329104600" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329104600">(Feb 21 2023 at 04:56)</a>:</h4>
<p>I don't really have any long term ambitions for it at the moment other then just experimenting with ideas like this.</p>



<a name="329133081"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329133081" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329133081">(Feb 21 2023 at 08:46)</a>:</h4>
<p>I'll take out rodio for now, I'll also set up a headless VM to check if no other issues pop up.</p>



<a name="329269397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/329269397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#329269397">(Feb 21 2023 at 19:05)</a>:</h4>
<p>I've set up a PR <a href="https://github.com/roc-lang/roc/pull/5062">here</a> with rodio removed and I've confirmed it works on a headless ubuntu 22.04 server. It may not yet make it in tomorrow's nightly but the branch can be used to build a release with:</p>
<div class="codehilite"><pre><span></span><code>RUSTFLAGS=&quot;-C target-cpu=x86-64&quot; cargo build --release
./ci/package_release.sh roc_release_no_alsa
</code></pre></div>



<a name="339700423"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339700423" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339700423">(Mar 05 2023 at 14:09)</a>:</h4>
<p><a href="/user_uploads/22008/CNIL1VuABNPwdKlU6lWBZx7Z/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/CNIL1VuABNPwdKlU6lWBZx7Z/image.png" title="image.png"><img src="/user_uploads/22008/CNIL1VuABNPwdKlU6lWBZx7Z/image.png"></a></div>



<a name="339735042"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339735042" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339735042">(Mar 05 2023 at 19:05)</a>:</h4>
<p>uknow <span class="user-mention" data-user-id="361169">@Anton</span>  the more i think about it, why is it not possible to just dynamically load these stuff on demand, at runtime, when a user tries to open the editor?</p>



<a name="339736988"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339736988" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339736988">(Mar 05 2023 at 19:27)</a>:</h4>
<p>Looks maybe possible, but also potentially a bit a fight with rust</p>



<a name="339737008"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339737008" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339737008">(Mar 05 2023 at 19:27)</a>:</h4>
<p>Best discussion i have found on it so far: <a href="https://users.rust-lang.org/t/linux-executable-lazy-loading/65621">https://users.rust-lang.org/t/linux-executable-lazy-loading/65621</a></p>



<a name="339805482"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339805482" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339805482">(Mar 06 2023 at 08:40)</a>:</h4>
<p>Dynamic loading on demand has an obvious benefit but also a significant downside, like that the editor suddenly breaks when you try to copy something because you don't have the correct dyn lib available. It's not a nice user experience and gives a very bad impression.</p>
<p>I think the way to go would be to start on a headless/CI/server nightly release.</p>
<p>In  <code>crates/cli/Cargo.toml</code> we can take out <code>editor</code> from <code>default = ["target-aarch64", "target-x86_64", "target-wasm32", "editor"]</code>.<br>
I think I'll be able to set up the full headless release this week.</p>



<a name="339827650"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339827650" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339827650">(Mar 06 2023 at 10:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server/near/339805482">said</a>:</p>
<blockquote>
<p>Dynamic loading on demand has an obvious benefit but also a significant downside, like that the editor suddenly breaks when you try to copy something because you don't have the correct dyn lib available. It's not a nice user experience and gives a very bad impression.</p>
<p>I think the way to go would be to start on a headless/CI/server nightly release.</p>
<p>In  <code>crates/cli/Cargo.toml</code> we can take out <code>editor</code> from <code>default = ["target-aarch64", "target-x86_64", "target-wasm32", "editor"]</code>.<br>
I think I'll be able to set up the full headless release this week.</p>
</blockquote>
<p>yes that sounds bad, but what i had in mind is couldn't we just validate those dynamic libs when _opening_ the editor (not when trying to use the feature)?</p>



<a name="339827858"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339827858" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339827858">(Mar 06 2023 at 10:20)</a>:</h4>
<p>having a headless release is a good idea too tho</p>



<a name="339831522"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339831522" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339831522">(Mar 06 2023 at 10:34)</a>:</h4>
<blockquote>
<p>couldn't we just validate those dynamic libs when _opening_ the editor</p>
</blockquote>
<p>Yeah, that sounds good. It does seem like something that could potentially take a lot of time to figure out so I can't prioritize it right now but feel free to go ahead yourself if you like.</p>



<a name="339856783"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/339856783" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#339856783">(Mar 06 2023 at 12:42)</a>:</h4>
<p>yea thanks. i will when i get the time. meanwhile the headless release is a good solution</p>



<a name="340910730"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/340910730" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#340910730">(Mar 10 2023 at 16:38)</a>:</h4>
<p><span class="user-mention" data-user-id="583319">@dank</span> I've built a headless release, <a href="https://github.com/roc-lang/roc/releases/download/nightly/testing_roc_nightly-headless_linux_x86_64-2023-03-06-4249314_no_editor.tar.gz">available here</a>. The number of dynamic dependencies has dropped a lot but it's still possible that your friend will not be able to run it depending on how minimal their debian install is.</p>



<a name="340911014"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/340911014" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#340911014">(Mar 10 2023 at 16:39)</a>:</h4>
<p>tnx anton we'll try it out</p>



<a name="341249811"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/341249811" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#341249811">(Mar 12 2023 at 09:58)</a>:</h4>
<p><span class="user-mention" data-user-id="583319">@dank</span> I've slightly changed the name of the file, this is the <a href="https://github.com/roc-lang/roc/releases/download/nightly/testing_roc_nightly-headless-2023-03-06-4249314_no_editor.tar.gz">new link</a>. The old name caused issues with ci scripts.</p>



<a name="341250053"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/341250053" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#341250053">(Mar 12 2023 at 10:00)</a>:</h4>
<p>no problem, thanks<br>
was useful yesterday btw, only thing missing was glibc but that's ok for now</p>



<a name="341250183"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/use%20roc%20on%20a%20headlesss%20server/near/341250183" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/use.20roc.20on.20a.20headlesss.20server.html#341250183">(Mar 12 2023 at 10:01)</a>:</h4>
<p>Happy to hear it :)</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
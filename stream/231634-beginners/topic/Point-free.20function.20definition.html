<html>
<head><meta charset="utf-8"><title>Point-free function definition · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html">Point-free function definition</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="518967935"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518967935" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518967935">(May 18 2025 at 23:34)</a>:</h4>
<p>Is there a way to get rid of the first line (the line line)?</p>
<div class="codehilite"><pre><span></span><code>parse = |line| line
    |&gt; Str.replace_each(&quot;:&quot;, &quot; &quot;) |&gt; Str.split_on(&quot; &quot;)
</code></pre></div>



<a name="518969431"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518969431" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518969431">(May 18 2025 at 23:59)</a>:</h4>
<p>not really. Roc does not support automatic partial application</p>



<a name="518969538"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518969538" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518969538">(May 19 2025 at 00:00)</a>:</h4>
<p>but this will be a single line in the future with Static Dispatch</p>



<a name="518969757"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518969757" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518969757">(May 19 2025 at 00:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="708280">Tobias</span> <a href="#narrow/stream/231634-beginners/topic/Point-free.20function.20definition/near/518967935">said</a>:</p>
<blockquote>
<p>Is there a way to get rid of the first line (the line line)?</p>
<p><div class="codehilite"><pre><span></span><code>parse = |line| line
    |&gt; Str.replace_each(&quot;:&quot;, &quot; &quot;) |&gt; Str.split_on(&quot; &quot;)
</code></pre></div><br>
</p>
</blockquote>
<p>will become</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">parse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">line</span><span class="o">|</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="n">replace_each</span><span class="p">(</span><span class="s2">":"</span><span class="p">,</span><span class="w"> </span><span class="s2">" "</span><span class="p">)</span><span class="o">.</span><span class="n">split_on</span><span class="p">(</span><span class="s2">" "</span><span class="p">)</span>
</code></pre></div>



<a name="518969790"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518969790" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518969790">(May 19 2025 at 00:02)</a>:</h4>
<p>This is v0.1 syntax</p>



<a name="518969800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/518969800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#518969800">(May 19 2025 at 00:02)</a>:</h4>
<p>and semantics <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="519046311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519046311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519046311">(May 19 2025 at 09:15)</a>:</h4>
<p>You can actually do it like this</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">parse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="nx">line</span><span class="o">|</span>
<span class="w">    </span><span class="nx">Str</span><span class="p">.</span><span class="nx">replace_each</span><span class="p">(</span><span class="nx">line</span><span class="p">,</span><span class="w"> </span><span class="s">":"</span><span class="p">,</span><span class="w"> </span><span class="s">" "</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Str</span><span class="p">.</span><span class="nx">split_on</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
</code></pre></div>
<p>But this is the way I would write it</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">parse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="nx">line</span><span class="o">|</span>
<span class="w">    </span><span class="nx">line</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Str</span><span class="p">.</span><span class="nx">replace_each</span><span class="p">(</span><span class="s">":"</span><span class="p">,</span><span class="w"> </span><span class="s">" "</span><span class="p">)</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Str</span><span class="p">.</span><span class="nx">split_on</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
</code></pre></div>



<a name="519160681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519160681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519160681">(May 19 2025 at 16:19)</a>:</h4>
<p>I read the FAQ on currying. But I feel like pipe support is sabotaging the argument.</p>



<a name="519160860"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519160860" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519160860">(May 19 2025 at 16:19)</a>:</h4>
<p>Where can I read about v0.1? Curious how this works with type inference.</p>



<a name="519167592"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519167592" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519167592">(May 19 2025 at 16:46)</a>:</h4>
<p>That particular v0.1 feature is called static dispatch, here is the design doc:<br>
<a href="https://docs.google.com/document/d/1OUd0f4PQjH8jb6i1vEJ5DOnfpVBJbGTjnCakpXAYeT8/edit?tab=t.0#heading=h.vuo6e14bvfkt">https://docs.google.com/document/d/1OUd0f4PQjH8jb6i1vEJ5DOnfpVBJbGTjnCakpXAYeT8/edit?tab=t.0#heading=h.vuo6e14bvfkt</a></p>



<a name="519179945"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519179945" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519179945">(May 19 2025 at 17:39)</a>:</h4>
<p><span class="user-mention" data-user-id="708280">@Tobias</span> the difference between currying and pipe is that you immediately consume the partially applied function and you can't pass it around</p>



<a name="519238638"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519238638" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519238638">(May 19 2025 at 22:31)</a>:</h4>
<p>Thanks for the link. It doesn't mention type inference, and all the examples specify at least one module. Would the following from Anthony even compile? (without a signature)<br>
<code>parse = |line| line.replace_each(":", " ").split_on(" ")</code></p>



<a name="519238967"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519238967" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519238967">(May 19 2025 at 22:33)</a>:</h4>
<p>yes.  it should by looking into the imported modules to look for one with matching functions and then infer line to be a Str</p>



<a name="519239418"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239418" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239418">(May 19 2025 at 22:36)</a>:</h4>
<p>What if that's ambiguous? IIRC that's why OCAML requires modules everywhere.</p>



<a name="519239426"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239426" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239426">(May 19 2025 at 22:36)</a>:</h4>
<p>it would first be a <code>a -&gt; c where { module(a).replace_each(Str, Str) -&gt; b, module(b).split_on(Str) -&gt; c }</code></p>



<a name="519239795"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239795" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239795">(May 19 2025 at 22:38)</a>:</h4>
<p>And then it finds that Str.replace_each matches and replaces module(a) with Str, inferring a as Str and then b as Str then we know that module(b) is Str - finding split_on in that module and inferring c to be Str.  so the final type is Str -&gt; Str</p>



<a name="519239832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239832">(May 19 2025 at 22:38)</a>:</h4>
<p>I see. So the compiler will be as slow as Scala <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="519239855"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239855" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239855">(May 19 2025 at 22:39)</a>:</h4>
<p>we hope not!</p>



<a name="519239891"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239891" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239891">(May 19 2025 at 22:39)</a>:</h4>
<p>but we will see</p>



<a name="519239954"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519239954" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519239954">(May 19 2025 at 22:39)</a>:</h4>
<p>that inference may only happen when we try to unify</p>



<a name="519240059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519240059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519240059">(May 19 2025 at 22:40)</a>:</h4>
<p>we don't have meta programming so that will gelp</p>



<a name="519240069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519240069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519240069">(May 19 2025 at 22:40)</a>:</h4>
<p>help</p>



<a name="519240108"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519240108" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519240108">(May 19 2025 at 22:40)</a>:</h4>
<p>also we have a compiler in Zig not on top of the JVM</p>



<a name="519240856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519240856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519240856">(May 19 2025 at 22:45)</a>:</h4>
<p>oh that dispatch algorithm should be almost no cost</p>



<a name="519241067"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519241067" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519241067">(May 19 2025 at 22:46)</a>:</h4>
<p>we already have all the relevant info after normal type inference, we just need to use it in a new way during code gen</p>



<a name="519242777"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519242777" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519242777">(May 19 2025 at 22:57)</a>:</h4>
<p>Python has a kind of partial application for methods.</p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">f</span> <span class="o">=</span> <span class="s2">"Hello"</span><span class="o">.</span><span class="n">replace</span>
<span class="n">f</span><span class="p">(</span><span class="s2">"l"</span><span class="p">,</span> <span class="s2">"p"</span><span class="p">)</span>
</code></pre></div>
<p>Do you think that's useful?</p>



<a name="519246233"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519246233" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519246233">(May 19 2025 at 23:19)</a>:</h4>
<p>yeah that's called a method tear off. super useful for OOP languages</p>



<a name="519246270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Point-free%20function%20definition/near/519246270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Point-free.20function.20definition.html#519246270">(May 19 2025 at 23:19)</a>:</h4>
<p>at least that's what we called them in Dart</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
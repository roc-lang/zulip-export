<html>
<head><meta charset="utf-8"><title>Multiline record overriding · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html">Multiline record overriding</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="272567793"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Multiline%20record%20overriding/near/272567793" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html#272567793">(Feb 20 2022 at 05:24)</a>:</h4>
<p>Can records that use <code>&amp;</code> be multiline? I have a record with lots of fields (and a lot of reused defaults), but I can't seem to multiline it without crashing the compiler.<br>
Example from the tutorial: <code>fromOriginal = { original &amp; birds: 4, iguanas: 3 }</code><br>
Style 1:</p>
<div class="codehilite"><pre><span></span><code>fromOriginal =
    {
        original &amp;
        birds: 4,
        iguanas: 3,
    }
</code></pre></div>
<p>Style 2:</p>
<div class="codehilite"><pre><span></span><code>fromOriginal =
    {
        original
        &amp;
        birds: 4,
        iguanas: 3,
    }
</code></pre></div>



<a name="272567940"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Multiline%20record%20overriding/near/272567940" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html#272567940">(Feb 20 2022 at 05:26)</a>:</h4>
<p>Crash:</p>
<div class="codehilite"><pre><span></span><code>» x = { a: 1 }
… {
…     x &amp;
…     a: 2
… }
thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;A SpaceBefore did not get removed during operator desugaring somehow: SpaceBefore(
    Var {
        module_name: &quot;&quot;,
        ident: &quot;x&quot;,
    },
    [
        Newline,
    ],
)&#39;, compiler/can/src/expr.rs:836:13
stack backtrace:
   0:        0x10c83e08f - &lt;unknown&gt;
   1:        0x10be3f73b - &lt;unknown&gt;
   2:        0x10c8310ca - &lt;unknown&gt;
   3:        0x10c834925 - &lt;unknown&gt;
   4:        0x10c8350e8 - &lt;unknown&gt;
   5:        0x10c83e91a - &lt;unknown&gt;
   6:        0x10c83e1b7 - &lt;unknown&gt;
   7:        0x10c8349f0 - &lt;unknown&gt;
   8:        0x10e1e8b4f - &lt;unknown&gt;
   9:        0x10c1c16df - &lt;unknown&gt;
  10:        0x10c1b119f - &lt;unknown&gt;
  11:        0x10c1b835f - &lt;unknown&gt;
  12:        0x10c19e494 - &lt;unknown&gt;
  13:        0x10c6445dd - &lt;unknown&gt;
  14:        0x10c664d82 - &lt;unknown&gt;
  15:        0x10c6249cb - &lt;unknown&gt;
  16:        0x10c623913 - &lt;unknown&gt;
  17:        0x10c624871 - &lt;unknown&gt;
  18:        0x10c83efa9 - &lt;unknown&gt;
  19:     0x7ff81cc774f4 - __pthread_start
</code></pre></div>



<a name="272568016"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Multiline%20record%20overriding/near/272568016" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html#272568016">(Feb 20 2022 at 05:28)</a>:</h4>
<p>The same crash happens for</p>
<div class="codehilite"><pre><span></span><code>{
     x &amp; a: 2
}
</code></pre></div>



<a name="272568430"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Multiline%20record%20overriding/near/272568430" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html#272568430">(Feb 20 2022 at 05:37)</a>:</h4>
<p>This seems like a bug - I'll just report an issue :)</p>



<a name="272569251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Multiline%20record%20overriding/near/272569251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Multiline.20record.20overriding.html#272569251">(Feb 20 2022 at 05:55)</a>:</h4>
<p><a href="https://github.com/rtfeldman/roc/issues/2534">https://github.com/rtfeldman/roc/issues/2534</a></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>record type error · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html">record type error</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="308302208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308302208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RKB <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308302208">(Nov 06 2022 at 22:04)</a>:</h4>
<p>For this style of "x is a record of type ..., but it should be ..." I often miss what it's trying to say.<br>
Maybe presenting the records types as a side-by-side diff would make the differences more obvious?</p>



<a name="308343757"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308343757" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308343757">(Nov 07 2022 at 08:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="523393">@RKB</span>, I have moved your message to a separate topic.<br>
How would you prefer to see a message like here below formatted?</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">The</span><span class="w"> </span><span class="nv">body</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">record</span><span class="w"> </span><span class="kr">of</span><span class="w"> </span><span class="kr">type</span><span class="nf">:</span><span class="w"></span>

<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">bingoBoards</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nf">*</span><span class="p">,</span><span class="w"> </span><span class="nv">bingoNumbers</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="kt">But</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">annotation</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">emptyBingoBoard</span><span class="w"> </span><span class="nv">says</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">should</span><span class="w"> </span><span class="nv">be</span><span class="nf">:</span><span class="w"></span>

<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">bingoNumbers</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="kt">U64</span><span class="p">,</span><span class="w"> </span><span class="nv">boards</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="kt">BingoBoard</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>We could use the <code>^^^^^</code> for diffs that are pretty small, I'd imagine it would be annoying for larger diffs.</p>



<a name="308347425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308347425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RKB <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308347425">(Nov 07 2022 at 08:59)</a>:</h4>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">The</span><span class="w"> </span><span class="nv">body</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">record</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">left</span><span class="p">,</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">annotation</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">emptyBingoBoard</span><span class="w"></span>
<span class="nv">says</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">should</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">right</span><span class="nf">:</span><span class="w"></span>

<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">bingoBoards</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nf">*</span><span class="w"></span>
<span class="w">                                        </span><span class="p">{</span><span class="w"> </span><span class="nv">boards</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="kt">BingoBoard</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="nv">bingoNumbers</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nf">*</span><span class="w">             </span><span class="p">,</span><span class="w"> </span><span class="nv">bingoNumbers</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="kt">U64</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w">                                   </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Hm, something like this? Note the fields are deterministically ordered (alphabetically), for better comparability.</p>



<a name="308347899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308347899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RKB <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308347899">(Nov 07 2022 at 09:02)</a>:</h4>
<p>looking around, icdiff seems to be going in a similar direction: <a href="https://www.jefftk.com/icdiff">https://www.jefftk.com/icdiff</a><br>
<a href="/user_uploads/22008/Wmuu27zT-HF7abg-bL7du99p/image.png">icdiff side-by-side example</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/Wmuu27zT-HF7abg-bL7du99p/image.png" title="icdiff side-by-side example"><img src="/user_uploads/22008/Wmuu27zT-HF7abg-bL7du99p/image.png"></a></div>



<a name="308349409"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308349409" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308349409">(Nov 07 2022 at 09:14)</a>:</h4>
<p>The icdiff picture does show the potential, I'll make an issue to investigate this approach.<br>
I do imagine it may take a while to get implemented because doing things side-by-side in the terminal and having it look good in all situations may be difficult.</p>



<a name="308372437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308372437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308372437">(Nov 07 2022 at 11:46)</a>:</h4>
<p>In the meantime it might be quite easy to just list the mismatched field names underneath the existing error message.<br>
<code> I found differences in the following fields: bingoBoards, boards</code></p>



<a name="308388351"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308388351" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308388351">(Nov 07 2022 at 13:31)</a>:</h4>
<p>Errors can already feel dense so I'd be hesitant to add more text, perhaps we could use color to indicate differences?</p>



<a name="308430637"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308430637" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308430637">(Nov 07 2022 at 16:56)</a>:</h4>
<p>Fair enough. Should probably try to ensure it still makes sense in grey scale for colour blind users<br>
Oh also, does the diff get a lot easier to render if it's vertical rather than side by side, like the default output of unix <code>diff</code>?</p>



<a name="308431378"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20type%20error/near/308431378" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20type.20error.html#308431378">(Nov 07 2022 at 17:00)</a>:</h4>
<blockquote>
<p>does the diff get a lot easier to render if it's vertical rather than side by side, like the default output of unix <code>diff</code>?</p>
</blockquote>
<p>Yes, I imagine the code for side-by-side rendering will be significantly more complicated.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
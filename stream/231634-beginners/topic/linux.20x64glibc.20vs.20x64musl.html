<html>
<head><meta charset="utf-8"><title>linux x64glibc vs x64musl · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html">linux x64glibc vs x64musl</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="565986721"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565986721" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> albx <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565986721">(Jan 01 2026 at 16:01)</a>:</h4>
<p>Hi, I'm trying the nightly compiler on Linux (Ubuntu) with Luke's basic-cli platform v 0.6, and I'm getting this error:</p>
<div class="codehilite"><pre><span></span><code>The platform at /home/albx/.cache/roc/packages/2BfGn4M9uWJNhDVeMghGeXNVDFijMfPsmmVeo6M4QjKX/main.roc
does not support the x64glibc target for exe builds.

Supported targets for exe:
  - x64mac
  - arm64mac
  - x64musl
  - arm64musl
  - x64win
  - arm64win
</code></pre></div>
<p>however, I do have musl and musl-dev installed, so I would expect to be able to compile and run musl-based binaries anyway. Or have I completely misunderstood the way glibc and musl coexist?</p>
<p>thanks!</p>



<a name="565987436"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565987436" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565987436">(Jan 01 2026 at 16:18)</a>:</h4>
<p>Hi @albx,<br>
Can you share your compiler version?</p>



<a name="565987596"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565987596" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565987596">(Jan 01 2026 at 16:22)</a>:</h4>
<p><code>roc yourfile.roc --no-cache</code> may permanently fix the issue.</p>



<a name="565990371"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565990371" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565990371">(Jan 01 2026 at 17:25)</a>:</h4>
<p>Yeah. I think that platform only every made a static musl release</p>



<a name="565990378"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565990378" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565990378">(Jan 01 2026 at 17:25)</a>:</h4>
<p>Avoids dependencies</p>



<a name="565990389"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565990389" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565990389">(Jan 01 2026 at 17:25)</a>:</h4>
<p>That said, it should be the default on Linux and just work</p>



<a name="565990402"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/565990402" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#565990402">(Jan 01 2026 at 17:26)</a>:</h4>
<p>Did you explicitly request glibc?</p>



<a name="566031350"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566031350" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> albx <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566031350">(Jan 02 2026 at 08:18)</a>:</h4>
<p>I'm using <code>roc_nightly-linux_x86_64-2026-01-01-21f3731</code>, and I've tried compiling with</p>
<div class="codehilite"><pre><span></span><code>roc --target=x64musl main.roc --no-cache
</code></pre></div>
<p>(plus all combinations with and w/o --target and --no-cache). Somehow I'm always getting the <code>does not support the x64glibc target for exe builds</code> error.</p>



<a name="566313080"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566313080" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566313080">(Jan 05 2026 at 09:55)</a>:</h4>
<p>I can try to reproduce, can you share your main.roc file <span class="user-mention" data-user-id="877623">@albx</span>?</p>



<a name="566504733"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566504733" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> albx <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566504733">(Jan 06 2026 at 09:15)</a>:</h4>
<p>Hi Anton, I've put it here: <a href="https://github.com/albx79/roc-tutorial">https://github.com/albx79/roc-tutorial</a></p>
<p>but it's just a main with a couple of <code>Stdout.line!</code>, nothing fancy. Perhaps the real test is trying to compile it under Ubuntu 24.04.3</p>



<a name="566513196"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566513196" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566513196">(Jan 06 2026 at 10:08)</a>:</h4>
<p>We do test in CI with Ubuntu 24 but I will check it out soon.</p>



<a name="566534800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566534800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566534800">(Jan 06 2026 at 12:29)</a>:</h4>
<p>I was able to reproduce the issue</p>



<a name="566535475"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566535475" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566535475">(Jan 06 2026 at 12:34)</a>:</h4>
<p>Building roc from source did work for me, so in the roc repo:</p>
<div class="codehilite"><pre><span></span><code>git clean -fdx
zig build roc
./zig-out/bin/roc main.roc
</code></pre></div>



<a name="566535666"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566535666" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566535666">(Jan 06 2026 at 12:35)</a>:</h4>
<p>You will also need to add Ok({}) after your last Stdout when using Luke's zig template platform.</p>



<a name="566540171"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566540171" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> albx <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566540171">(Jan 06 2026 at 13:07)</a>:</h4>
<p>yes I can confirm that it works if I compile zig from sources! thanks!</p>



<a name="566540834"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/linux%20x64glibc%20vs%20x64musl/near/566540834" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/linux.20x64glibc.20vs.20x64musl.html#566540834">(Jan 06 2026 at 13:11)</a>:</h4>
<p>I found the issue with the nightly too, it should be fixed with tomorrow's nightly</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
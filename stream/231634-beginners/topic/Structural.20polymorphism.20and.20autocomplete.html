<html>
<head><meta charset="utf-8"><title>Structural polymorphism and autocomplete Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html">Structural polymorphism and autocomplete</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="560025240"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560025240" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560025240">(Nov 24 2025 at 22:04)</a>:</h4>
<p>I'm coming from this video <a href="https://youtube.com/watch?v=VnPw9rk8FI8">https://youtube.com/watch?v=VnPw9rk8FI8</a> where Richard talk about structural polymorphism and compares it to rust/Haskel style "classification based polymorphism". From what I understood, you just write Roc functions and the type system figures out the correct set of constraints to put on the arguments of the function. Without knowing the types / interfaces beforehand, how does an LSP figure out the type of something before you write the function? If I ask for a list of methods available on some variable, where do they come from?</p>
<div class="youtube-video message_inline_image"><a data-id="VnPw9rk8FI8" href="https://youtube.com/watch?v=VnPw9rk8FI8"><img src="https://uploads.zulipusercontent.net/b305b8fa1331e238847a835f84d039c115660383/68747470733a2f2f692e7974696d672e636f6d2f76692f566e507739726b384649382f6d7164656661756c742e6a7067"></a></div>



<a name="560029230"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560029230" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560029230">(Nov 24 2025 at 22:29)</a>:</h4>
<p>ah, so the type checker does know what they all are! So let's say I define a new custom collection type and I give it associated functions of <code>.len()</code> and <code>.concat(other)</code></p>



<a name="560029441"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560029441" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560029441">(Nov 24 2025 at 22:31)</a>:</h4>
<p>as soon as LSP asks "what methods are available after this dot?" the type checker can tell the LSP of the type of the thing before the dot by looking it up in scope, and once you know the type you can just ask directly what methods were explicitly defined on that type</p>



<a name="560029546"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560029546" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560029546">(Nov 24 2025 at 22:32)</a>:</h4>
<p>so that part of it is no different from, say, defining a method on a class and the LSP looking up the class of the thing in front of the dot</p>



<a name="560029640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560029640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560029640">(Nov 24 2025 at 22:32)</a>:</h4>
<p>now if I'm doing this on a type that's not concrete, then it all depends on what constraints I've specified for it</p>



<a name="560030121"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560030121" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560030121">(Nov 24 2025 at 22:36)</a>:</h4>
<p>for example if I'm writing a function and I put a type annotation on it that says the function's your is <code>val -&gt; U64 where [val.len : val -&gt; U64, val.reverse : val -&gt; val]</code> then the LSP would autocomplete a dot after its argument to have the two methods of <code>len</code> and <code>reverse</code> because those are the 2 methods I said in the annotation it was required to have</p>



<a name="560031038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560031038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560031038">(Nov 24 2025 at 22:36)</a>:</h4>
<p>So do you make those new custom collection types ad-hoc? or in the function signature themselves?</p>



<a name="560032403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032403">(Nov 24 2025 at 22:37)</a>:</h4>
<p>You need to know, before writing the function, that <code>val</code> needs to have the <code>len</code> and <code>reverse</code> methods, right?</p>



<a name="560032409"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032409" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032409">(Nov 24 2025 at 22:37)</a>:</h4>
<p>either in the function signature or if you like you can make a named thing to reuse (like a type alias) if there are common ones you don't want to write over and over</p>



<a name="560032445"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032445" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032445">(Nov 24 2025 at 22:37)</a>:</h4>
<p>no, not necessarily</p>



<a name="560032579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032579">(Nov 24 2025 at 22:38)</a>:</h4>
<p>for example if you'd already written <code>arg.len()</code> somewhere else in the function then the type checker would infer the len constraint for you, based on how you used that len method call</p>



<a name="560032667"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032667" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032667">(Nov 24 2025 at 22:39)</a>:</h4>
<p>obviously it can't read your mind, so if you're writing the function completely from scratch it won't infer any constraints <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="560032810"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032810" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032810">(Nov 24 2025 at 22:40)</a>:</h4>
<p>I guess my underlying question is how do you plan on users of libraries to do "function / api surface discovery" I often find myself looking through the autocomplete methods looking for something that I want.</p>



<a name="560032873"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032873" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032873">(Nov 24 2025 at 22:40)</a>:</h4>
<p>I think it will feel exactly like a normal language when it comes to autocomplete haha</p>



<a name="560032920"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560032920" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560032920">(Nov 24 2025 at 22:41)</a>:</h4>
<p>Ok.</p>



<a name="560033197"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560033197" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560033197">(Nov 24 2025 at 22:43)</a>:</h4>
<p>Also, a bit off topic from this question, but what other syntax did you explore before landing on the <code>-&gt;</code> operator?</p>



<a name="560034226"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560034226" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560034226">(Nov 24 2025 at 22:49)</a>:</h4>
<p>Why not just use <code>.</code>?</p>



<a name="560034687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560034687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560034687">(Nov 24 2025 at 22:53)</a>:</h4>
<p><code>.</code> is already used for chaining methods (functions associated with the type), the <code>-&gt;</code> operator is to call a function defined locally</p>



<a name="560034771"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560034771" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560034771">(Nov 24 2025 at 22:54)</a>:</h4>
<p>we talked about many different operators in zulip -- over various different threads. I feel like we threw around every possible symbol</p>



<a name="560035208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035208">(Nov 24 2025 at 22:57)</a>:</h4>
<p>Bringing up the autocomplete example again, do you plan on separating the lists of available functions/methods if I do <code>x.</code> vs <code>x-&gt;</code>? Or will the lists be combined and then the lsp replaces the <code>.</code> with a <code>-&gt;</code> (or vice versa) if I selected a function when I had <code>x.</code></p>



<a name="560035266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035266">(Nov 24 2025 at 22:57)</a>:</h4>
<p>I think this is the thread (it's very long) <a class="message-link" href="/#narrow/channel/304641-ideas/topic/static.20dispatch.20-.20pass_to.20alternative/near/490730736">#ideas &gt; static dispatch - pass_to alternative @ ðŸ’¬</a></p>



<a name="560035330"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035330" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035330">(Nov 24 2025 at 22:58)</a>:</h4>
<p>Sorry, I wasn't able to find the threads. I'm new to zulip and searched for "-&gt;" but nothing came up</p>



<a name="560035335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035335">(Nov 24 2025 at 22:58)</a>:</h4>
<p>I'll look harder!</p>



<a name="560035396"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035396" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035396">(Nov 24 2025 at 22:58)</a>:</h4>
<p>by default I assume we'll start with just <code>.</code> autocomplete and then see if in practice there's demand for <code>-&gt;</code></p>



<a name="560035446"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035446" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035446">(Nov 24 2025 at 22:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete/near/560035266">said</a>:</p>
<blockquote>
<p>I think this is the thread (it's very long) <a class="message-link" href="/#narrow/channel/304641-ideas/topic/static.20dispatch.20-.20pass_to.20alternative/near/490730736">#ideas &gt; static dispatch - pass_to alternative @ ðŸ’¬</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="1000751">@Alex Ott</span> can you see this thread?</p>



<a name="560035483"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035483" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035483">(Nov 24 2025 at 22:59)</a>:</h4>
<p>I'm not sure if zulip let's you go back in time to older threads</p>



<a name="560035986"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560035986" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Ott <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560035986">(Nov 24 2025 at 23:03)</a>:</h4>
<p>Yes I can</p>



<a name="560773415"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560773415" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560773415">(Nov 28 2025 at 12:22)</a>:</h4>
<p>Writing just <code>.</code> for accessing local function in addition to associated functions was thrown out pretty quickly, as you could not trust your code anymore. You add a function to your code and it might break your other function that calls a fn that happens to have the same name. I think yes the idea to offer -&gt; completions after a . was thrown around as well.</p>



<a name="560853660"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560853660" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560853660">(Nov 28 2025 at 20:57)</a>:</h4>
<p>Yeah, I think the goal is just autocomplete. This already happens with C++. If you have autocomplete setup properly in C++, you can type <code>mything.</code> select <code>property</code> (which must be referenced by pointer dereference) and it will output <code>mything-&gt;property</code></p>



<a name="560853693"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Structural%20polymorphism%20and%20autocomplete/near/560853693" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Structural.20polymorphism.20and.20autocomplete.html#560853693">(Nov 28 2025 at 20:57)</a>:</h4>
<p>The exact same can be done with roc for local functions</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
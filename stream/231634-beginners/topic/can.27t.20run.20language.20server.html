<html>
<head><meta charset="utf-8"><title>can&#x27;t run language server · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/can.27t.20run.20language.20server.html">can&#x27;t run language server</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="466321216"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/can%27t%20run%20language%20server/near/466321216" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Korny Sietsma <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/can.27t.20run.20language.20server.html#466321216">(Aug 30 2024 at 18:17)</a>:</h4>
<p>Hey folks - just trying to get started (fetched a new nightly) on an M3 Mac, and I can run the compiler and samples OK, but the language server in VSCode errors with:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="o">[</span>Error<span class="w"> </span>-<span class="w"> </span><span class="m">19</span>:09:58<span class="o">]</span><span class="w"> </span>Client<span class="w"> </span>roc-lang:<span class="w"> </span>connection<span class="w"> </span>to<span class="w"> </span>server<span class="w"> </span>is<span class="w"> </span>erroring.
Header<span class="w"> </span>must<span class="w"> </span>provide<span class="w"> </span>a<span class="w"> </span>Content-Length<span class="w"> </span>property.
<span class="o">{</span><span class="s2">"{\"jsonrpc\""</span>:<span class="s2">"\"2.0\",\"result\":null,\"id\":2}Content-Length: 180"</span><span class="o">}</span>
Shutting<span class="w"> </span>down<span class="w"> </span>server.
</code></pre></div>
<p>If I run the binary language server from a terminal I get something similar:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>./roc_language_server

<span class="o">[</span><span class="m">2024</span>-08-30T18:10:23Z<span class="w"> </span>ERROR<span class="w"> </span>tower_lsp::transport<span class="o">]</span><span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>decode<span class="w"> </span>message:<span class="w"> </span>missing<span class="w"> </span>required<span class="w"> </span><span class="sb">`</span>Content-Length<span class="sb">`</span><span class="w"> </span>header
Content-Length:<span class="w"> </span><span class="m">75</span>

<span class="o">{</span><span class="s2">"jsonrpc"</span>:<span class="s2">"2.0"</span>,<span class="s2">"error"</span>:<span class="o">{</span><span class="s2">"code"</span>:-32700,<span class="s2">"message"</span>:<span class="s2">"Parse error"</span><span class="o">}</span>,<span class="s2">"id"</span>:null<span class="o">}</span>%
</code></pre></div>
<p>Any thoughts? I searched for issues but found nothing similar.</p>



<a name="466321943"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/can%27t%20run%20language%20server/near/466321943" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/can.27t.20run.20language.20server.html#466321943">(Aug 30 2024 at 18:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="729557">@Korny Sietsma</span>,<br>
Can you try the steps <a href="#narrow/stream/231634-beginners/topic/.E2.9C.94.20using.20roc_language_server.20with.20VS.20Code/near/428059963">here</a>?</p>



<a name="466322025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/can%27t%20run%20language%20server/near/466322025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/can.27t.20run.20language.20server.html#466322025">(Aug 30 2024 at 18:23)</a>:</h4>
<p>I suspect not all these steps are necessary but doing them all will probably fix it.</p>



<a name="466325704"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/can%27t%20run%20language%20server/near/466325704" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Korny Sietsma <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/can.27t.20run.20language.20server.html#466325704">(Aug 30 2024 at 18:50)</a>:</h4>
<p>Ha - I started looking at that and saw</p>
<blockquote>
<p>I needed to reinstall the extention after adding the configuration, and manually re-start the language server, and then it worked!</p>
</blockquote>
<p>I'd already tried stopping and starting VSCode - but not just the language server.  I stopped and started the language server - and now it works!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
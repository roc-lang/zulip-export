<html>
<head><meta charset="utf-8"><title>zig platform Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html">zig platform</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="297891169"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/297891169" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hashi364 <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#297891169">(Sep 09 2022 at 00:20)</a>:</h4>
<p>I'm trying to make my first dummy platform in zig but the example in <code>platform-switching/zig-platform</code> doesn't compile for me.<br>
My <code>zig version</code> is <code>0.10.0-dev-3685</code>.<br>
Maybe I'm too far in the future, but what do I need to build a platform? Is it written somewhere?</p>



<a name="297891219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/297891219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#297891219">(Sep 09 2022 at 00:21)</a>:</h4>
<p>I think we are still zig 0.9.0</p>



<a name="297912799"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/297912799" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#297912799">(Sep 09 2022 at 06:29)</a>:</h4>
<p>We're on 0.9.1<br>
Upgrading to 0.10 is a big job and work is ongoing.</p>



<a name="322031134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322031134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322031134">(Jan 18 2023 at 11:40)</a>:</h4>
<p>Trying to work out if this is a bug, or something wrong with my config. I'm on M2 MacOS 12. When I run the example zig platform in Nix shell I get the following.  </p>
<div class="codehilite"><pre><span></span><code>$ roc run rocLovesZig.roc
ðŸ”¨ Rebuilding platform...
An internal compiler expectation was broken.
This is definitely a compiler bug.
Please file an issue here: https://github.com/roc-lang/roc/issues/new/choose
thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;cannot find `str.zig`. Check the source code in find_zig_str_path() to show all the paths I tried.&#39;, crates/compiler/build/src/link.rs:217:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
thread &#39;main&#39; panicked at &#39;Failed to (re)build platform.: Any { .. }&#39;, crates/cli/src/build.rs:332:46
</code></pre></div>



<a name="322032627"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322032627" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322032627">(Jan 18 2023 at 11:48)</a>:</h4>
<p>did you build from source here? or download the binary?</p>



<a name="322032960"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322032960" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322032960">(Jan 18 2023 at 11:50)</a>:</h4>
<p>I've built from source</p>



<a name="322033465"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322033465" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322033465">(Jan 18 2023 at 11:52)</a>:</h4>
<p>I suspect you need to run <code>roc</code> from the top-level directory of the repo</p>



<a name="322033815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322033815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322033815">(Jan 18 2023 at 11:54)</a>:</h4>
<p>That does it. Thank you.</p>



<a name="322087169"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/322087169" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#322087169">(Jan 18 2023 at 15:54)</a>:</h4>
<p>Can you file an issue for this? I thought we fixed roc so that directory of execution shouldn't matter as long as roc and the lib dir are together.</p>



<a name="323481816"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/323481816" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#323481816">(Jan 25 2023 at 13:12)</a>:</h4>
<p>I revisit Roc every few months and start writing a platform + host in an empty folder. I generally alternate between Zig and C when doing this.</p>
<p>My ultimate hope is that the compiler will check for missing symbols in the host / platform, let me use my own build setup for the native code, and just figure out what I'm missing to be a complete platform and give me nice errors.</p>
<p>I have seen this "An internal compiler expectation was broken." many times in this process, and I hope Roc will take "platform from scratch" as a serious usecase and work towards making this a nicer experience.</p>
<p>Imagine grabbing a roc binary, and trying to run it in an empty folder, it failing and looking for a platform, you create the platform roc files, then it fails with a further error, and you just keep using the errors to guide you towards a complete platform hello world.</p>



<a name="323578745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/323578745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#323578745">(Jan 25 2023 at 20:29)</a>:</h4>
<p>Interesting. Hopefully some of the <code>roc glue</code> changes will be landed soon. Then it will be possible to setup <code>roc glue</code> for zig. That should really help with making platforms in zig.</p>



<a name="323578933"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/323578933" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#323578933">(Jan 25 2023 at 20:30)</a>:</h4>
<blockquote>
<p>Imagine grabbing a roc binary, and trying to run it in an empty folder, it failing and looking for a platform, you create the platform roc files, then it fails with a further error, and you just keep using the errors to guide you towards a complete platform hello world.</p>
</blockquote>
<p>I am not sure if this workflow will ever be a target use case. Not to say we shouldn't have good guides for it. Just that an end user downloading Roc would likely be pushed towards application development and not platform development.</p>



<a name="323579088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/323579088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#323579088">(Jan 25 2023 at 20:31)</a>:</h4>
<p>For most users, a platform will just be a url that roc can grab some precompiled executables from.</p>



<a name="323731212"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/323731212" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#323731212">(Jan 26 2023 at 14:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/zig.20platform/near/323578933">said</a>:</p>
<blockquote>
<blockquote>
<p>Imagine grabbing a roc binary, and trying to run it in an empty folder, it failing and looking for a platform, you create the platform roc files, then it fails with a further error, and you just keep using the errors to guide you towards a complete platform hello world.</p>
</blockquote>
<p>I am not sure if this workflow will ever be a target use case. Not to say we shouldn't have good guides for it. Just that an end user downloading Roc would likely be pushed towards application development and not platform development.</p>
</blockquote>
<p>Good guides is also fine, but I think it's important to consider the possible benefits of making platform development attractive too. Ultimately, the more people are trying out both sides of Roc, the more powerful and varied both platforms and libraries can be.</p>



<a name="409927762"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409927762" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409927762">(Dec 25 2023 at 17:18)</a>:</h4>
<p>Hey, what's the state of platform dev in Zig currently ?</p>



<a name="409929119"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929119" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929119">(Dec 25 2023 at 17:44)</a>:</h4>
<p>There are several Zig platform examples in the repo. Glue code generation is not done yet but work is underway.</p>



<a name="409929178"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929178" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929178">(Dec 25 2023 at 17:44)</a>:</h4>
<p>Could you tell me more about glue ? I'm a bit confused on its purpose</p>



<a name="409929321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929321">(Dec 25 2023 at 17:48)</a>:</h4>
<p>Also given what you said, those that mean that I could write my own Zig platform right now ?</p>



<a name="409929328"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929328" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929328">(Dec 25 2023 at 17:48)</a>:</h4>
<p>The Zig host program needs to pass Roc values into the Roc app and receive them back. If the Roc code contains user defined types then we need Zig descriptions for those types. And Zig functions to construct and access that data. That's glue code.</p>



<a name="409929402"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929402" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929402">(Dec 25 2023 at 17:50)</a>:</h4>
<p>Yes you can but you need to manually write the glue code and it is not a very smooth process. In practice you will probably have to spend time fighting with calling conventions.</p>



<a name="409929481"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929481" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929481">(Dec 25 2023 at 17:52)</a>:</h4>
<p>Platform development is not yet as smooth as app development and is not documented yet because there are a few projects going on to redefine how it works.</p>



<a name="409929504"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929504" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929504">(Dec 25 2023 at 17:53)</a>:</h4>
<p>So I should wait a bit more before getting myself into it ?</p>



<a name="409929558"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929558" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929558">(Dec 25 2023 at 17:54)</a>:</h4>
<p>Depends a lot on your attitude towards having an experience like that, I don't know you or your preferences.</p>



<a name="409929583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929583">(Dec 25 2023 at 17:55)</a>:</h4>
<p>If you are interested in digging into a lot of unknowns then maybe it's fun for you</p>



<a name="409929596"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929596" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929596">(Dec 25 2023 at 17:55)</a>:</h4>
<p>If you want documents and to just get an app built then I'd say wait a while longer</p>



<a name="409929601"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929601" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929601">(Dec 25 2023 at 17:55)</a>:</h4>
<p>Yeah I'd like to try actually !</p>



<a name="409929679"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929679" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929679">(Dec 25 2023 at 17:57)</a>:</h4>
<p>Ok cool! There is another stream about platform development so I'd suggest asking more questions there when you need to. In the meantime start by looking at the examples in the repo!</p>



<a name="409929742"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929742" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929742">(Dec 25 2023 at 17:58)</a>:</h4>
<p>Thank you, I found this person that has lots of Zig paltforms too <a href="https://github.com/lukewilliamboswell">https://github.com/lukewilliamboswell</a></p>



<a name="409929770"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409929770" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409929770">(Dec 25 2023 at 17:59)</a>:</h4>
<p>Yeah Luke is active here on Zulip and there are a couple of other people too.</p>



<a name="409930460"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409930460" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409930460">(Dec 25 2023 at 18:08)</a>:</h4>
<p>Yeah, we are always here and willing to help. Writing a zig platform today just requires some extra help to get the wiring to roc correct.</p>



<a name="409934925"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409934925" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shaiden Spreitzer <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409934925">(Dec 25 2023 at 19:29)</a>:</h4>
<p>Smooth platform development is key to Rocs success, that's already clear at this point. Getting this part <em>right</em> will be decisive ..</p>



<a name="409939090"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409939090" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409939090">(Dec 25 2023 at 20:47)</a>:</h4>
<p>For sure. Rust has the best story currently, but things are still early. Once some major platform changes land, I think a lot more effort will go into docs and glue that make platform development a lot clearer and smooth.</p>



<a name="409939252"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409939252" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409939252">(Dec 25 2023 at 20:51)</a>:</h4>
<p><span class="user-mention" data-user-id="672970">@Slazaa</span> what kind of platform are you thinking about? Is it something to tinker and experiment with, or maybe you have a specific use case in mind? I may be able to share a link to a similar project <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="409939335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409939335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Slazaa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409939335">(Dec 25 2023 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> Yeah well I'd like to make a game dev platform, I saw that you made something with mach, that's super cool</p>



<a name="409939707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409939707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409939707">(Dec 25 2023 at 21:00)</a>:</h4>
<p>Yeah I really enjoyed that experiment. Unfortunately it's not something easy to share at the moment with most people because you need to be comfortable using zig nightlies and updating zig dependencies regularly. Also there were a few workarounds to get it working with just simple List U8 between Roc and Zig. without zig glue it's harder to write those types manually and I still barely know Zig</p>



<a name="409940112"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/409940112" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#409940112">(Dec 25 2023 at 21:04)</a>:</h4>
<p>After that experiment I had the idea of maybe exposing the WebGPU API to roc via Tasks maybe to configure shader pipelines etc from Roc. Just thought that might be a cool project with the potential for Roc to be able to make high performance cross-platform graphics.</p>



<a name="412211938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412211938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412211938">(Jan 10 2024 at 20:09)</a>:</h4>
<p>I wonder how complex would be to implement a roc to spir-v compiler</p>



<a name="412214065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412214065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412214065">(Jan 10 2024 at 20:26)</a>:</h4>
<p>If I understand correctly, spir-v is a compilation target and not really a platform.</p>



<a name="412214093"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412214093" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412214093">(Jan 10 2024 at 20:26)</a>:</h4>
<p>So it would more be the case that we could utilize llvm to compile for spir-v (though I think it may be a special snow flake that is not the easiest to just compile for)</p>



<a name="412214143"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412214143" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412214143">(Jan 10 2024 at 20:27)</a>:</h4>
<p>At that point, a platform in some other language that compiles to spir-v (or just loads and interacts with a spir-v binary) could be written</p>



<a name="412214161"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412214161" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412214161">(Jan 10 2024 at 20:27)</a>:</h4>
<p>but I have very limited knowledge in this area</p>



<a name="412217043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412217043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412217043">(Jan 10 2024 at 20:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/zig.20platform/near/412214065">said</a>:</p>
<blockquote>
<p>If I understand correctly, spir-v is a compilation target and not really a platform.</p>
</blockquote>
<p>You get it right. That would be awesome to have a spir-v compilation for a possible webgpu platform. It means gpgpu in roc or, in other words, roc for shaders. Just like <a href="https://github.com/EmbarkStudios/rust-gpu">https://github.com/EmbarkStudios/rust-gpu</a></p>



<a name="412217181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412217181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412217181">(Jan 10 2024 at 20:49)</a>:</h4>
<p>Itâ€™s more about the <span class="user-mention" data-user-id="515757">@Luke Boswell</span> idea above than about the thread in general</p>



<a name="412218196"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412218196" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412218196">(Jan 10 2024 at 20:57)</a>:</h4>
<p>my gut feeling is that roc is really dynamic in terms of allocations and that won't go well (just thinking about how futhark was design because it targets this specific use case).</p>



<a name="412222381"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/412222381" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#412222381">(Jan 10 2024 at 21:29)</a>:</h4>
<p>I am really confident that zig and mach combined with roc will be awesome in the medium to long term. Since my last mach experiment we've made  a lot of progress with roc-gui and roc-wasm, so now we have all the parts to build a much nicer graphics platform. There are a few other things on my list I'd like to do before I revisit this idea, but it's definitely something I'm looking forward to trying out again. One really cool thing I like about zig platforms is how easy it is to build a roc package url with all the artifacts for multiple architectures using zig cross compilation.</p>



<a name="417575269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/417575269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#417575269">(Jan 24 2024 at 04:49)</a>:</h4>
<p>Is Rust the only platform language right now with glue support?</p>



<a name="417575309"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/417575309" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#417575309">(Jan 24 2024 at 04:50)</a>:</h4>
<p>Yes, though it's still a WIP.</p>



<a name="417575349"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/417575349" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#417575349">(Jan 24 2024 at 04:50)</a>:</h4>
<p>There is a zig spec but it currently doesn't really do anything yet</p>



<a name="417575358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/417575358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#417575358">(Jan 24 2024 at 04:50)</a>:</h4>
<p><code>crates/glue/src/ZigGlue.roc</code></p>



<a name="417575431"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/zig%20platform/near/417575431" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/zig.20platform.html#417575431">(Jan 24 2024 at 04:51)</a>:</h4>
<p>It just generates the <code>list.zig</code>, but should be easy to extend to the rest of the standard library</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
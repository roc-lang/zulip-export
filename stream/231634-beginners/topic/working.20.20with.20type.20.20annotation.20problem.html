<html>
<head><meta charset="utf-8"><title>working  with type  annotation problem · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html">working  with type  annotation problem</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="404161590"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404161590" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404161590">(Nov 25 2023 at 21:20)</a>:</h4>
<p>hi <br>
Working  with type annotations is extremally  frustrating I have  spend  two  hours  straight  and I can't make  working  even simple  thing, what to do here :</p>
<div class="codehilite"><pre><span></span><code>nodeType  :  { children : List (Num a), locked : Bool, value : List *} where a implements Hash &amp; Eq
g  : List * -&gt; nodeType
g  = \ lst -&gt;
    { children : [], locked : Bool.true, value : [] }
</code></pre></div>



<a name="404161627"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404161627" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404161627">(Nov 25 2023 at 21:20)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="231634" href="/#narrow/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation">#beginners &gt; working  with type  annotation</a> by <span class="user-mention silent" data-user-id="568088">Artur Swiderski</span>.</p>



<a name="404161715"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404161715" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404161715">(Nov 25 2023 at 21:21)</a>:</h4>
<p>why  it  does not  compile  how  to  fix it ?</p>



<a name="404161974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404161974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404161974">(Nov 25 2023 at 21:23)</a>:</h4>
<p>why  it is  so unintuitive  and  difficult ?</p>



<a name="404165639"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404165639" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404165639">(Nov 25 2023 at 21:49)</a>:</h4>
<p>I can see a few issues with your example, its quite complex because it combines a lot of different features, and even includes some really advanced stuff like Abilities. </p>
<p>You're not asking me to help you with a working version, but you would like to know how to fix it. </p>
<p>I find it helpful to start with a really simple type annotation. Then run <code>roc check</code> to confirm it compiles like I expect. Then incrementally change it and re-run <code>roc check</code>. This way I get immediate feedback when I do something incorrectly and I know exactly where the issue is. In this way the compiler is a really helpful teacher for the type system. Also adding unit tests is another great way to check understanding of types.</p>



<a name="404166597"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404166597" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404166597">(Nov 25 2023 at 21:56)</a>:</h4>
<p>one problem is that <code>nodeType :</code> is syntactically invalid because it's not capitalized. (I'm on mobile so not sure what the error message is, but I'm guessing it's not clear about this!)</p>
<p>It needs to be <code>NodeType :</code> rather than <code>nodeType :</code></p>



<a name="404168463"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404168463" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404168463">(Nov 25 2023 at 22:08)</a>:</h4>
<p>I notice some other problems:</p>
<ol>
<li>Whenever a type alias contains a type variable (lowercase names in type annotations, such as <code>a</code>, are always type variables), that variable must be listed next to the alias name. So since <code>NodeType</code> contains an <code>a</code> (specifically in <code>Num a</code>), it needs to be <code>NodeType a :</code></li>
<li>Type aliases can't contain <code>*</code>, you have to choose names for those type variables (such as <code>a</code> instead of <code>*</code>, although in this particular type, <code>a</code> is already being used for something else, so we'd probably want to replace the <code>*</code> with <code>b</code>). So it can't be <code>value : List *</code>, it has to be <code>value: List b</code> (and then <code>NodeType a b :</code> because <code>b</code> needs to be listed next to the alias name just like <code>a</code> did.)</li>
<li><code>where a implements Hash &amp; Eq</code> applies to the <code>a</code> in <code>Num a</code>. I'm guessing that's not necessary and can be removed!</li>
</ol>



<a name="404179142"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404179142" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404179142">(Nov 26 2023 at 00:46)</a>:</h4>
<p>These sound like good issues to track around improving our error massages to help make this experience nicer</p>



<a name="404189164"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404189164" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404189164">(Nov 26 2023 at 02:32)</a>:</h4>
<p>it works  thx for  tips  <span class="user-mention" data-user-id="281383">@Richard Feldman</span>  , but this  syntax  is  difficult nevertheless . Thankfully  this is optional, if I have to keep track of  those  types  during  prototyping  stage, it would be just to much. I hope it stays this way  as  -&gt; optional feature</p>



<a name="404266931"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/working%20%20with%20type%20%20annotation%20problem/near/404266931" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew C <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/working.20.20with.20type.20.20annotation.20problem.html#404266931">(Nov 26 2023 at 15:15)</a>:</h4>
<p>The FAQ says<br>
"A valuable aspect of Roc's type system is that it has decidable principal type inference. This means that:</p>
<p>At compile time, Roc can correctly infer the types for every expression in a program, even if you don't annotate any of the types." </p>
<p>so I don't think that feature is going away. I think it's fairly fundamental to the design decisions behind the language.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
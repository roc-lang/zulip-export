<html>
<head><meta charset="utf-8"><title>wasm32 basic-cli · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html">wasm32 basic-cli</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="403221551"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403221551" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403221551">(Nov 20 2023 at 18:13)</a>:</h4>
<p>Hello, I tried running the hello world, wanting to create a wasm output, <code>./roc build --target wasm32</code> but got this error:</p>
<p>I was expecting this file to exist:</p>
<div class="codehilite"><pre><span></span><code>/Users/matthew/.cache/roc/packages/github.com/roc-lang/basic-cli/releases/download/0.5.0/Cufzl36_SnJ4QbOoEmiJ5dIpUxBvdB3NEySvuH82Wio/host.zig
</code></pre></div>

<p>However, it was not there!</p>



<a name="403221654"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403221654" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403221654">(Nov 20 2023 at 18:14)</a>:</h4>
<p>The help suggests that using --target wasm32 should not assume prebuilt, but that doesn't seem to be the case. Any advice?</p>



<a name="403221784"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403221784" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403221784">(Nov 20 2023 at 18:14)</a>:</h4>
<p>2 messages were moved here from <a class="stream-topic" data-stream-id="231634" href="/#narrow/stream/231634-beginners/topic/my.20from.20.20time.20to.20time.20feedback.20about.20Roc">#beginners &gt; my from  time to time feedback about Roc</a> by <span class="user-mention silent" data-user-id="361169">Anton</span>.</p>



<a name="403222832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403222832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403222832">(Nov 20 2023 at 18:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="668654">@Matthew Phillips</span>,<br>
The basic-cli platform does not support targeting wasm. That's because a lot of basic-cli functions can't work in a wasm/browser context, like reading from stdin. We should have a better error message for this case though.</p>
<p>You may want to checkout <a href="https://github.com/roc-lang/roc/tree/main/examples/platform-switching/web-assembly-platform">this wasm platform</a>.</p>
<p>Can you share what you would like to build/test with wasm?</p>



<a name="403222856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403222856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403222856">(Nov 20 2023 at 18:22)</a>:</h4>
<p>That may help us guide you better.</p>



<a name="403222985"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403222985" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403222985">(Nov 20 2023 at 18:23)</a>:</h4>
<p>Ah ok thank you. So the idea is you use a different cli when building to wasm?</p>



<a name="403223157"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223157" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223157">(Nov 20 2023 at 18:24)</a>:</h4>
<p>A different <a href="https://www.roc-lang.org/platforms">platform</a> to be specific.</p>



<a name="403223187"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223187" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223187">(Nov 20 2023 at 18:24)</a>:</h4>
<p>Hm, ok I think the problem is I don't know what "platform" is yet</p>



<a name="403223199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223199">(Nov 20 2023 at 18:24)</a>:</h4>
<p>so i'll read that page</p>



<a name="403223407"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223407" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223407">(Nov 20 2023 at 18:26)</a>:</h4>
<p>ok, so the <code>pf</code> in the app config defines the platform? So I just need to swap that out? Will try it.</p>



<a name="403223830"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223830" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223830">(Nov 20 2023 at 18:29)</a>:</h4>
<p>Do you need a zig file to use wasm?</p>



<a name="403223872"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403223872" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403223872">(Nov 20 2023 at 18:29)</a>:</h4>
<p>Yes, I believe so</p>



<a name="403224036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224036">(Nov 20 2023 at 18:31)</a>:</h4>
<p>I recommend downloading <a href="https://github.com/roc-lang/roc/tree/main/examples/platform-switching/web-assembly-platform">this platform</a> locally and following along with the <a href="https://github.com/roc-lang/roc/blob/main/examples/platform-switching/web-assembly-platform/README.md">README</a></p>



<a name="403224224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224224">(Nov 20 2023 at 18:32)</a>:</h4>
<p>ok, i'll test that out, thanks</p>



<a name="403224269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224269">(Nov 20 2023 at 18:32)</a>:</h4>
<blockquote>
<p>So I just need to swap that out?</p>
</blockquote>
<p>Different platforms work with different types and provide different functionality so in most cases it will not be possible to swap out the platform without changing anything else.</p>



<a name="403224316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224316">(Nov 20 2023 at 18:32)</a>:</h4>
<p>I have to go now, but other people should be able to help out :)</p>



<a name="403224362"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224362" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224362">(Nov 20 2023 at 18:33)</a>:</h4>
<p>Oh, well it's already included  in the nightly.</p>



<a name="403224371"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224371" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224371">(Nov 20 2023 at 18:33)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="361169">@Anton</span></p>



<a name="403224725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224725">(Nov 20 2023 at 18:35)</a>:</h4>
<p>I get a compiler error. Getting closer!</p>



<a name="403224743"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224743" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224743">(Nov 20 2023 at 18:36)</a>:</h4>
<p>I think it's because I have the wrong version of zig installed.</p>



<a name="403224971"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403224971" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403224971">(Nov 20 2023 at 18:37)</a>:</h4>
<p>Fixing that part now.</p>



<a name="403225389"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403225389" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403225389">(Nov 20 2023 at 18:40)</a>:</h4>
<p>Now installing Rust...</p>



<a name="403226092"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403226092" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403226092">(Nov 20 2023 at 18:45)</a>:</h4>
<p><span aria-label="hammer" class="emoji emoji-1f528" role="img" title="hammer">:hammer:</span> Rebuilding platform...<br>
An internal compiler expectation was broken.<br>
This is definitely a compiler bug.<br>
Please file an issue here: <a href="https://github.com/roc-lang/roc/issues/new/choose">https://github.com/roc-lang/roc/issues/new/choose</a><br>
thread 'main' panicked at 'cannot find <code>wasi-libc.a</code>', crates/compiler/build/src/link.rs:133:5</p>



<a name="403226131"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403226131" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403226131">(Nov 20 2023 at 18:45)</a>:</h4>
<p>rustc --version<br>
rustc 1.74.0 (79e9716c9 2023-11-13)</p>



<a name="403226155"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403226155" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403226155">(Nov 20 2023 at 18:45)</a>:</h4>
<p>zig version<br>
0.11.0</p>



<a name="403227587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403227587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403227587">(Nov 20 2023 at 18:54)</a>:</h4>
<p>app "rocLovesWebAssembly"<br>
    packages { pf: "./examples/platform-switching/web-assembly-platform/main.roc" }<br>
    imports []<br>
    provides [main] to pf</p>
<p>main = "Roc &lt;3 Web Assembly!\n"</p>



<a name="403228325"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403228325" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403228325">(Nov 20 2023 at 19:00)</a>:</h4>
<p>My guess is that we build that file but have failed to include it in the nightly releases. So the platform works if the compiler is built from source, but not if it is downloaded from nightly.</p>



<a name="403229556"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403229556" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403229556">(Nov 20 2023 at 19:08)</a>:</h4>
<p>Ok, might try that</p>



<a name="403232492"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403232492" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403232492">(Nov 20 2023 at 19:28)</a>:</h4>
<p>If you run <code>cargo build</code> where are the binaries? I'm not familiar with rust conventions</p>



<a name="403232674"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403232674" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403232674">(Nov 20 2023 at 19:30)</a>:</h4>
<p><code>target/debug/roc</code> (or <code>target/release/roc</code> if you built with <code>--release</code>)</p>



<a name="403232731"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403232731" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403232731">(Nov 20 2023 at 19:30)</a>:</h4>
<p>Perfect, thanks</p>



<a name="403232844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403232844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403232844">(Nov 20 2023 at 19:31)</a>:</h4>
<p>woohoo, it all works now</p>



<a name="403233013"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403233013" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403233013">(Nov 20 2023 at 19:32)</a>:</h4>
<p>I'll file a bug for that</p>



<a name="403233030"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403233030" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403233030">(Nov 20 2023 at 19:32)</a>:</h4>
<p>Should definitely work for nightly too</p>



<a name="403233506"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403233506" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403233506">(Nov 20 2023 at 19:36)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/6029">#6029</a></p>



<a name="403233763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403233763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403233763">(Nov 20 2023 at 19:37)</a>:</h4>
<p>Not sure if this is another bug or I did something wrong:</p>
<p>LinkError: WebAssembly.instantiate(): Import <a href="https://github.com/roc-lang/roc/issues/2">#2</a> module="wasi_snapshot_preview1" function="random_get": function import requires a callable</p>
<p>That's in the browser.</p>



<a name="403234043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403234043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403234043">(Nov 20 2023 at 19:40)</a>:</h4>
<p>Yeah, i think that's a bug too</p>



<a name="403234214"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403234214" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403234214">(Nov 20 2023 at 19:41)</a>:</h4>
<p>I would guess that's just the example missing that function</p>



<a name="403234237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403234237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403234237">(Nov 20 2023 at 19:41)</a>:</h4>
<p>But I don't see anything in the repo about "random_get"</p>



<a name="403234495"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403234495" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403234495">(Nov 20 2023 at 19:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  random_get(v) {
    return Math.random();
  }
</code></pre></div>

<p>Adding this to the importObj fixed it. I assume this is not right though!</p>



<a name="403234567"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403234567" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403234567">(Nov 20 2023 at 19:44)</a>:</h4>
<p>good enough to unblock me, for now.</p>



<a name="403235093"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403235093" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403235093">(Nov 20 2023 at 19:48)</a>:</h4>
<p>Hmm. So I think I see the real issue, this is compiling for wasi, which is web assembly not in the browser. I think it should be compiling for just wasm without any extra wasi stuff.</p>



<a name="403235176"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403235176" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403235176">(Nov 20 2023 at 19:49)</a>:</h4>
<p>ah yeah that makes sense</p>



<a name="403235685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403235685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403235685">(Nov 20 2023 at 19:53)</a>:</h4>
<p>That problems means the binary size is a little larger than it would normally be</p>



<a name="403235746"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/wasm32%20basic-cli/near/403235746" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Phillips <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/wasm32.20basic-cli.html#403235746">(Nov 20 2023 at 19:54)</a>:</h4>
<p>not that it's big currently or anything</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
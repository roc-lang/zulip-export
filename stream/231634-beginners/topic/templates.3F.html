<html>
<head><meta charset="utf-8"><title>templates? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html">templates?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="407112714"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407112714" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407112714">(Dec 10 2023 at 22:12)</a>:</h4>
<p>hi is there any  equivalent of c++  template in Roc <br>
I am not saying it should be but just asking </p>
<p>specifically is there a way to  do this :</p>
<div class="codehilite"><pre><span></span><code>template  &lt;class A&gt;
f(A a  )
{
// do something  with a in generic  way
}
</code></pre></div>



<a name="407112869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407112869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407112869">(Dec 10 2023 at 22:15)</a>:</h4>
<p>No, there is no template system.</p>



<a name="407112958"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407112958" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407112958">(Dec 10 2023 at 22:17)</a>:</h4>
<p>btw. templates are the reason among many others why I consider C++ piece of garbage, so lack  of this ability although annoying at times may prove to be correct  design  choice, but indeed  sometimes I am lacking  something : )</p>



<a name="407112977"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407112977" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407112977">(Dec 10 2023 at 22:17)</a>:</h4>
<p>But you can have generic types. For example <code>List a</code> means a list of any type.</p>



<a name="407112993"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407112993" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407112993">(Dec 10 2023 at 22:17)</a>:</h4>
<p>how  to  use  that in  function  definition</p>



<a name="407113044"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113044" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113044">(Dec 10 2023 at 22:18)</a>:</h4>
<p>Can you say more about what you want to do?</p>



<a name="407113074"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113074" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113074">(Dec 10 2023 at 22:19)</a>:</h4>
<p>let say  I want to create  generic  function  to add two  numbers how  to do  that ?</p>



<a name="407113187"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113187" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113187">(Dec 10 2023 at 22:21)</a>:</h4>
<div class="codehilite"><pre><span></span><code>add : Num a, Num a -&gt; Num a
add = \a, b -&gt; a+b
</code></pre></div>



<a name="407113256"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113256" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113256">(Dec 10 2023 at 22:22)</a>:</h4>
<p>You can only add numbers so it can't work on any type</p>



<a name="407113262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113262">(Dec 10 2023 at 22:22)</a>:</h4>
<p>will it work if I pass Float  number to  it ?</p>



<a name="407113267"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113267" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113267">(Dec 10 2023 at 22:22)</a>:</h4>
<p>Yes</p>



<a name="407113307"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113307" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113307">(Dec 10 2023 at 22:23)</a>:</h4>
<p>Num a  stands for  something  or it is just tag as  any in reality ?</p>



<a name="407113390"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113390" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113390">(Dec 10 2023 at 22:24)</a>:</h4>
<p>I mean  what to  do  for below function to be equivalent <br>
add : Numm a, Numm a -&gt; Numm a<br>
add = \a, b -&gt; a+b</p>



<a name="407113412"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113412" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113412">(Dec 10 2023 at 22:25)</a>:</h4>
<p>Doesn't work. Numbers are special.</p>



<a name="407113439"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113439" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113439">(Dec 10 2023 at 22:26)</a>:</h4>
<p>and I can't force  Numm  to  act  as Num ?</p>



<a name="407113479"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113479" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113479">(Dec 10 2023 at 22:26)</a>:</h4>
<p>No</p>



<a name="407113491"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113491" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113491">(Dec 10 2023 at 22:26)</a>:</h4>
<p>ok</p>



<a name="407113499"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113499" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113499">(Dec 10 2023 at 22:26)</a>:</h4>
<p>It is built in</p>



<a name="407113562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113562">(Dec 10 2023 at 22:27)</a>:</h4>
<p>what is the role  fo  this  "a"  added  after  Num isn't  Num just enough if it is build in ?</p>



<a name="407113626"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113626" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113626">(Dec 10 2023 at 22:28)</a>:</h4>
<p>We started with the most complicated example unfortunately!</p>



<a name="407113649"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113649" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113649">(Dec 10 2023 at 22:28)</a>:</h4>
<p>The <code>a</code> is a type variable. It's similar to the typename in the C++ template</p>



<a name="407113683"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113683" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113683">(Dec 10 2023 at 22:29)</a>:</h4>
<p>but Num specifies some restriction  on this a ??</p>



<a name="407113796"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113796" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113796">(Dec 10 2023 at 22:31)</a>:</h4>
<p>Yes Roc has builtin number types and all of them are specializations of the generic type<code>Num a</code>.</p>



<a name="407113808"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113808" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113808">(Dec 10 2023 at 22:31)</a>:</h4>
<p>Numbers are the most complicated, let's talk about lists first for a minute</p>



<a name="407113869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113869">(Dec 10 2023 at 22:32)</a>:</h4>
<p>So <code>List a</code> means a list of anything<br>
<code>List User</code> is a list of some type called <code>User</code><br>
<code>List U8</code> is a list of unsigned 8 bit integers</p>



<a name="407113893"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113893" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113893">(Dec 10 2023 at 22:33)</a>:</h4>
<p>So <code>List a</code> is a generic type and <code>List U8</code> is a specialized or concrete type.</p>



<a name="407113900"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113900" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113900">(Dec 10 2023 at 22:33)</a>:</h4>
<p>That is how generic types work</p>



<a name="407113955"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113955" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113955">(Dec 10 2023 at 22:34)</a>:</h4>
<p>can I put List  b  or  "a" is  keyword also ?</p>



<a name="407113960"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113960" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113960">(Dec 10 2023 at 22:34)</a>:</h4>
<p>Yes</p>



<a name="407113965"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113965" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113965">(Dec 10 2023 at 22:34)</a>:</h4>
<p><code>List b</code> or <code>List whatever</code></p>



<a name="407113974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407113974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407113974">(Dec 10 2023 at 22:34)</a>:</h4>
<p>But you can't change the <code>List</code> and you can't change the <code>Num</code></p>



<a name="407114032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407114032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407114032">(Dec 10 2023 at 22:35)</a>:</h4>
<p>For numbers, <code>U8</code> is a type alias for some <code>Num a</code> where I can't remember what the <code>a</code> is</p>



<a name="407114033"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407114033" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407114033">(Dec 10 2023 at 22:35)</a>:</h4>
<p>Btw  different  topic ,I have  this problem   something  is returning <br>
-&gt; Task {}  *</p>
<p>but I somehow  was not  able to return<br>
Task.err  "something"</p>



<a name="407114094"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407114094" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407114094">(Dec 10 2023 at 22:36)</a>:</h4>
<p>It's time for bed where I live so maybe someone else can answer that one, and I'd suggest making a new topic</p>



<a name="407114131"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407114131" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407114131">(Dec 10 2023 at 22:37)</a>:</h4>
<p>ok thx  anyway</p>



<a name="407212462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407212462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407212462">(Dec 11 2023 at 10:39)</a>:</h4>
<p>If a function is returning <code>Task {} *</code>, the <code>*</code> means the error part of the <code>Task</code> is empty. With <code>-&gt; Task {} *</code> you could only return <code>Task.ok {}</code> or call a function like <code>Stdout.line "done"</code>, which <a href="https://www.roc-lang.org/packages/basic-cli/0.7.0/Stdout#line">also returns</a> <code>Task {} *</code>.</p>
<p>If you want to return <code>Task.err "something"</code> the signature would need to be <code>-&gt; Task &lt;whatever&gt; Str</code>. <code>&lt;whatever&gt;</code> depends on what you want the function to return on success.</p>



<a name="407219456"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407219456" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407219456">(Dec 11 2023 at 11:20)</a>:</h4>
<p>thx  for  explanation but  what  *  means ?  I was  thinking  it means  anything just  "*" coincides with  anything  in my  mind : )</p>



<a name="407225577"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407225577" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407225577">(Dec 11 2023 at 12:00)</a>:</h4>
<p>It used to confuse me too :)<br>
We have a brief section on it <a href="https://www.roc-lang.org/tutorial#wildcard-type">in the tutorial</a>.<br>
The <code>*</code> means compatible with any type.<br>
For <code>List.len</code> we have the signature <code>len : List * -&gt; Nat</code> because we can pass it a list of <code>Str</code>, <code>U64</code>, ... . To calculate the number of elements in the list, it does not actually matter what an element is.</p>
<p>When you return something with a wildcard type, it may not be immediately clear what that means. Say we have <code>wildcardList : List *</code>, what could we fill in for <code>wildcardList = ...</code>? The only value that can represent a list of any type is the empty list. So the only option is <code>wildcardList = []</code>.</p>
<p>With <code>Task</code> it's very similar. If we have the type <code>Task Str *</code>, we have <code>Str</code> for the success value and <code>*</code> for the error value. Similar to <code>List *</code>, the only error type that could satisfy  <code>*</code> is the empty error.</p>



<a name="407239268"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407239268" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407239268">(Dec 11 2023 at 13:22)</a>:</h4>
<p>What’s the reason for using Task a * rather than Task a []?</p>



<a name="407240379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407240379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407240379">(Dec 11 2023 at 13:30)</a>:</h4>
<p>Excellent question! I don't know, <span class="user-mention" data-user-id="281383">@Richard Feldman</span>?</p>



<a name="407268105"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407268105" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fletch Canny <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407268105">(Dec 11 2023 at 15:47)</a>:</h4>
<p>There's still some details about Roc's type system that I'm hazy on, but wouldn't the difference be that you can't use <code>Task a *</code> when chaining Tasks with a tagged union error type?<br>
<code>Task.await</code> has a type of <code>Task a b, (a -&gt; Task c b) -&gt; Task c b</code>, and if I use <code>Task a []</code> for <code>Task a b</code> and <code>Task c [A, B, C]</code> for <code>Task c b</code>, the type system can unify <code>[]</code> and<code>[A, B, C]</code>. But if the error type were say, <code>Task a {}</code> then it couldn't unify those types. Since <code>Task a *</code> my be <code>Task a {}</code> that means we can't necessarily unify those types and thus we would get a type error.</p>



<a name="407270201"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407270201" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407270201">(Dec 11 2023 at 15:59)</a>:</h4>
<p>Give return types are open tags by default now, I believe that is correct.</p>



<a name="407270239"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407270239" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407270239">(Dec 11 2023 at 15:59)</a>:</h4>
<p>In the old days, that would not be the case</p>



<a name="407270990"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407270990" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407270990">(Dec 11 2023 at 16:03)</a>:</h4>
<p>That said, even with a closed tag they are slightly different. <code>*</code> has no constructable error case. It suggests that someone has handled all errors and made them into successes.</p>
<p><del><code>[]</code> has an error case with no info in it. So it basically means something failed but we have dropped all information about the failure</del> NVM, tired morning brain. Also unconstructable if it is a closed union.</p>



<a name="407273866"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407273866" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407273866">(Dec 11 2023 at 16:16)</a>:</h4>
<p>I don’t see how [] is an error case with no info given that it is impossible to construct an element of []</p>



<a name="407276562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407276562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407276562">(Dec 11 2023 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="611722">Isaac Van Doren</span> <a href="#narrow/stream/231634-beginners/topic/templates.3F/near/407239268">said</a>:</p>
<blockquote>
<p>What’s the reason for using Task a * rather than Task a []?</p>
</blockquote>
<p>the answer varies depending on how it's being used - where are you seeing the type in question? <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="407277250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407277250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407277250">(Dec 11 2023 at 16:34)</a>:</h4>
<blockquote>
<p>I don’t see how [] is an error case with no info given that it is impossible to construct an element of []</p>
</blockquote>
<p>Ah wait I forgot that [] is open</p>



<a name="407277314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407277314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407277314">(Dec 11 2023 at 16:34)</a>:</h4>
<p>The first one that comes to mind is Stdout.line</p>



<a name="407277385"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407277385" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407277385">(Dec 11 2023 at 16:34)</a>:</h4>
<p>So Task {} *</p>



<a name="407285123"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285123" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285123">(Dec 11 2023 at 17:14)</a>:</h4>
<p>Yeah sorry, I think <code>Task {} []</code> and <code>Task {} *</code> are equivalent if <code>[]</code> is a closed union.</p>



<a name="407285211"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285211" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285211">(Dec 11 2023 at 17:15)</a>:</h4>
<p>But given roc makes all returned unions into open unions, they quickly become not equivalent.</p>



<a name="407285372"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285372" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285372">(Dec 11 2023 at 17:16)</a>:</h4>
<p>well also even an open <code>[]</code> is more restrictive than <code>*</code> because <code>[]</code> says "this must be some sort of tag union"</p>



<a name="407285395"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285395" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285395">(Dec 11 2023 at 17:16)</a>:</h4>
<p>and you can have errors that aren't tag unions</p>



<a name="407285486"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285486" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285486">(Dec 11 2023 at 17:16)</a>:</h4>
<p>Definitely problematic to send an opinion union version of <code>Task {} []</code> back to a platform. It would not have a know layout when generating the platform glue</p>



<a name="407285522"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407285522" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407285522">(Dec 11 2023 at 17:17)</a>:</h4>
<p>so if <code>Stdout.line</code> returned a <code>Task {} []</code> then you couldn't use it with a <code>Task {} Str</code>, for example (e.g. if someone used <code>Task.mapErr</code> to turn an error into a string)</p>



<a name="407302776"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407302776" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407302776">(Dec 11 2023 at 19:05)</a>:</h4>
<p>ok I can't intellectually follow the  discussion : ) but  I gather  this is the reason why  Task  {} * is used ?</p>
<div class="codehilite"><pre><span></span><code>That said, even with a closed tag they are slightly different. * has no constructable error case. It suggests that someone has handled all errors and made them into successes.
</code></pre></div>
<p>btw what {} stands  for  here, why specifically this value?</p>



<a name="407304416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407304416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407304416">(Dec 11 2023 at 19:16)</a>:</h4>
<p><code>{}</code> is just an empty record.</p>



<a name="407304467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407304467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407304467">(Dec 11 2023 at 19:17)</a>:</h4>
<p>It is common used for kinda a unit type. A concrete type that compiles to nothing.</p>



<a name="407371028"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407371028" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407371028">(Dec 12 2023 at 03:28)</a>:</h4>
<blockquote>
<p>and you can have errors that aren't tag unions</p>
</blockquote>
<p>Aren't there no possible errors for a <code>Task {} *</code>?</p>
<p>Regardless, isn't there not much you can do with errors if you don't know what type they are?</p>



<a name="407372882"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407372882" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407372882">(Dec 12 2023 at 03:40)</a>:</h4>
<blockquote>
<p>Aren't there no possible errors for a Task {} *?</p>
</blockquote>
<p>This is were it gets confusing depend on how things are worded. Really easy to say something that is easily misinterpreted from what was meant. You are correct that there are no possible constructable errors that match the type <code>Task {} *</code>.</p>
<p>Richard meant that <code>Task {} *</code> will unify with any error type. That means I can do:<br>
Note: <code>Stdout.line</code> is a <code>Task {} *</code>. I has a <code>*</code> error case but merges to a <code>Str</code> error case here just fine.</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">main</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">errStr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nx">strErrTask</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Task</span><span class="p">.</span><span class="nx">onErr</span>
<span class="w">    </span><span class="nx">Stdout</span><span class="p">.</span><span class="nx">line</span><span class="w"> </span><span class="s">"error was: \(errStr)"</span>

<span class="nv">strErrTask</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nx">_</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nx">Stdout</span><span class="p">.</span><span class="nx">line</span><span class="w"> </span><span class="s">"Some text"</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Task</span><span class="p">.</span><span class="nx">await</span>
<span class="w">    </span><span class="nx">Task</span><span class="p">.</span><span class="nx">err</span><span class="w"> </span><span class="s">"This is a string err"</span>
</code></pre></div>
<p>If I were to redefine <code>Stdout.line</code> to be <code>Task {} []</code>, I would get this error:</p>
<div class="codehilite"><pre><span></span><code>── TYPE MISMATCH ───────────────────────────────────── examples/helloWorld.roc ─

This 2nd argument to |&gt; has an unexpected type:

11│&gt;      _ &lt;- Stdout.line &quot;Some text&quot; |&gt; Task.await
12│&gt;      Task.err &quot;This is a string err&quot;

The argument is an anonymous function of type:

    {} -&gt; Task * Str

But |&gt; needs its 2nd argument to be:

    {} -&gt; Task * []
</code></pre></div>



<a name="407372984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407372984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407372984">(Dec 12 2023 at 03:41)</a>:</h4>
<p><code>Task {} []</code> can only unify with other errors that are tags.</p>



<a name="407383900"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/templates%3F/near/407383900" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/templates.3F.html#407383900">(Dec 12 2023 at 04:52)</a>:</h4>
<p>Aha! That makes sense. Thanks for the detailed explanation!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
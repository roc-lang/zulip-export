<html>
<head><meta charset="utf-8"><title>roc with emacs · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html">roc with emacs</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="313834587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/313834587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vincenzo Palazzo (vincenzopalazzo) <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#313834587">(Dec 04 2022 at 17:09)</a>:</h4>
<p>I was starting to code some roc code and I do feel confortable with emacs (doom emacs), so I was thinking that maybe there is someone that already fall in this problem and has some starting guide for me?</p>



<a name="313909906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/313909906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#313909906">(Dec 05 2022 at 08:23)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="529266">@Vincenzo Palazzo (vincenzopalazzo)</span>, I'm not sure what you meant precisely. Are you looking for a roc emacs plugin?</p>



<a name="314275309"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/314275309" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vincenzo Palazzo (vincenzopalazzo) <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#314275309">(Dec 06 2022 at 16:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/roc.20with.20emacs/near/313909906">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="529266">Vincenzo Palazzo (vincenzopalazzo)</span>, I'm not sure what you meant precisely. Are you looking for a roc emacs plugin?</p>
</blockquote>
<p>Sorry if I was not clear, I would like configigure roc syntax hightlight with doom emacs but I was not able to find nothing arond</p>



<a name="314279233"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/314279233" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#314279233">(Dec 06 2022 at 16:58)</a>:</h4>
<p>I'm not aware of any syntax highlighting for emacs but perhaps <a href="https://github.com/benjamin-thomas/vscode-roc-lang-extension">this solution for vscode</a> could be easily adapted.</p>



<a name="314280595"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/314280595" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#314280595">(Dec 06 2022 at 17:04)</a>:</h4>
<p>An extra note, coffee script and elixir syntax highlighting work ok (and I assume exists for emacs). So you can try those and see if it works for you.</p>



<a name="405215301"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/405215301" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuriy Al. Shirokov <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#405215301">(Nov 30 2023 at 22:07)</a>:</h4>
<p>Now we have <a href="https://github.com/ayazhafiz/roc/blob/lang-srv/crates/lang_srv/README.md">language server</a> and <a href="https://github.com/faldor20/tree-sitter-roc">tree-sitter parser</a> for Roc, so the «roc-mode» for Emacs can be defined relatively easy. After <a href="https://emacs.stackexchange.com/questions/79633/how-to-use-tree-sitter-parser-for-syntax-highlighting/">some problems with tree-sitter configuration</a> I got a mode with syntax highlighting and type inference (smart autocompletion is unfortunately don't supported by Roc language server yet):</p>
<div class="codehilite" data-code-language="EmacsLisp"><pre><span></span><code><span class="c1">;;; Roc</span>

<span class="p">(</span><span class="nb">define-derived-mode</span><span class="w"> </span><span class="nv">roc-mode</span><span class="w"> </span><span class="nv">fundamental-mode</span><span class="w"> </span><span class="s">"Roc"</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">'auto-mode-alist</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="s">"\\.roc\\'"</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">roc-mode</span><span class="p">))</span>
<span class="c1">;; LSP</span>
<span class="p">(</span><span class="nb">require</span><span class="w"> </span><span class="ss">'lsp</span><span class="p">)</span>
<span class="p">(</span><span class="nb">with-eval-after-load</span><span class="w"> </span><span class="ss">'lsp-mode</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">'lsp-language-id-configuration</span>
<span class="w">    </span><span class="o">'</span><span class="p">(</span><span class="nv">roc-mode</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="s">"roc"</span><span class="p">))</span>

<span class="w">  </span><span class="p">(</span><span class="nv">lsp-register-client</span>
<span class="w">    </span><span class="p">(</span><span class="nv">make-lsp-client</span><span class="w"> </span><span class="nb">:new-connection</span><span class="w"> </span><span class="p">(</span><span class="nv">lsp-stdio-connection</span><span class="w"> </span><span class="s">"roc_ls"</span><span class="p">)</span>
<span class="w">                     </span><span class="nb">:activation-fn</span><span class="w"> </span><span class="p">(</span><span class="nv">lsp-activate-on</span><span class="w"> </span><span class="s">"roc"</span><span class="p">)</span>
<span class="w">                     </span><span class="nb">:server-id</span><span class="w"> </span><span class="ss">'theme-check</span><span class="p">)))</span>
<span class="c1">;; tree-sitter</span>
<span class="p">(</span><span class="nb">require</span><span class="w"> </span><span class="ss">'treesit</span><span class="p">)</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">roc-mode-setup</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">defvar</span><span class="w"> </span><span class="nv">roc-font-lock-rules</span>
<span class="w">    </span><span class="p">(</span><span class="nv">treesit-font-lock-rules</span>
<span class="w">     </span><span class="nb">:language</span><span class="w"> </span><span class="ss">'roc</span>
<span class="w">     </span><span class="nb">:feature</span><span class="w"> </span><span class="ss">'string</span>
<span class="w">     </span><span class="o">'</span><span class="p">((</span><span class="nf">string</span><span class="p">)</span><span class="w"> </span><span class="nv">@font-lock-string-face</span><span class="p">)</span>

<span class="w">     </span><span class="nb">:language</span><span class="w"> </span><span class="ss">'roc</span>
<span class="w">     </span><span class="nb">:feature</span><span class="w"> </span><span class="ss">'comment</span>
<span class="w">     </span><span class="o">'</span><span class="p">((</span><span class="nv">line_comment</span><span class="p">)</span><span class="w"> </span><span class="nv">@font-lock-comment-face</span><span class="p">)</span>

<span class="w">     </span><span class="nb">:language</span><span class="w"> </span><span class="ss">'roc</span>
<span class="w">     </span><span class="nb">:feature</span><span class="w"> </span><span class="ss">'definition</span>
<span class="w">     </span><span class="o">'</span><span class="p">((</span><span class="nv">value_declaration_left</span>
<span class="w">        </span><span class="p">(</span><span class="nv">identifier_pattern</span>
<span class="w">         </span><span class="p">(</span><span class="nv">long_identifier</span><span class="w"> </span><span class="p">(</span><span class="nv">identifier</span><span class="p">)</span><span class="w"> </span><span class="nv">@font-lock-constant-face</span><span class="p">))))</span>

<span class="w">     </span><span class="nb">:language</span><span class="w"> </span><span class="ss">'roc</span>
<span class="w">     </span><span class="nb">:feature</span><span class="w"> </span><span class="ss">'function</span>
<span class="w">     </span><span class="o">'</span><span class="p">((</span><span class="nv">application_expression</span>
<span class="w">        </span><span class="nv">caller:</span>
<span class="w">        </span><span class="p">(</span><span class="nv">long_identifier_or_op</span>
<span class="w">         </span><span class="p">(</span><span class="nv">long_identifier</span><span class="w"> </span><span class="p">(</span><span class="nv">identifier</span><span class="p">)</span><span class="w"> </span><span class="nv">@font-lock-function-name-face</span><span class="p">))))))</span>

<span class="w">  </span><span class="p">(</span><span class="nb">setq-local</span><span class="w"> </span><span class="nv">treesit-font-lock-settings</span>
<span class="w">              </span><span class="nv">roc-font-lock-rules</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">setq-local</span><span class="w"> </span><span class="nv">treesit-font-lock-feature-list</span>
<span class="w">              </span><span class="o">'</span><span class="p">((</span><span class="nf">string</span><span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="nv">definition</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="nv">variable</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="nv">treesit-major-mode-setup</span><span class="p">))</span>

<span class="p">(</span><span class="nv">add-hook</span><span class="w"> </span><span class="ss">'roc-mode-hook</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">()</span>
<span class="w">                           </span><span class="p">(</span><span class="nv">roc-mode-setup</span><span class="p">)</span>
<span class="w">                           </span><span class="p">(</span><span class="nv">lsp</span><span class="p">)</span>
<span class="w">                           </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">treesit-font-lock-level</span><span class="w"> </span><span class="mi">4</span><span class="p">)))</span>
</code></pre></div>



<a name="405218276"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/405218276" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#405218276">(Nov 30 2023 at 22:22)</a>:</h4>
<p>Would you mind putting this into a gist or something shareable? I would love to add this to <a href="https://github.com/lukewilliamboswell/roc-awesome">roc-awesome</a> for others to find.</p>



<a name="405318945"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/405318945" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuriy Al. Shirokov <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#405318945">(Dec 01 2023 at 09:16)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> It's not a full-functional Emacs mode, just a proof of concept. I assume it will always be edited by other Emacs users. So I'm afraid gist will not be self-explanatory enough. I believe the link to my answer to myself on Emacs StackExchange with the links to documentation and some explanations would be better: <a href="https://emacs.stackexchange.com/a/79675/27177">https://emacs.stackexchange.com/a/79675/27177</a><br>
P.S. Thank you for roc-awesome!</p>



<a name="405353898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/405353898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asbjørn Olling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#405353898">(Dec 01 2023 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="670275">@Yuriy Al. Shirokov</span> </p>
<p>I think <span class="user-mention" data-user-id="663757">@Tad Lispy</span> was working on something similar for doom emacs.<br>
<a href="https://discourse.doomemacs.org/t/private-module-for-the-roc-programming-language-major-mode-lsp-support/4254">https://discourse.doomemacs.org/t/private-module-for-the-roc-programming-language-major-mode-lsp-support/4254</a></p>
<p>I don't know enough about emacs to say smart things about this. But I'm gonna try messing with the doom module once I've completed today's AoC :)</p>



<a name="406405357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/406405357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zellyn Hunter <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#406405357">(Dec 06 2023 at 23:09)</a>:</h4>
<p>I got <code>roc-mode</code> installed using:</p>
<div class="codehilite"><pre><span></span><code>(use-package roc-mode :elpaca (roc-mode :host gitlab :repo &quot;tad-lispy/roc-mode&quot;))
</code></pre></div>
<p>and after I installed the treesitter grammar (by adding <code>(roc "https://github.com/faldor20/tree-sitter-roc")</code> to my <code>treesit-language-source-alist</code> and doing <code>M-x treesit-install-language-grammar</code>), I'm successfully in roc-mode and getting syntax highlighting.</p>
<p>Should automatically tabbing to the right indent and re-indenting regions work?</p>



<a name="406405546"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/406405546" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zellyn Hunter <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#406405546">(Dec 06 2023 at 23:11)</a>:</h4>
<p>(Although I've used emacs for many years, I've never really learned the elisp APIs… it took me quite a bit of bludgeoning to find the right incantation to install <code>roc-mode</code> using <code>elpaca</code>)</p>



<a name="406540476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/406540476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asbjørn Olling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#406540476">(Dec 07 2023 at 13:17)</a>:</h4>
<p>Oooh I didn't see that <span class="user-mention" data-user-id="663757">@Tad Lispy</span> put up a proper repo for roc-mode.<br>
I was just using a file copy-pasted from their nixos repo into mine <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="406540974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/406540974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asbjørn Olling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#406540974">(Dec 07 2023 at 13:20)</a>:</h4>
<p>I also installed the tree sitter grammar in the same way from the same place as you.</p>
<p>There are a few bugs for me as well. Expressions like this <code>("foo: \(bar) baz")</code> gets confused about escaping delimiters and mis-colors until EOF.</p>



<a name="406998296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/406998296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#406998296">(Dec 10 2023 at 02:29)</a>:</h4>
<p><span class="user-mention" data-user-id="669074">@Asbjørn Olling</span> could you make an issue on the repo: <a href="https://github.com/faldor20/tree-sitter-roc">https://github.com/faldor20/tree-sitter-roc</a> and I'll get it fixed :)</p>



<a name="407975476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/407975476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Payas <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#407975476">(Dec 14 2023 at 14:45)</a>:</h4>
<p>Hi there! Been reading through Roc's documentation past couple of days and am ready to dive in the real thing. My google-fu is failing to find existing stuff, hence reaching out.</p>
<p>Is there something in-progress for Emacs? I am also on NixOS, so any instructions there would also help. I see there is a flake.nix, will check it out</p>



<a name="407978358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/407978358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#407978358">(Dec 14 2023 at 14:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="672355">mkrieger1</span> has marked this topic as unresolved.</p>



<a name="407978359"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/roc%20with%20emacs/near/407978359" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/roc.20with.20emacs.html#407978359">(Dec 14 2023 at 14:58)</a>:</h4>
<p><a href="#narrow/stream/231634-beginners/topic/roc.20with.20emacs/near/407975476">A message</a> was moved here from <a class="stream-topic" data-stream-id="231634" href="/#narrow/stream/231634-beginners/topic/.E2.9C.94.20Most.20basic.20way.20to.20split.20code.20across.20files">#beginners &gt; ✔ Most basic way to split code across files</a> by <span class="user-mention silent" data-user-id="672355">mkrieger1</span>.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>FFI Support? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html">FFI Support?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="323757283"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323757283" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Tchayka <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323757283">(Jan 26 2023 at 16:05)</a>:</h4>
<p>Hi, I was thinking about tinkering with Roc, but the project I have in mind requires FFI. I understand that Roc compiles to WASM, so calling "exported" WASM functions is okay. Does Roc support this?</p>



<a name="323801400"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323801400" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323801400">(Jan 26 2023 at 18:02)</a>:</h4>
<p>Every interaction with a platform in Roc is wrapped in an Effect in Roc, but otherwise, yes, roc has FFI. It is just a more constrained FFI to keep roc pure.</p>



<a name="323801501"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323801501" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323801501">(Jan 26 2023 at 18:02)</a>:</h4>
<p>For wasm, it can call other js and wasm functions that are available in to the wasm environment.</p>



<a name="323801751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323801751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323801751">(Jan 26 2023 at 18:03)</a>:</h4>
<p>As a note, Roc also compiles to native arm and x86. For those, it uses c ffi for communication with the platform.</p>



<a name="323920322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323920322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Tchayka <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323920322">(Jan 26 2023 at 22:20)</a>:</h4>
<p>Nice, is there any docs related to FFI? I have experience in Haskell, Idris, Elm, etc.. so any pointers/similar code would be very appreciated &lt;3</p>



<a name="323928393"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/323928393" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#323928393">(Jan 26 2023 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-id="431893">@Brian Carroll</span> any best example for helping someone start with a wasm platform?</p>



<a name="324015792"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324015792" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324015792">(Jan 27 2023 at 10:44)</a>:</h4>
<p>We only have one example and it's either hello world or "platform switching", I can't remember which.</p>
<p>The majority of our examples and projects are targeting machine code rather than Wasm.</p>
<p>Is this project targeting the browser? Or running in another wasm interpreter? It makes a big difference to the platform design. The hello world example is for the browser.</p>
<p>I'm working on a virtual DOM platform but there's a long way to go.</p>



<a name="324022545"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324022545" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Tchayka <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324022545">(Jan 27 2023 at 11:18)</a>:</h4>
<p>The idea is to integrate with an existing Node framework. So I was thinking using Node's wasm capabilities to make Roc interact with it</p>



<a name="324037481"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324037481" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324037481">(Jan 27 2023 at 12:31)</a>:</h4>
<p>Node has C interop (I don't know the details, but I know there's some way to do it!)</p>



<a name="324037566"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324037566" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324037566">(Jan 27 2023 at 12:32)</a>:</h4>
<p>so that's an option too!</p>



<a name="324060217"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324060217" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Tchayka <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324060217">(Jan 27 2023 at 14:10)</a>:</h4>
<p>Is there any info on interoperability with Roc? Compiler source code works for me as well, just figuring out which thread to pull</p>



<a name="324127627"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324127627" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324127627">(Jan 27 2023 at 18:35)</a>:</h4>
<p>No we don't have any docs on that yet, the only way is to read the source code of the example platforms and talk to people!</p>



<a name="324127817"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324127817" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324127817">(Jan 27 2023 at 18:36)</a>:</h4>
<p>Ah ok Wasm on Node makes sense. Nobody has attempted it yet but it would be cool to see how it goes!</p>



<a name="324129237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324129237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324129237">(Jan 27 2023 at 18:43)</a>:</h4>
<p><code>examples/virtual-dom-wip</code> would be the closest thing we have. It doesn't build because of some features that aren't complete in the compiler.<br>
But you can check out host.zig and host.js on the client side.<br>
It's tricky to interface directly from JS to Roc because you need to make sure all the bytes are in the right locations. It's possible in js but it's nicer in lower level languages. So I used Zig for some glue code.</p>



<a name="324593509"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/FFI%20Support%3F/near/324593509" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Tchayka <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/FFI.20Support.3F.html#324593509">(Jan 30 2023 at 12:24)</a>:</h4>
<p>Thanks for the pointers, I really appreciate this!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
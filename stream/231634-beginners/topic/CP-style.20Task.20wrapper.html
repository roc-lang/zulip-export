<html>
<head><meta charset="utf-8"><title>CP-style Task wrapper · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html">CP-style Task wrapper</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="423931332"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423931332" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicolo Davis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423931332">(Feb 29 2024 at 01:13)</a>:</h4>
<p>I'm curious if the CP-style Task wrapper outlined at <a href="https://youtu.be/7SidSvJcPd0?t=2064">https://youtu.be/7SidSvJcPd0?t=2064</a> ever got implemented? Was there a reason that got dropped in favor of the current approach? Just trying to learn some of the internals and the design decisions behind them.</p>
<div class="youtube-video message_inline_image"><a data-id="7SidSvJcPd0" href="https://youtu.be/7SidSvJcPd0?t=2064"><img src="https://uploads.zulipusercontent.net/532c76747f28a3609113079b89ddde0ee6cf8ff2/68747470733a2f2f692e7974696d672e636f6d2f76692f3753696453764a635064302f64656661756c742e6a7067"></a></div>



<a name="423931503"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423931503" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423931503">(Feb 29 2024 at 01:15)</a>:</h4>
<p>we're still working on implementing it!</p>



<a name="423931565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423931565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423931565">(Feb 29 2024 at 01:16)</a>:</h4>
<p>it's being worked on as recently as earlier today <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="423934301"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423934301" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicolo Davis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423934301">(Feb 29 2024 at 01:47)</a>:</h4>
<p>Oh I see :)</p>



<a name="423936248"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423936248" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicolo Davis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423936248">(Feb 29 2024 at 01:57)</a>:</h4>
<p>I was trying to use this pattern for a Haskell project I was working on and gave up after realizing that I would need to enumerate all the possible types for the continuations in the <code>Operation</code> type:</p>
<div class="codehilite"><pre><span></span><code>data Operation = Op1 (Int -&gt; Operation) | Op2 (String -&gt; Operation) | ...
type Effect a = (a -&gt; Operation) -&gt; Operation
</code></pre></div>
<p>(it didn't seem like there was an easy way to make <code>Operation</code> polymorphic in this case)</p>
<p>I'm guessing that Roc doesn't have this problem because all the operations are well defined and finite in number?</p>



<a name="423938706"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423938706" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423938706">(Feb 29 2024 at 02:20)</a>:</h4>
<p>yeah exactly</p>



<a name="423938720"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/CP-style%20Task%20wrapper/near/423938720" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/CP-style.20Task.20wrapper.html#423938720">(Feb 29 2024 at 02:21)</a>:</h4>
<p>the platform knows exactly which operations it supports!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Example of hosted effect that takes a record as a parameter? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html">Example of hosted effect that takes a record as a parameter?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="475758624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475758624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475758624">(Oct 09 2024 at 06:24)</a>:</h4>
<p>Are there any examples that have a platform that has a hosted effect that takes a record as a parameter? Such as</p>
<div class="codehilite"><pre><span></span><code>Data : { x : I32 }

doSomethingWithData : Data -&gt; Task {} {}
</code></pre></div>



<a name="475763193"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475763193" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475763193">(Oct 09 2024 at 06:43)</a>:</h4>
<p>Here's an example <a href="https://github.com/roc-lang/basic-cli/blob/9170961a537030b1aa5880774ff14d0c1f30b40c/crates/roc_host/src/lib.rs#L902">https://github.com/roc-lang/basic-cli/blob/9170961a537030b1aa5880774ff14d0c1f30b40c/crates/roc_host/src/lib.rs#L902</a></p>



<a name="475884399"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475884399" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475884399">(Oct 09 2024 at 14:45)</a>:</h4>
<p>Thanks!</p>



<a name="475996114"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475996114" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475996114">(Oct 10 2024 at 01:57)</a>:</h4>
<p>do records have to be boxed? Looking at <code>sendRequest : Box Request -&gt; Task InternalResponse []</code></p>



<a name="475996781"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475996781" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475996781">(Oct 10 2024 at 02:01)</a>:</h4>
<p>No</p>



<a name="475996849"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475996849" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475996849">(Oct 10 2024 at 02:01)</a>:</h4>
<p>If you <code>Box</code> it, roc will store the data on the heap and pass by pointer</p>
<p>I think it uses <code>roc_alloc</code> provided by the platform</p>



<a name="475997703"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475997703" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475997703">(Oct 10 2024 at 02:07)</a>:</h4>
<p>If I'm not boxing, is it possible I'm going to run into ABI issues like with <code>Result</code>? I'm trying to pass a record by value in the zig platform and not having good results yet</p>



<a name="475998135"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475998135" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475998135">(Oct 10 2024 at 02:08)</a>:</h4>
<blockquote>
<p>is it possible I'm going to run into ABI issues like with <code>Result</code>?</p>
</blockquote>
<p>Yes, but a lot less likely</p>



<a name="475998149"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Example%20of%20hosted%20effect%20that%20takes%20a%20record%20as%20a%20parameter%3F/near/475998149" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Example.20of.20hosted.20effect.20that.20takes.20a.20record.20as.20a.20parameter.3F.html#475998149">(Oct 10 2024 at 02:09)</a>:</h4>
<p>I would say it's definitely possible to bump into ABI issues. This area isn't very well explored. Usually it's like <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> and myself figuring this out as we go. There are definitely known and unkown bugs we run into regularly.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
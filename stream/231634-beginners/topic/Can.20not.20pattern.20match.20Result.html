<html>
<head><meta charset="utf-8"><title>Can not pattern match Result · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html">Can not pattern match Result</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="426120222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426120222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Plotke <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426120222">(Mar 12 2024 at 13:04)</a>:</h4>
<p>Hi,</p>
<p>I have not been successful in destructuring Results. If, for example, I try</p>
<div class="codehilite"><pre><span></span><code>somefunc : Result Str Str -&gt; Str
somefunc = \ra -&gt;
    when ra is
        OK a -&gt; a
        Err r -&gt; r
</code></pre></div>
<p>I get</p>
<div class="codehilite"><pre><span></span><code>── TYPE MISMATCH in sequence.roc ───────────────────────────────────────────────

The branches of this when expression don&#39;t match the condition:

 8│&gt;      when ra is
 9│           OK a -&gt; a
10│           Err r -&gt; r

This ra value is a:

    Result Str Str

But the branch patterns have type:

    [
        Err *,
        OK *,
    ]

The branches must be cases of the when condition&#39;s type!
</code></pre></div>
<p>Am I doing something wrong?</p>
<p>Thanks!</p>



<a name="426120399"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426120399" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426120399">(Mar 12 2024 at 13:04)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="691288">@Ben Plotke</span>,<br>
It needs to be <code>Ok</code> instead of <code>OK</code></p>



<a name="426120660"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426120660" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426120660">(Mar 12 2024 at 13:06)</a>:</h4>
<p>I've seen several similar issues over the last couple of days, what do you think of <a href="#narrow/stream/231634-beginners/topic/Report.20error.20messages.20that.20could.20be.20better/near/425986577">a tool like this</a> to prevent them?</p>



<a name="426122173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426122173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Plotke <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426122173">(Mar 12 2024 at 13:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result/near/426120399">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="691288">Ben Plotke</span>,<br>
It needs to be <code>Ok</code> instead of <code>OK</code></p>
</blockquote>
<p><span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span> <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span>  <span aria-label="sob" class="emoji emoji-1f62d" role="img" title="sob">:sob:</span></p>



<a name="426122257"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426122257" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Plotke <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426122257">(Mar 12 2024 at 13:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result/near/426120660">said</a>:</p>
<blockquote>
<p>I've seen several similar issues over the last couple of days, what do you think of <a href="#narrow/stream/231634-beginners/topic/Report.20error.20messages.20that.20could.20be.20better/near/425986577">a tool like this</a> to prevent them?</p>
</blockquote>
<p>I'd use it</p>



<a name="426122451"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Can%20not%20pattern%20match%20Result/near/426122451" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Plotke <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Can.20not.20pattern.20match.20Result.html#426122451">(Mar 12 2024 at 13:15)</a>:</h4>
<p>Thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
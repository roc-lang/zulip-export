<html>
<head><meta charset="utf-8"><title>✔ --optimize bug · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html">✔ --optimize bug</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="436592479"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436592479" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436592479">(May 01 2024 at 23:59)</a>:</h4>
<p>Sorry to be back so soon with another major problem, but turning --optimize on seems to change the result of a roc program</p>
<div class="codehilite"><pre><span></span><code>$ roc run dn08.roc
3
$ roc run --optimize dn08.roc
0
</code></pre></div>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">app</span><span class="w"> </span><span class="s">"dn08"</span>
<span class="w">    </span><span class="nv">packages</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nv">pf</span><span class="nf">:</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.10.0/vNe6s9hWzoTZtFmNkvEICPErI9ptji_ySjicO6CkucY.tar.br"</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nv">imports</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="nv">pf</span><span class="nf">.</span><span class="kt">Stdout</span><span class="p">,</span>
<span class="w">        </span><span class="nv">pf</span><span class="nf">.</span><span class="kt">Task</span><span class="p">,</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">    </span><span class="nv">provides</span><span class="w"> </span><span class="p">[</span><span class="nv">main</span><span class="p">]</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">pf</span>

<span class="kr">main </span><span class="nf">=</span>
<span class="w">    </span><span class="nv">arr</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="p">[</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">]</span>
<span class="w">    </span><span class="nv">n</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">len</span><span class="w"> </span><span class="nv">arr</span>
<span class="w">    </span><span class="nv">k</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="nv">r</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="mi">3</span>
<span class="w">    </span><span class="nv">goal</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">sortAsc</span><span class="w"> </span><span class="nv">arr</span>
<span class="w">    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="nv">k</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span>
<span class="w">        </span><span class="nf">\</span><span class="nv">e</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">Before</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="nf">\</span><span class="nv">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">allSwaps</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">r</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">joinMap</span><span class="w"> </span><span class="nv">product</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="nf">\</span><span class="nv">e</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">eval</span><span class="w"> </span><span class="nv">arr</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="nv">r</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">countIf</span><span class="w"> </span><span class="nf">\</span><span class="nv">e</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="nv">goal</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Num</span><span class="nf">.</span><span class="nv">toStr</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Stdout</span><span class="nf">.</span><span class="nv">line</span>

<span class="nv">eval</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">init</span><span class="p">,</span><span class="w"> </span><span class="nv">prog</span><span class="p">,</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">walk</span><span class="w"> </span><span class="nv">prog</span><span class="w"> </span><span class="nv">init</span><span class="w"> </span><span class="nf">\</span><span class="nv">state</span><span class="p">,</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">        </span><span class="nv">when</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nv">is</span>
<span class="w">            </span><span class="kt">Swap</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">                </span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">Before</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="p">}</span>
<span class="w">                </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">walk</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">\</span><span class="nv">arr</span><span class="p">,</span><span class="w"> </span><span class="nv">offset</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">                    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">swap</span><span class="w"> </span><span class="nv">arr</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">offset</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nv">b</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">offset</span><span class="p">)</span>

<span class="nv">allSwaps</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="p">(</span><span class="nv">n</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="nv">r</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="nf">\</span><span class="nv">e</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">        </span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">After</span><span class="w"> </span><span class="nv">e</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="p">(</span><span class="nv">n</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="nv">r</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="nf">\</span><span class="nv">e2</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Swap</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="nv">e2</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">join</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">keepIf</span><span class="w"> </span><span class="nf">\</span><span class="nv">e</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="nv">isValidSwap</span><span class="w"> </span><span class="nv">r</span>

<span class="nv">isValidSwap</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">swap</span><span class="p">,</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">when</span><span class="w"> </span><span class="nv">swap</span><span class="w"> </span><span class="nv">is</span>
<span class="w">        </span><span class="kt">Swap</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">            </span><span class="nv">a</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="nf">&lt;=</span><span class="w"> </span><span class="nv">b</span>

<span class="nv">product</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span>
<span class="nv">product</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">l</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">first</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">l</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">first</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="nf">.</span><span class="nv">withDefault</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">single</span>
<span class="w">    </span><span class="nv">l</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">dropFirst</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">walk</span><span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="nf">\</span><span class="nv">state</span><span class="p">,</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">        </span><span class="kt">List</span><span class="nf">.</span><span class="nv">joinMap</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">\</span><span class="nv">a</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">            </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nf">\</span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">                </span><span class="kt">List</span><span class="nf">.</span><span class="nv">append</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span>
</code></pre></div>



<a name="436592655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436592655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436592655">(May 02 2024 at 00:00)</a>:</h4>
<p>Probably another variant of <a href="https://github.com/roc-lang/roc/issues/6434">https://github.com/roc-lang/roc/issues/6434</a></p>



<a name="436592741"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436592741" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436592741">(May 02 2024 at 00:01)</a>:</h4>
<p>Specifically a variant of <a href="https://github.com/roc-lang/roc/issues/6139">https://github.com/roc-lang/roc/issues/6139</a></p>



<a name="436592841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436592841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436592841">(May 02 2024 at 00:02)</a>:</h4>
<p>Seems likely</p>



<a name="436592984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436592984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436592984">(May 02 2024 at 00:04)</a>:</h4>
<p>Sorry, for not noticing it, tho it was quite jarring to notice a 3 suddenly turn to a 0</p>



<a name="436593108"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436593108" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436593108">(May 02 2024 at 00:05)</a>:</h4>
<p>Might i also use this moment of attention to ask about why <code>diff &lt;(roc run dn08.roc) &lt;(roc run --optimize dn08.roc)</code> doesn't work? Does roc change any files on the file system or why would running two compilers at the same time pose a problem?</p>



<a name="436593428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436593428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436593428">(May 02 2024 at 00:08)</a>:</h4>
<p>Both of those commands will generate the same executable file <code>./dn08</code>. They also will both download and build from the same platform which could have race conditions.</p>



<a name="436593464"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436593464" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436593464">(May 02 2024 at 00:09)</a>:</h4>
<p>Definitely should work though.</p>



<a name="436593791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436593791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436593791">(May 02 2024 at 00:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/--optimize.20bug/near/436593428">said</a>:</p>
<blockquote>
<p>They also will both download and build from the same platform which could have race conditions.</p>
</blockquote>
<p>I took some steps to make this work (if I remember right, it downloads to a tempdir, then renames the file to its destination and ignores "already exists" errors) but the race condition around the output binary is definitely possible <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="436596128"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436596128" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436596128">(May 02 2024 at 00:41)</a>:</h4>
<p>Oh cool</p>



<a name="436596144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436596144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436596144">(May 02 2024 at 00:41)</a>:</h4>
<p>So just the output binary then (and maybe some surgical linker copied files)</p>



<a name="436596310"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436596310" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436596310">(May 02 2024 at 00:43)</a>:</h4>
<p>For some reason I thought <code>run</code> ran directly</p>



<a name="436596379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436596379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436596379">(May 02 2024 at 00:44)</a>:</h4>
<p>closing, as the original issue is already known. Thanks for the help</p>



<a name="436596385"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436596385" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436596385">(May 02 2024 at 00:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="695871">Adrian</span> has marked this topic as resolved.</p>



<a name="436601518"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436601518" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436601518">(May 02 2024 at 01:52)</a>:</h4>
<blockquote>
<p>For some reason I thought <code>run</code> ran directly</p>
</blockquote>
<p>It should</p>



<a name="436601528"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436601528" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436601528">(May 02 2024 at 01:52)</a>:</h4>
<p>Just doesn't currently</p>



<a name="436601565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20--optimize%20bug/near/436601565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20--optimize.20bug.html#436601565">(May 02 2024 at 01:53)</a>:</h4>
<p>Or at a minimum, it should build into a cache/tmp/hidden folder such that you don't get these kinds of collisions</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
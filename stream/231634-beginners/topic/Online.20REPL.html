<html>
<head><meta charset="utf-8"><title>Online REPL · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html">Online REPL</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="302441434"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302441434" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302441434">(Oct 05 2022 at 12:02)</a>:</h4>
<p>Hey, I want to get a feeling of roc (and roll), but the online repl (<a href="https://www.roc-lang.org/repl/">https://www.roc-lang.org/repl/</a>) doesn't work for me. Is this a known issue?</p>



<a name="302443814"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302443814" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302443814">(Oct 05 2022 at 12:16)</a>:</h4>
<p>Can you tell us anything more specific? What browser are you on? what is not working?</p>



<a name="302443909"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302443909" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302443909">(Oct 05 2022 at 12:17)</a>:</h4>
<p>Never mind, I see the issue.</p>



<a name="302444177"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302444177" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302444177">(Oct 05 2022 at 12:19)</a>:</h4>
<p>It's a JS error on a DOM node, so it's weird it hasn't come up before. Internal compiler changes can't affect that.</p>



<a name="302444241"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302444241" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302444241">(Oct 05 2022 at 12:19)</a>:</h4>
<p>OK, we'll have to look into this. Thanks for reporting it!</p>



<a name="302445219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302445219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302445219">(Oct 05 2022 at 12:25)</a>:</h4>
<p>Yeah, I tried a couple browsers, so figured it was something global. Happy you'll look into this!</p>



<a name="302445616"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302445616" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302445616">(Oct 05 2022 at 12:28)</a>:</h4>
<p>Found the bug. In repl.js at line 215 I used <code>.childNodes</code> where it should be <code>.children</code>. I was able to edit that locally in Chrome devtools and it worked. You could try the same for now.</p>



<a name="302445889"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302445889" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302445889">(Oct 05 2022 at 12:29)</a>:</h4>
<p>Worked like a charm. Thanks!</p>



<a name="302446118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302446118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302446118">(Oct 05 2022 at 12:31)</a>:</h4>
<p>Cool, I don't have time to do a PR for it right now but I'll get to it soon. Or if anyone wants to contribute the fix, add me as a reviewer!</p>



<a name="302777108"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302777108" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302777108">(Oct 07 2022 at 03:54)</a>:</h4>
<p>Is there a way to define abilities in the online repl? Doing</p>
<div class="codehilite"><pre><span></span><code>Inc has
    inc: a -&gt; a
1
</code></pre></div>
<p>results in <code>Abilities can only be defined on the top-level of a Roc module.</code></p>



<a name="302777975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302777975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302777975">(Oct 07 2022 at 04:08)</a>:</h4>
<p>Is the REPL working for you? I just tried it and am getting a strange error. I logged an issue, and am trying to investigate further.</p>



<a name="302778270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302778270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302778270">(Oct 07 2022 at 04:14)</a>:</h4>
<p>Yes, here's a quickfix by Brian Carroll:</p>
<div class="codehilite"><pre><span></span><code>Found the bug. In repl.js at line 215 I used `.childNodes` where it should be `.children`. I was able to edit that locally in Chrome devtools and it worked. You could try the same for now.
</code></pre></div>



<a name="302778433"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302778433" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302778433">(Oct 07 2022 at 04:17)</a>:</h4>
<p>It looks to be on the Roc side. When I check the source line 215 of repl.js looks correct, so I think this might be another issue. <a href="https://github.com/roc-lang/roc/issues/4232">Issue #4232</a> <a href="/user_uploads/22008/c6PrGsn-LYjdgCEqAA-7ZC_p/Screen-Shot-2022-10-07-at-15.03.41.png">Screen-Shot-2022-10-07-at-15.03.41.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/c6PrGsn-LYjdgCEqAA-7ZC_p/Screen-Shot-2022-10-07-at-15.03.41.png" title="Screen-Shot-2022-10-07-at-15.03.41.png"><img src="/user_uploads/22008/c6PrGsn-LYjdgCEqAA-7ZC_p/Screen-Shot-2022-10-07-at-15.03.41.png"></a></div>



<a name="302779243"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302779243" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302779243">(Oct 07 2022 at 04:33)</a>:</h4>
<p>That's unrelated to what I fixed.</p>
<p>Looks like it's getting an empty line of Roc code and the parser (correctly) rejects that.</p>
<p>Also the parser doesn't format its errors properly, it assumes it's always running on the command line. That issue has been there for a while.</p>



<a name="302790728"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302790728" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302790728">(Oct 07 2022 at 06:59)</a>:</h4>
<p>OK so the REPL works totally fine if you give it some actual code. The only thing that's broken here is that it should handle empty lines more gracefully. Thanks for creating the GH issue, I'll update the title to be more specific.</p>



<a name="302792100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302792100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302792100">(Oct 07 2022 at 07:09)</a>:</h4>
<p>Is it possible to get around <code>This ability definition is not on the top-level of a module</code> for ability definitions?</p>



<a name="302792292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302792292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arbil <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302792292">(Oct 07 2022 at 07:11)</a>:</h4>
<p><code>
Inc has
    inc: a -&gt; a
1</code></p>



<a name="302796303"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302796303" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302796303">(Oct 07 2022 at 07:45)</a>:</h4>
<p>Here's a fix for the online REPL newline issue <a href="https://github.com/roc-lang/roc/pull/4235">https://github.com/roc-lang/roc/pull/4235</a></p>



<a name="302855204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302855204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302855204">(Oct 07 2022 at 13:45)</a>:</h4>
<p><span class="user-mention" data-user-id="454654">@Ayaz Hafiz</span> any thoughts on abilities in the repl?</p>



<a name="302859422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Online%20REPL/near/302859422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Online.20REPL.html#302859422">(Oct 07 2022 at 14:05)</a>:</h4>
<p>Regarding the abilities issue - no, that cannot be worked around today. The repl runs your code basically in the following way; suppose you enter <code>&lt;code&gt;</code>, we build a module</p>
<div class="codehilite"><pre><span></span><code>app &quot;repl&quot; provides [main] to &quot;./internal_platform&quot;

main =
  &lt;code&gt;
</code></pre></div>
<p>so it's actually always implicitly nested. We'll need to either change that, or allow abilities to be used in nested scopes - the former is easier to do (the latter has serious implications), but it will be a small project.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Question from GH - Mutation in Roc Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html">Question from GH - Mutation in Roc</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="527264825"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527264825" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527264825">(Jul 05 2025 at 08:38)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/7946">https://github.com/roc-lang/roc/issues/7946</a></p>
<blockquote>
<p>Roc has a lot of features I'm keen to try out. I'm also curious to know practical it is for dealing with linear algebra so I was wondering if vectors/matrices are supported?</p>
</blockquote>
<blockquote>
<p>My second question concerns how Roc deals with mutation. As I understand it, the optimisation allowing for in-place mutation relies on the mutated variable not being referenced to later in the program. In programs dealing with larfe matrices, it'd be very convenient to ensure that mutation is always in place, so are there any features of the language to prevent a variable from being re-used? For example Rust has the notion of ownership.</p>
</blockquote>



<a name="527268245"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527268245" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527268245">(Jul 05 2025 at 09:48)</a>:</h4>
<p>I'm not sure roc would ever have an explicit linearity feature, but maybe it's possible to provide the info via lsp?</p>



<a name="527268488"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527268488" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527268488">(Jul 05 2025 at 09:53)</a>:</h4>
<blockquote>
<p>but maybe it's possible to provide the info via lsp?</p>
</blockquote>
<p>Related older discussion: <a class="message-link" href="/#narrow/channel/304641-ideas/topic/assertUnique.20function.2E/near/486677481">#ideas &gt; assertUnique function. @ ðŸ’¬</a></p>



<a name="527268508"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527268508" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527268508">(Jul 05 2025 at 09:53)</a>:</h4>
<p>I have replied on the github issue</p>



<a name="527290980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527290980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527290980">(Jul 05 2025 at 16:18)</a>:</h4>
<p>Oh.... Now that we plan to have an interpreter, it is probably even easier to make a integrated tool that creates a report like scalene has. Essentially, report on, time, bytes copied, uniqueness failures, and such per line of code</p>



<a name="527290991"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527290991" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527290991">(Jul 05 2025 at 16:18)</a>:</h4>
<p>That will likely help a lot</p>



<a name="527320611"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527320611" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527320611">(Jul 06 2025 at 04:02)</a>:</h4>
<p>Follow up question</p>
<blockquote>
<p>Thanks for the quick answer! I note the explicit desire not to reproduce Rust's ownership system, is it for the sake of simplicity?</p>
</blockquote>



<a name="527322134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527322134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527322134">(Jul 06 2025 at 04:41)</a>:</h4>
<p>I think yes is the answer</p>



<a name="527347774"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347774" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347774">(Jul 06 2025 at 13:40)</a>:</h4>
<p>yeah for sure</p>



<a name="527347810"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347810" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347810">(Jul 06 2025 at 13:41)</a>:</h4>
<p>as soon as you have an ownership system, there immediately becomes demand for explicit borrows</p>



<a name="527347847"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347847" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347847">(Jul 06 2025 at 13:41)</a>:</h4>
<p>because otherwise you need horrendous APIs like</p>
<div class="codehilite"><pre><span></span><code>List.len : List(a) -&gt; (List(a), U64)
</code></pre></div>



<a name="527347869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347869">(Jul 06 2025 at 13:42)</a>:</h4>
<p>because if everything is owned, then either you have to deep-clone the list before passing it to a function to get its length, or else that function has to also return the list it was given</p>



<a name="527347872"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347872" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347872">(Jul 06 2025 at 13:42)</a>:</h4>
<p>both of which are atrocious</p>



<a name="527347886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347886">(Jul 06 2025 at 13:42)</a>:</h4>
<p>the solution is having a system for borrowing, at which point you have a borrow checker, and at which point I think we have to delete "friendly" from "fast, friendly, functional" <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="527347995"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527347995" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527347995">(Jul 06 2025 at 13:44)</a>:</h4>
<p>the experiment we're trying is "can you get good performance in practice without a formal ownership/borrowing system?"</p>



<a name="527348001"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527348001" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527348001">(Jul 06 2025 at 13:44)</a>:</h4>
<p>and so far I think the answer is yes</p>



<a name="527348032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527348032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527348032">(Jul 06 2025 at 13:45)</a>:</h4>
<p>although the hypothesis remains untested on large code bases (since they don't exist yet) so it would be premature to declare victory haha</p>



<a name="527832824"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527832824" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527832824">(Jul 09 2025 at 08:22)</a>:</h4>
<p>hi! i'm the person who opened the issue on github, thank you for taking the time to entertain my question, I have some more if I havent bored you yet:</p>
<ul>
<li>looking through the documentation there does not seem to be an exposed type for static arrays/non-list arrays, did I miss it? And if no, what's the best way to add them to the language?</li>
<li>the tutorial makes a very eloquent case for the use of Result + extensible types. It looks very elegant and fun to use. I also imagine that the question of whether <code>do</code> notation would be a nice feature has to have been discussed, <code>try</code>  seems equivalent to the <code>&gt;&gt;=</code> bind operator, and it could avoid a lot of <code>?</code> boilerplate. So I wonder where I could read about what guided you to go the <code>?</code> path in the end.</li>
<li>also, from the faq you state your very clear desire to steer clear from monads themselves, which I respect ( <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span> ), but also I'd be very interested in reading some of the conversations that led to that decision</li>
</ul>



<a name="527833306"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527833306" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527833306">(Jul 09 2025 at 08:24)</a>:</h4>
<p>There is some discussion on HKP in the FAQ <a href="https://www.roc-lang.org/faq#higher-kinded-polymorphism">https://www.roc-lang.org/faq#higher-kinded-polymorphism</a></p>



<a name="527833725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527833725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527833725">(Jul 09 2025 at 08:26)</a>:</h4>
<blockquote>
<ul>
<li>the tutorial makes a very eloquent case for the use of Result + extensible types. It looks very elegant and fun to use. I also imagine that the question of whetherÂ <code>do</code>Â notation would be a nice feature has to have been discussed,Â <code>try</code>Â seems equivalent to theÂ <code>&gt;&gt;=</code>Â bind operator, and it could avoid a lot ofÂ <code>?</code>Â boilerplate. So I wonder where I could read about what guided you to go theÂ <code>?</code>Â path in the end.</li>
</ul>
</blockquote>
<p>The conversation is spread over many threads and thousands of comments... in short the <code>try</code> keyword is no longer in the new 0.1 language design, we just have <code>?</code> which short circuits with an <code>Result.Err(..)</code> or <code>??</code> which gives a "default" value.</p>



<a name="527835289"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527835289" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527835289">(Jul 09 2025 at 08:34)</a>:</h4>
<blockquote>
<ul>
<li>looking through the documentation there does not seem to be an exposed type for static arrays/non-list arrays, did I miss it? And if no, what's the best way to add them to the language?</li>
</ul>
</blockquote>
<p>I think the plan is to never support this. You could implement something similar in userland using tuples etc if you need the performance e.g. for vectors or multi-dimensional matices.</p>



<a name="527836662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527836662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527836662">(Jul 09 2025 at 08:41)</a>:</h4>
<blockquote>
<p>I think the plan is to never support this. You could implement something similar in userland using tuples etc if you need the performance e.g. for vectors or multi-dimensional matices.</p>
</blockquote>
<p>oh ok so there are no plans for vectors/arrays of any sort?</p>



<a name="527844302"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527844302" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527844302">(Jul 09 2025 at 09:20)</a>:</h4>
<p>You will be able to create a nominal type for a matrix that would keep a List of fixed size which you never change. Lists are basically arrays (not static tho. but they aren't linked lists as well). Then it would be possible to write your own logic for different operators on this type such as sum or mul</p>



<a name="527866932"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527866932" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527866932">(Jul 09 2025 at 11:29)</a>:</h4>
<p>that helps a lot thanks! (I was assuming it was a linked list) <br>
Is <code>List</code> a <code>malloc</code>-ed array then? Or a third thing?</p>



<a name="527866995"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527866995" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527866995">(Jul 09 2025 at 11:29)</a>:</h4>
<p>Yes, <code>List</code>'s are heap allocated</p>



<a name="527869629"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527869629" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527869629">(Jul 09 2025 at 11:44)</a>:</h4>
<p>In the other thread I was told that tuples are more suitable for the task. They live on stack and their size is known at compile time.</p>



<a name="527875171"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527875171" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527875171">(Jul 09 2025 at 12:15)</a>:</h4>
<p>I feel like getting a <code>Vec.new()</code> function from the tuple constructor is uhhh not ideal lol</p>



<a name="527876251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527876251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527876251">(Jul 09 2025 at 12:22)</a>:</h4>
<blockquote>
<p>I feel like getting a <code>Vec.new()</code> function from the tuple constructor</p>
</blockquote>
<p>Can you elaborate? I don't recall Roc having anything like this</p>



<a name="527880356"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527880356" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527880356">(Jul 09 2025 at 12:45)</a>:</h4>
<p>I meant that writing a hypothetical function (<code>Vec.new()</code>) creating a vector relying on the tuple constructor seems impractical</p>



<a name="527889999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527889999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527889999">(Jul 09 2025 at 13:33)</a>:</h4>
<p>Right, true, let me try to find some earlier discussions on this subject</p>



<a name="527895163"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527895163" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527895163">(Jul 09 2025 at 13:57)</a>:</h4>
<p>I'll just leave it here. Outdated syntax, but the idea is the same: <a href="https://github.com/Hasnep/roc-linear-algebra">https://github.com/Hasnep/roc-linear-algebra</a></p>



<a name="527895915"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527895915" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527895915">(Jul 09 2025 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527889999">said</a>:</p>
<blockquote>
<p>Right, true, let me try to find some earlier discussions on this subject</p>
</blockquote>
<p><a class="message-link" href="/#narrow/channel/304641-ideas/topic/builtin.20matrix.20support/near/396919260">#ideas &gt; builtin matrix support @ ðŸ’¬</a> <br>
Note: this is from before static dispatch, which has changed the customization of infix operators.</p>



<a name="527959902"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527959902" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527959902">(Jul 09 2025 at 20:24)</a>:</h4>
<p>I still think we should figure out how to support static arrays</p>



<a name="527959956"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527959956" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527959956">(Jul 09 2025 at 20:24)</a>:</h4>
<p>As things stand today, I expect them to just be magic wrapping tuples though</p>



<a name="527960882"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527960882" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527960882">(Jul 09 2025 at 20:30)</a>:</h4>
<p>Yeah, use of tuples in such cases (static collection of items with the same type) sounds like a workaround</p>



<a name="527964655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527964655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527964655">(Jul 09 2025 at 20:56)</a>:</h4>
<p>what's the specific ergonomic problem someone would have if they tried to use that design?</p>



<a name="527964899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527964899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527964899">(Jul 09 2025 at 20:58)</a>:</h4>
<p>like what application (not library; libraries exist to serve applications, so there needs to be a motivating application problem before we talk about libraries) that someone is trying to build in Roc, and what is the specific pain point they are encountering with this design?</p>



<a name="527965121"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527965121" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527965121">(Jul 09 2025 at 20:59)</a>:</h4>
<p>e.g. "I'm building a game in Roc and tuples with static dispatch for iteration is not ergonomic for me because _______"</p>



<a name="527979166"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527979166" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527979166">(Jul 09 2025 at 23:21)</a>:</h4>
<p>I mean if we add essentially <code>List.get</code> on homogeneous tuples along with some other helpers for initialization and what not, I think we have static arrays that work.</p>



<a name="527979228"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527979228" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527979228">(Jul 09 2025 at 23:22)</a>:</h4>
<p>And the runtime length check should optimize away in many cases</p>



<a name="527989417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527989417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527989417">(Jul 10 2025 at 01:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527964655">said</a>:</p>
<blockquote>
<p>what's the specific ergonomic problem someone would have if they tried to use that design?</p>
</blockquote>
<p>It seems like writing the equivalent of Rust's <code>Vector.with_capacity(500)</code> would require the user to manually write <code>(0,0,0,...496 times 0..., 0)</code> which seems impractical</p>



<a name="527989486"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527989486" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527989486">(Jul 10 2025 at 01:53)</a>:</h4>
<p>This is what I meant by code-gen. I imagine in future there will be simple scripts (or editor plugins) that can make this super trivial... "hey give me a MxN shaped thing with these features". Who knows, maybe even AI tooling can assist.</p>



<a name="527989521"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527989521" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527989521">(Jul 10 2025 at 01:54)</a>:</h4>
<p>So while it's not builtin into the standard library, it's very easy to get one. It compiles very fast and runs very fast.</p>



<a name="527989740"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527989740" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527989740">(Jul 10 2025 at 01:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="934971">Magalame</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527989417">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527964655">said</a>:</p>
<blockquote>
<p>what's the specific ergonomic problem someone would have if they tried to use that design?</p>
</blockquote>
<p>It seems like writing the equivalent of Rust's <code>Vector.with_capacity(500)</code> would require the user to manually write <code>(0,0,0,...496 times 0..., 0)</code> which seems impractical</p>
</blockquote>
<p>sorry, what's <code>Vector</code> in Rust? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="527990142"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527990142" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527990142">(Jul 10 2025 at 02:03)</a>:</h4>
<p>I thought our <code>List</code> implementation was basically the same as Rust's vectors <code>Vec&lt;T&gt;</code>, <code>vec!</code> etc -- or at least very similar</p>



<a name="527990210"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527990210" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527990210">(Jul 10 2025 at 02:04)</a>:</h4>
<p>We have <code>List.with_capacity : U64 -&gt; List(a)</code> in our builtins</p>



<a name="527990281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527990281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527990281">(Jul 10 2025 at 02:05)</a>:</h4>
<p>It might be helpful to add a brief explanation in the top of our <code>List</code> builtin docs about what lists are. I thought we had something written up somewhere but I haven't found it yet or can't recall where I saw it. </p>
<p>It might be helpful also to add a FAQ entry. </p>
<p><span class="user-mention" data-user-id="361169">@Anton</span> WDYT?</p>



<a name="527990403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527990403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527990403">(Jul 10 2025 at 02:07)</a>:</h4>
<p>yeah if we're talking about Rust's <code>Vec</code>, our <code>List</code> is essentially the same, so yeah - you can already use that for a Matrix if you'd be ok using Rust's <code>Vec</code> for that purpose <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="527991453"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527991453" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527991453">(Jul 10 2025 at 02:27)</a>:</h4>
<p>I think a good example painful case is a btree.</p>



<a name="527991480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527991480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527991480">(Jul 10 2025 at 02:28)</a>:</h4>
<p>A btree is a useful datastructure and I think would be a pain in roc</p>



<a name="527991500"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527991500" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527991500">(Jul 10 2025 at 02:28)</a>:</h4>
<p>Fundmentally, it is a key value map, but the datastructure as a whole is parameterized on a static array size.</p>



<a name="527992292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527992292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527992292">(Jul 10 2025 at 02:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527990403">said</a>:</p>
<blockquote>
<p>yeah if we're talking about Rust's <code>Vec</code>, our <code>List</code> is essentially the same, so yeah - you can already use that for a Matrix if you'd be ok using Rust's <code>Vec</code> for that purpose <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>amazing, thanks! :)</p>



<a name="527994252"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527994252" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527994252">(Jul 10 2025 at 03:14)</a>:</h4>
<p>Also if I understand properly ffi is considered an anti-feature (<a class="message-link" href="/#narrow/channel/231634-beginners/topic/How.20to.20call.20C.2FC.2B.2B.2FRust.20from.20Roc.3F/near/507184605">#beginners &gt; How to call C/C++/Rust from Roc? @ ðŸ’¬</a> ) so, calling the usual math library workhorses (e.g. LAPACK) would be impossible, and they'd have to be re-implemented in native Roc?</p>



<a name="527994648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527994648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527994648">(Jul 10 2025 at 03:22)</a>:</h4>
<blockquote>
<p>ffi is considered an anti-feature</p>
</blockquote>
<p>Pretty much</p>
<blockquote>
<p>calling the usual math library workhorses (e.g. LAPACK) would be impossible</p>
</blockquote>
<p>Either the platform has to support is or the platform has to support primitives for interacting with <code>libffi</code> to load any aribitrary library.</p>
<blockquote>
<p>they'd have to be re-implemented in native Roc?</p>
</blockquote>
<p>This is the way for most things.</p>



<a name="527995756"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527995756" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527995756">(Jul 10 2025 at 03:38)</a>:</h4>
<p>I think re-implementing BLAS or LAPACK in Roc (or any language) would require a prohibitive amount of work hours. So I imagine the best way to incorporate these functionalities might be to have a platform that could call them. Is there a standard guide on how to create one?</p>



<a name="527996142"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/527996142" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#527996142">(Jul 10 2025 at 03:45)</a>:</h4>
<p>Yeah, i don't think lapack/blas are reasonable to reimplement. And I don't think you could do it efficiently in roc</p>



<a name="528000174"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528000174" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magalame <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528000174">(Jul 10 2025 at 04:38)</a>:</h4>
<p>And could it be realistic to build a platform that supports them? And if so is there a guide on how to build platforms in roc?</p>



<a name="528000185"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528000185" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528000185">(Jul 10 2025 at 04:38)</a>:</h4>
<p>Yeah, will be very easy to do</p>



<a name="528000281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528000281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528000281">(Jul 10 2025 at 04:39)</a>:</h4>
<p>There isn't a guide yet. </p>
<p>Platform development is currently quite challenging. The design used for calling Roc in our Rust compiler is less mature, and there is a bunch of strangeness to get it all working together. </p>
<p>The new zig compiler will be simple by comparison. Roc just builds a static library and the platform links that and calls into Roc.</p>



<a name="528000493"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528000493" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528000493">(Jul 10 2025 at 04:43)</a>:</h4>
<p>The best solution currently is to take an existing platform, ask question here, and just start hacking.</p>



<a name="528041429"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528041429" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528041429">(Jul 10 2025 at 09:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527990403">said</a>:</p>
<blockquote>
<p>yeah if we're talking about Rust's <code>Vec</code>, our <code>List</code> is essentially the same, so yeah - you can already use that for a Matrix if you'd be ok using Rust's <code>Vec</code> for that purpose <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>Yes, but we're rather talking about static vs dynamic arrays. Both List in roc and Vec in rust are dynamic so the comparison isn't relevant. Array allocates on stack if memory consumption is known at comptime, right? But Vec (or List) always allocates on heap. So if you want to have better performance (eliminating the reference resolution and potentially improving locality), in roc you have to use tuples. But you can't do <code>arr: [u32; 20]</code> like in rust. You have to generate code for tuples. Or roc can have syntax sugar for the same experience.</p>



<a name="528042398"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528042398" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528042398">(Jul 10 2025 at 09:54)</a>:</h4>
<p>In terms of gamedev, "why do I have to unroll tuples manually when I need a static array for perf reasons?"</p>



<a name="528056031"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528056031" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528056031">(Jul 10 2025 at 11:07)</a>:</h4>
<p>when I've talked to game devs, I've heard they use a very small number of vector and matrix sizes, and they don't get bigger than 4x3</p>



<a name="528056311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528056311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528056311">(Jul 10 2025 at 11:09)</a>:</h4>
<p>so making a 4x3 matrix abstraction would just mean writing like </p>
<div class="codehilite"><pre><span></span><code>Mat4x3 : ((F32, F32, ...etc
</code></pre></div>
<p>...and then from then on you just use <code>Mat4x3</code> everywhere</p>



<a name="528056440"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528056440" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528056440">(Jul 10 2025 at 11:10)</a>:</h4>
<p>so the ergonomics cost to game devs seems trivial, especially since they can just get a library off the shelf that has made those few specific type aliases</p>



<a name="528056758"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528056758" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528056758">(Jul 10 2025 at 11:12)</a>:</h4>
<p>as for non-gamedev use cases, past a certain size you don't want stack allocations anymore bc you'll get stack overflows, so at that point you switch to Vec/List anyway</p>



<a name="528057204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528057204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528057204">(Jul 10 2025 at 11:15)</a>:</h4>
<p>also regarding btrees, if I'm making a library for that I'm picking a specific hardcoded stack size for my arrays anyway, right? At which point I'm making a type alias for it, and maybe that one type alias looks long and silly, but the ergonomics impact is limited to one line of code in my whole library, right?</p>



<a name="528059315"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528059315" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528059315">(Jul 10 2025 at 11:27)</a>:</h4>
<p>Not sure how a long line where you need to leave a comment that this tuple contains N elements (because otherwise you would count it one by one) is better than describing it in type system. I anticipate a popular package that exports aliases:</p>
<div class="codehilite"><pre><span></span><code>Vec2(elem) : (elem, elem)
Vec3(elem) : (elem, elem, elem)
...
Vec12(elem) : (elem, elem, elem, elem, ...
</code></pre></div>



<a name="528059445"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528059445" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528059445">(Jul 10 2025 at 11:28)</a>:</h4>
<p>Ok, I probably just don't understand the downside of <code>(elem; 12)</code> syntax</p>



<a name="528062653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528062653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528062653">(Jul 10 2025 at 11:47)</a>:</h4>
<p>We'll be able to try it out really soon <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>
<p>I'm looking forward to experimenting with lots of API ideas and making packages.</p>



<a name="528063055"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528063055" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528063055">(Jul 10 2025 at 11:49)</a>:</h4>
<p>A concrete example of how I plan on using these tuples is Multivectors for a 2D PGA package, basically improve on <a href="https://github.com/lukewilliamboswell/roc-pga2d">https://github.com/lukewilliamboswell/roc-pga2d</a></p>



<a name="528068449"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528068449" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528068449">(Jul 10 2025 at 12:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="584248">Kiryl Dziamura</span> <a href="#narrow/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/528059445">said</a>:</p>
<blockquote>
<p>Ok, I probably just don't understand the downside of <code>(elem; 12)</code> syntax</p>
</blockquote>
<p>hm, I guess if that were just syntax sugar for the same tuple elem type repeated that many times, that would be fine</p>



<a name="528103571"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528103571" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528103571">(Jul 10 2025 at 15:02)</a>:</h4>
<p>Yeah, I think sugar on top of homogeneous tuples could be enough. We don't need that much. Creation  with default value, querying with a runtime determined index, copying to/from lists, being able to query the size at runtime, iteration.</p>
<p>At the same time, I still think we could force everything through an allocating list until a few users come to us with performance problems we can't resolve without stack allocated lists.</p>



<a name="528307855"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Question%20from%20GH%20-%20Mutation%20in%20Roc/near/528307855" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc.html#528307855">(Jul 11 2025 at 10:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/231634-beginners/topic/Question.20from.20GH.20-.20Mutation.20in.20Roc/near/527990281">said</a>:</p>
<blockquote>
<p>It might be helpful to add a brief explanation in the top of our <code>List</code> builtin docs about what lists are. I thought we had something written up somewhere but I haven't found it yet or can't recall where I saw it. </p>
<p>It might be helpful also to add a FAQ entry. </p>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> WDYT?</p>
</blockquote>
<p>List builtin docs sounds like the right place for that</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
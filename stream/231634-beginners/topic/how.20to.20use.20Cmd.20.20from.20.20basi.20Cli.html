<html>
<head><meta charset="utf-8"><title>how to use Cmd  from  basi Cli · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html">how to use Cmd  from  basi Cli</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="409818039"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409818039" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409818039">(Dec 24 2023 at 14:12)</a>:</h4>
<p>hi  how  to  use  Cmd  module  to  invoke let say   "ls"  command ?? I can't  find  example  for  that</p>



<a name="409819244"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819244" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819244">(Dec 24 2023 at 14:33)</a>:</h4>
<p>Some examples and the API docs here: <a href="https://www.roc-lang.org/packages/basic-cli/Cmd">https://www.roc-lang.org/packages/basic-cli/Cmd</a></p>



<a name="409819321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819321">(Dec 24 2023 at 14:34)</a>:</h4>
<p>API I see.  I have  no idea  how to use  it</p>



<a name="409819461"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819461" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819461">(Dec 24 2023 at 14:37)</a>:</h4>
<p>Something like this:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nx">output</span><span class="w"> </span><span class="o">&lt;-</span>
<span class="w">    </span><span class="nx">Cmd</span><span class="p">.</span><span class="nx">new</span><span class="w"> </span><span class="s">"ls"</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Cmd</span><span class="p">.</span><span class="nx">arg</span><span class="w"> </span><span class="s">"-l"</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Cmd</span><span class="p">.</span><span class="nx">output</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Task</span><span class="p">.</span><span class="nx">await</span>
</code></pre></div>



<a name="409819498"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819498" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819498">(Dec 24 2023 at 14:37)</a>:</h4>
<p>this  I figured  out  but I do not know what to do with  output</p>



<a name="409819565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819565">(Dec 24 2023 at 14:38)</a>:</h4>
<p>it is weird  type I don't know  how to work  with</p>



<a name="409819580"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819580" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819580">(Dec 24 2023 at 14:38)</a>:</h4>
<p>Command example in the basic CLI repo: <a href="https://github.com/roc-lang/basic-cli/blob/main/examples/command.roc">https://github.com/roc-lang/basic-cli/blob/main/examples/command.roc</a></p>



<a name="409819685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819685">(Dec 24 2023 at 14:40)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Output : {
    stdout : List U8,
    stderr : List U8,
}
</code></pre></div>



<a name="409819844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409819844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409819844">(Dec 24 2023 at 14:42)</a>:</h4>
<p>thx  I will try,  "Task Output (Output, Error)"   &lt;--- I couldn't  figure  out  this  notation what does it mean  is different  than usual  Task {} *  or  something  along  those lines</p>



<a name="409820059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820059">(Dec 24 2023 at 14:46)</a>:</h4>
<p><code>Task Output (Output, Error)</code>:</p>
<p>On success, returns the output type I pasted above.<br>
On failure, returns a tuple of the output with the error.</p>
<p>Error is:</p>
<div class="codehilite"><pre><span></span><code>CommandErr : [
    ExitCode I32,
    KilledBySignal,
    IOError Str,
]
</code></pre></div>



<a name="409820147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820147">(Dec 24 2023 at 14:48)</a>:</h4>
<p>()  &lt;--  is tuple ?  ok  I get  that</p>



<a name="409820375"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820375" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820375">(Dec 24 2023 at 14:52)</a>:</h4>
<p>Yeah, as long as it has at least 2 elements. Roc does not have 0 or 1 element tuples.</p>



<a name="409820483"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820483" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820483">(Dec 24 2023 at 14:54)</a>:</h4>
<p>but  still  I can't  pattern match this </p>
<div class="codehilite"><pre><span></span><code>        cmdResult  &lt;-Cmd.output command |&gt; Task.await
        when cmdResult is
            val -&gt;
                {stderr : err, stdout : out } = val
                Task.ok  {}
            (val,err) -&gt;
                Task.ok  {}
</code></pre></div>



<a name="409820624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820624">(Dec 24 2023 at 14:56)</a>:</h4>
<p>wait  I forget  if  this is  legal</p>



<a name="409820739"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820739" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820739">(Dec 24 2023 at 14:58)</a>:</h4>
<p><code>Task.await</code> just gives you the success case and delays the error handling. <code>Task.attempt</code> will give you a result with the full type.</p>
<p>So this should work:</p>
<div class="codehilite"><pre><span></span><code>        cmdResult  &lt;-Cmd.output command |&gt; Task.attempt
        when cmdResult is
            Ok val -&gt;
                {stderr : err, stdout : out } = val
                Task.ok  {}
            Err (val,err) -&gt;
                Task.ok  {}
</code></pre></div>



<a name="409820975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409820975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409820975">(Dec 24 2023 at 15:01)</a>:</h4>
<p>thx, task are  black  magic for  me because  they  do not  resemble  anything I worked with  in the  past</p>



<a name="409822335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409822335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409822335">(Dec 24 2023 at 15:18)</a>:</h4>
<p>ok  I finally  manage : )  I need to definitely  play  bit more with Tasks</p>



<a name="409824745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20to%20use%20Cmd%20%20from%20%20basi%20Cli/near/409824745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20to.20use.20Cmd.20.20from.20.20basi.20Cli.html#409824745">(Dec 24 2023 at 15:55)</a>:</h4>
<p>Glad you figured it out</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
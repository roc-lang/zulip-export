<html>
<head><meta charset="utf-8"><title>Task Timeout · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html">Task Timeout</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="422428899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422428899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Herrmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422428899">(Feb 20 2024 at 14:30)</a>:</h4>
<p>Hi,<br>
I am trying to implement a simple terminal game using the basic-cli platform. I am trying to read user input in a non blocking way.  To simulate this I wanted to assing some time in the loop to read user input and ignore it if no input is received withing the given time. Does anyone know how to implement a function that receices a task and a time and returns the task result if the task completes or a Timeout error if the time runs out?</p>



<a name="422434788"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422434788" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422434788">(Feb 20 2024 at 14:56)</a>:</h4>
<p>I don't think that is currently supported in basic cli. Someone would need to add the feature to the platform. Though it might be hard to add into the platform in a generic way with the current platform interface (without effect interpreters). </p>
<p>So probably would currently need to be added for specific operation.</p>



<a name="422437567"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422437567" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422437567">(Feb 20 2024 at 15:08)</a>:</h4>
<p>I think you can probably achieve what you want with <a href="https://www.roc-lang.org/packages/basic-cli/0.8.1/Tty#enableRawMode">Tty.enableRawMode</a>, see <a href="https://github.com/lukewilliamboswell/roc-ansi/blob/b1651e02947eca2c9cafaa5a992ecc2d3a079c57/examples/tui-menu.roc#L64">this example</a>.</p>



<a name="422441100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422441100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Herrmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422441100">(Feb 20 2024 at 15:24)</a>:</h4>
<p>I am using Tty.enableRawMode, the example is almost what I wanted, except the input is blocking, because the GUI doenst neet to update if there is no user input. Maybe I do need to implement something to be able to add a timeout to a task</p>



<a name="422443196"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422443196" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422443196">(Feb 20 2024 at 15:33)</a>:</h4>
<p>Right, I understand now</p>



<a name="422459871"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422459871" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Herrmann <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422459871">(Feb 20 2024 at 16:53)</a>:</h4>
<p>Or implement a turn based game with no idle animations :P</p>



<a name="422461167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422461167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422461167">(Feb 20 2024 at 16:59)</a>:</h4>
<p>That seems easier <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="422491228"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/422491228" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#422491228">(Feb 20 2024 at 19:54)</a>:</h4>
<p>Yeah, this is something I've explored a bit while making terminal UI games. I came to the conclusion it's not possible without Task.map2 and the effect interpreters.</p>



<a name="429404107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/429404107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffrey Mudge <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#429404107">(Mar 25 2024 at 13:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/231634-beginners/topic/Task.20Timeout/near/422491228">said</a>:</p>
<blockquote>
<p>Yeah, this is something I've explored a bit while making terminal UI games. I came to the conclusion it's not possible without Task.map2 and the effect interpreters.</p>
</blockquote>
<p>Is there a place to track the implementation of Task.map2? I've been working on using your roc-ansi package to create an <a href="https://wiki.archlinux.org/title/Music_Player_Daemon">MPD (Music Player Daemon)</a> TUI client and I've gotten to the point where I can get and display the current playlist from the server, but it doesn't auto update since the next loop is stuck waiting for input.</p>
<p>I wanted to set a timeout on getting that input and jump to the next iteration of the loop, but it sounds like that's not possible with the basic-cli platform at the moment.</p>



<a name="429486319"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/429486319" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#429486319">(Mar 25 2024 at 18:44)</a>:</h4>
<p>I think we know what needs to be done, but it just needs someone to implement it in the compiler. I think the next step from memory is to implement a paricular function which can take any roc type and give it a good name. Then this will enable the changes we need for glue. <span class="user-mention" data-user-id="281383">@Richard Feldman</span>  or <span class="user-mention" data-user-id="281543">@Folkert de Vries</span>  could give a better explanation. Is this something you would be interested in working on?</p>
<p>I don't think we've made an issie to track it or anything, so any updates or discussion would most likely be in zulip chat.</p>



<a name="429487141"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/429487141" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#429487141">(Mar 25 2024 at 18:49)</a>:</h4>
<p>Oh actually I think <span class="user-mention" data-user-id="507458">@doubledup</span> might be working on things?</p>



<a name="429487937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Task%20Timeout/near/429487937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffrey Mudge <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Task.20Timeout.html#429487937">(Mar 25 2024 at 18:54)</a>:</h4>
<p>OK, thanks. I did search in Zulip and Github issues, but thought maybe I'd missed something. </p>
<p>I think compiler work is beyond my abilities at this point, so I think I'll wait until someone one else is able to do it. There are plenty of other things I can play around with in the meantime.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
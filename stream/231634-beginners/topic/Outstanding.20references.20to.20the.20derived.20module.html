<html>
<head><meta charset="utf-8"><title>Outstanding references to the derived module · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Outstanding.20references.20to.20the.20derived.20module.html">Outstanding references to the derived module</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="478206517"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Outstanding%20references%20to%20the%20derived%20module/near/478206517" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Outstanding.20references.20to.20the.20derived.20module.html#478206517">(Oct 22 2024 at 05:15)</a>:</h4>
<p>Got an issue where running <code>roc check</code> on a file is resulting in:</p>
<div class="codehilite"><pre><span></span><code>roc check EmptyModule.roc
An internal compiler expectation was broken.
This is definitely a compiler bug.
Please file an issue here: &lt;https://github.com/roc-lang/roc/issues/new/choose&gt;
Outstanding references to the derived module
Location: crates/compiler/load_internal/src/file.rs:3299:29
</code></pre></div>
<p>This is happening for various roc files I have in a directory, including a test roc file that just has <code>module []</code> in it.</p>
<p>If I move the file to a different directory (no other roc files in it), <code>roc check</code> succeeds.</p>



<a name="478206941"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Outstanding%20references%20to%20the%20derived%20module/near/478206941" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Cone <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Outstanding.20references.20to.20the.20derived.20module.html#478206941">(Oct 22 2024 at 05:22)</a>:</h4>
<p>I can work around it right now. I have a <code>main.roc</code> that <code>roc check</code> succeeds for. If I have it import the module that is crashing, <code>roc check</code> knows to run on that file too, and <code>roc check</code> succeeds. So I'm hitting this when running <code>roc check</code> on specific files, and it happens even if the file is empty or only has <code>module []</code> in it, so it isn't an issue with the contents of the file.</p>



<a name="478238053"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Outstanding%20references%20to%20the%20derived%20module/near/478238053" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Outstanding.20references.20to.20the.20derived.20module.html#478238053">(Oct 22 2024 at 09:04)</a>:</h4>
<p>This looks like <a href="https://github.com/roc-lang/roc/issues/7175">#7175</a></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
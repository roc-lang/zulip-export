<html>
<head><meta charset="utf-8"><title>basic-cli: internal error tags/types · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/basic-cli.3A.20internal.20error.20tags.2Ftypes.html">basic-cli: internal error tags/types</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="314849078"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/basic-cli%3A%20internal%20error%20tags/types/near/314849078" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Gillette <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/basic-cli.3A.20internal.20error.20tags.2Ftypes.html#314849078">(Dec 09 2022 at 09:17)</a>:</h4>
<p>(forked from <a href="#narrow/stream/231634-beginners/topic/Task.2Ferror.20handling.20.26.20platform.20use/near/314385634">https://roc.zulipchat.com/#narrow/stream/231634-beginners/topic/Task.2Ferror.20handling.20.26.20platform.20use/near/314385634</a>)</p>
<p>I have observed compiler errors like:</p>
<div class="codehilite"><pre><span></span><code>This Task.await call produces:

    Task (List Str) [FileReadErr Path.Path InternalFile.ReadErr,
    FileReadUtf8Err Path.Path [BadUtf8 Utf8ByteProblem Nat]]

But the type annotation on readLines says it should be:

    Task (List Str) *
</code></pre></div>
<p><code>FileReadErr</code> exposes mention of an <code>InternalFile.ReadErr</code>. Is this intentional? Is this something we can reference and inspect in the calling application? Use of <code>Internal</code> in exposed error messages and APIs, at least for me, decreases confidence in the maturity of the system (though I realize it's a work-in-progress).</p>
<p>Does <code>FileReadUtf8Err</code> need to bundle <code>BadUtf8</code>, and in turn, does <code>BadUtf8</code> need to bundle <code>Utf8ByteProblem</code>? Could <code>FileReadErr</code> just directly bundle <code>BadUtf8</code> as one of its tag arguments instead of introducing a separate top-level error?</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
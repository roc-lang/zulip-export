<html>
<head><meta charset="utf-8"><title>âœ” running the basic-cli examples Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html">âœ” running the basic-cli examples</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="411081428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411081428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411081428">(Jan 03 2024 at 21:05)</a>:</h4>
<p>hey, I'm trying to run the basic-cli examples with the latest <code>roc</code> binary and not getting a lot of success. Looks like there are some missing symbols during linking:</p>
<div class="codehilite"><pre><span></span><code>$ roc build hello-world.roc
ðŸ”¨ Rebuilding platform...
ld: Undefined symbols:
  _main, referenced from:
      &lt;initial-undefines&gt;
  _roc_dealloc, referenced from:
      _decrement_refcounted_ptr_8 in roc_appkXIKOc.o
  _roc_fx_stdoutLine, referenced from:
      _roc_fx_stdoutLine_fastcc_wrapper in roc_appkXIKOc.o
hello-world: No such file or directory
thread &#39;main&#39; panicked at &#39;not yet implemented: gracefully handle `ld` (or `zig` in the case of wasm with --optimize) returning exit code Some(1)&#39;, crates/compiler/build/src/program.rs:1044:17
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre></div>
<p>Any ideas what could be going on here?</p>



<a name="411083708"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083708" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083708">(Jan 03 2024 at 21:18)</a>:</h4>
<p>macos?</p>



<a name="411083713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083713">(Jan 03 2024 at 21:18)</a>:</h4>
<p>Any other system details?</p>



<a name="411083790"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083790" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083790">(Jan 03 2024 at 21:19)</a>:</h4>
<p>whoops, yes. Latest macOS.</p>



<a name="411083808"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083808" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083808">(Jan 03 2024 at 21:19)</a>:</h4>
<div class="codehilite"><pre><span></span><code>roc nightly pre-release, built from commit b1f7316fce0 on Wed Jan  3 10:32:05 UTC 2024
</code></pre></div>



<a name="411083867"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083867" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083867">(Jan 03 2024 at 21:20)</a>:</h4>
<p>on basic-cli 202794db7a2cc3ba3dd3c590aa68806fd82c15c7 (current <code>main</code>)</p>



<a name="411083880"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411083880" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411083880">(Jan 03 2024 at 21:20)</a>:</h4>
<p>on apple silicon</p>



<a name="411085878"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411085878" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411085878">(Jan 03 2024 at 21:37)</a>:</h4>
<p>hmm, can't repro on main, maybe an issue specfic to nightlies?</p>



<a name="411085892"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411085892" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411085892">(Jan 03 2024 at 21:37)</a>:</h4>
<p>seems weird though cause it is failing in <code>ld</code></p>



<a name="411086917"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411086917" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411086917">(Jan 03 2024 at 21:46)</a>:</h4>
<p>that is interesting. Is there anything special that needs to be done to build from source now? I'm getting a bunch of missing symbols there too <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="411086965"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411086965" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411086965">(Jan 03 2024 at 21:46)</a>:</h4>
<p>specifically it's telling me "Undefined symbols for architecture x86_64" when I try to <code>cargo build</code>. Not sure why it's not ARM</p>



<a name="411086975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411086975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411086975">(Jan 03 2024 at 21:47)</a>:</h4>
<p>(I can past the whole error if you like but it's large)</p>



<a name="411087352"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411087352" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411087352">(Jan 03 2024 at 21:50)</a>:</h4>
<p>Interesting. I wonder if your system is for some reason emulating x86 with Rosetta for part of the build.</p>



<a name="411087390"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411087390" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411087390">(Jan 03 2024 at 21:51)</a>:</h4>
<p>Then the symbols are missing for aarch64 despite existing for x86 or the reverse</p>



<a name="411087904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411087904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411087904">(Jan 03 2024 at 21:55)</a>:</h4>
<p>I've had some weird stuff on this system from the get-go. Something about how I had to set up the main repo at this job means I have to pass <code>arch -arm64</code> before all Homebrew commands, for instance.</p>



<a name="411087974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411087974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411087974">(Jan 03 2024 at 21:56)</a>:</h4>
<p>but building Roc like that doesn't work:</p>
<div class="codehilite"><pre><span></span><code>$ arch -arm64 cargo build
arch: posix_spawnp: cargo: Bad CPU type in executable
</code></pre></div>



<a name="411088064"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411088064" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411088064">(Jan 03 2024 at 21:57)</a>:</h4>
<p>and the <code>arch -arm64</code> doesn't change the issue in the platform <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="411092405"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411092405" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411092405">(Jan 03 2024 at 22:33)</a>:</h4>
<p>I would guess that <code>arch -arm64</code> isn't recursive, so subcommands are still running via x86</p>



<a name="411092432"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411092432" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411092432">(Jan 03 2024 at 22:34)</a>:</h4>
<p>I've had a lot of weird arch issues on this computer, and it looks like this might merely be the latest. I'm going to wipe it and try again.</p>



<a name="411278774"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411278774" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411278774">(Jan 04 2024 at 23:36)</a>:</h4>
<p>I <em>think</em> this might be resolved. It turns out I had told Nix that this M2 mac was actually an Intel Mac, so it was set up all sideways to begin with. Unfortunately, I found that out by spending all day reimaging it. Sigh. (It wasn't just for this, though. I was having all sorts of weird problems that I think can be linked to this!)</p>



<a name="411278888"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411278888" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Hicks <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411278888">(Jan 04 2024 at 23:37)</a>:</h4>
<p>YESSSSSS</p>
<div class="codehilite"><pre><span></span><code>$ cargo run -- run ../basic-cli/examples/hello-world.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.28s
     Running `target/debug/roc run ../basic-cli/examples/hello-world.roc`
ðŸ”¨ Rebuilding platform...
Hello, World!
</code></pre></div>



<a name="411278892"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20running%20the%20basic-cli%20examples/near/411278892" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20running.20the.20basic-cli.20examples.html#411278892">(Jan 04 2024 at 23:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="419641">Brian Hicks</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
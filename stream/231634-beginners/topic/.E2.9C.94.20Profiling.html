<html>
<head><meta charset="utf-8"><title>✔ Profiling · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html">✔ Profiling</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="406806998"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406806998" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406806998">(Dec 08 2023 at 17:28)</a>:</h4>
<p>Are there any profiling tools for Roc? It doesn't need to be anything fancy, just something that can tell me how much time is spent in a function would be very helpful in improving performance.</p>



<a name="406807112"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406807112" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406807112">(Dec 08 2023 at 17:29)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> is the expert on that :)</p>



<a name="406807527"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406807527" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406807527">(Dec 08 2023 at 17:31)</a>:</h4>
<p>My advice for really useful high level profiling:</p>
<ol>
<li>Run on Linux</li>
<li>Compile with <code>--optimize --profiling</code></li>
<li>Use <code>perf</code> and a tool to convert that to a flame graph. Make sure to pass <code>--call-graph dwarf</code> to <code>perf</code></li>
</ol>



<a name="406809447"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406809447" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406809447">(Dec 08 2023 at 17:43)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> why is the "Run on Linux" step necessary? Does it require a dependency that's not on Mac OS?</p>



<a name="406810474"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406810474" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406810474">(Dec 08 2023 at 17:50)</a>:</h4>
<p><code>perf</code> is amazing and is Linux only</p>



<a name="406810505"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406810505" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bates <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406810505">(Dec 08 2023 at 17:50)</a>:</h4>
<p>Good to know, thanks!</p>



<a name="406810514"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406810514" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406810514">(Dec 08 2023 at 17:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="667613">Ryan Bates</span> has marked this topic as resolved.</p>



<a name="406810631"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406810631" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406810631">(Dec 08 2023 at 17:51)</a>:</h4>
<p>To be fair, <code>dtrace</code> can be used on macos, but it has never worked as well for me. I'm not even sure how to get it to use debug info though, so may just be a skill issue on my part.</p>



<a name="406811766"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406811766" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> LoipesMas <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406811766">(Dec 08 2023 at 17:58)</a>:</h4>
<p>FWIW: I tried using <a href="https://github.com/flamegraph-rs/flamegraph">flamegraph-rs</a> on a Roc binary, but it didn't give useful output. It's <em>supposed</em> to work on all programs, not just Rust ones, so I'm not sure if that's an issue in flamegraph-rs or in roc</p>



<a name="406815226"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406815226" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406815226">(Dec 08 2023 at 18:21)</a>:</h4>
<p>Oh, important piece I forget, you need to use <code>--linker=legacy</code></p>



<a name="406818791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406818791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406818791">(Dec 08 2023 at 18:45)</a>:</h4>
<p>This would be a super helpful guide to add to the website or somwhere we can find it. It doesn't need to be very long, but I think it would help to have the procedure step by step. Or maybe we can link to it from roc-awesome? <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> do you have a blog, would you be interested in writing about your process? What do people think about adding something like this to <a href="http://roc-lang.org">roc-lang.org</a> under guides?</p>



<a name="406819570"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406819570" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406819570">(Dec 08 2023 at 18:51)</a>:</h4>
<p>I could write something up. Now that we have the <code>--profiling</code> flag, we actually can get some useful data.</p>



<a name="406819592"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406819592" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406819592">(Dec 08 2023 at 18:51)</a>:</h4>
<p>I do have a blog with I think exactly 1 article</p>



<a name="406820385"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406820385" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406820385">(Dec 08 2023 at 18:57)</a>:</h4>
<p>On Mac I've used the Instruments tool. It's a GUI profiler that comes with XCode. Pretty good. Haven't used it on Roc code but it should be the same as any other binary.</p>



<a name="406820778"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406820778" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406820778">(Dec 08 2023 at 18:59)</a>:</h4>
<p>I didn't need a whole XCode project or anything, just pointed it at my binary.</p>



<a name="406820982"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406820982" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406820982">(Dec 08 2023 at 19:00)</a>:</h4>
<p>I should test that now that we have debug info</p>



<a name="406867841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/406867841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#406867841">(Dec 09 2023 at 01:30)</a>:</h4>
<p>Instruments looks to work quite well on macos with <code>--profiling</code> has a full call stack</p>



<a name="407066579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/407066579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#407066579">(Dec 10 2023 at 13:01)</a>:</h4>
<blockquote>
<p>This would be a super helpful guide to add to the website or somwhere we can find it</p>
</blockquote>
<p>The examples repo seems like a great fit.</p>



<a name="407066810"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Profiling/near/407066810" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Profiling.html#407066810">(Dec 10 2023 at 13:03)</a>:</h4>
<p>I made <a href="https://github.com/roc-lang/examples/issues/123">https://github.com/roc-lang/examples/issues/123</a> for it</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
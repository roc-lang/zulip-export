<html>
<head><meta charset="utf-8"><title>Generic Unsigned Integer · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html">Generic Unsigned Integer</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="303088934"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303088934" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Duncan <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303088934">(Oct 09 2022 at 03:57)</a>:</h4>
<p>Is there a generic type for unsigned integers, as in, a type that the only restriction on the number is that it is unsigned and does not limit the size or the underlying representation of the number? I would like to write functions that work on any unsigned integer to only choose its size at the edge of the app.</p>



<a name="303089028"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089028" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089028">(Oct 09 2022 at 03:59)</a>:</h4>
<p>Is that what an Int * is?</p>



<a name="303089032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089032">(Oct 09 2022 at 03:59)</a>:</h4>
<p>Currently no: <a href="https://github.com/roc-lang/roc/blob/main/crates/compiler/builtins/roc/Num.roc#L421">https://github.com/roc-lang/roc/blob/main/crates/compiler/builtins/roc/Num.roc#L421</a></p>



<a name="303089107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089107">(Oct 09 2022 at 04:00)</a>:</h4>
<p>As you can see in the definitions for <code>I128</code>, <code>U8</code>, etc. the size &amp; signedness are currently entangled</p>



<a name="303089117"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089117" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089117">(Oct 09 2022 at 04:00)</a>:</h4>
<p>However, I imagine that could change</p>



<a name="303089155"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089155" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089155">(Oct 09 2022 at 04:01)</a>:</h4>
<p>Could you do something like [U16, U32, U64, ...]?</p>



<a name="303089277"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089277" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089277">(Oct 09 2022 at 04:02)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> you could use tags to indicate what type of data you're intending to be passing around, but it wouldn't enforce it</p>



<a name="303089317"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089317" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089317">(Oct 09 2022 at 04:03)</a>:</h4>
<p>since the numerical system currently only supports enforcing either integerness or 64-bit-unsigned-integer-ness, but nothing in-between</p>



<a name="303089391"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089391" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089391">(Oct 09 2022 at 04:04)</a>:</h4>
<p><span class="user-mention" data-user-id="551608">@Chris Duncan</span> in other words, you can definitely write those functions today, but you can't prevent yourself from using them on signed integers</p>



<a name="303089496"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089496" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089496">(Oct 09 2022 at 04:06)</a>:</h4>
<p>well, actually, nevermind, <span class="user-mention" data-user-id="515757">@Luke Boswell</span> makes a good point - you could restrict them to operate on the exact complete set of currently-defined unsigned integer types</p>



<a name="303089536"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089536" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089536">(Oct 09 2022 at 04:08)</a>:</h4>
<p>Yeah, re what Luke suggested, you could do something like</p>
<div class="codehilite"><pre><span></span><code>UnsignedInt : [U8 U8, U16 U16, ...]

addUnsigned : UnsignedInt, UnsignedInt -&gt; UnsignedInt
</code></pre></div>
<p>but this can be kind of annoying , since you'll need to enumerate all cases in a <code>when</code> expression</p>



<a name="303089709"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089709" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089709">(Oct 09 2022 at 04:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code>UnsignedFriend : [Smol U8, Small U16, Medium U32, Big U64, Beeg U128]
addUnsigned : UnsignedFriend, UnsignedFriend -&gt; UnsignedFriend
addUnsigned = \a, b -&gt;
    when a is
        Smol aa -&gt;
            when b is
                Smol bb -&gt;
                    Smol (aa + bb)
                Small bb -&gt;
                    Small ((Num.toU16 aa) + bb)
                Medium bb -&gt;
                    oh no
                ...
        Small aa -&gt;
            oh no
        ...
</code></pre></div>



<a name="303089839"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089839" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089839">(Oct 09 2022 at 04:13)</a>:</h4>
<p>Currently this would require 25 <code>when</code> cases, which means 40+ lines of repetitive code</p>



<a name="303089994"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303089994" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303089994">(Oct 09 2022 at 04:16)</a>:</h4>
<p>The practical solutions to this are:<br>
a) in your project, discourage (but don't prevent) use with signed integers by naming it something like <code>fooUnsigned</code><br>
b) in the Roc builtins, disentangle signedness from size for integer types for everyone, which doesn't seem crazy</p>



<a name="303090068"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090068" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090068">(Oct 09 2022 at 04:18)</a>:</h4>
<p>However, if short-term safety is your goal, then enjoy a <code>Beeg</code> function <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="303090084"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090084" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090084">(Oct 09 2022 at 04:19)</a>:</h4>
<p>Yeah, I guess we could add this to <code>Num.roc</code> so that <code>Integer range</code> is defined as <code>Integer range := [Signed range, Unsigned range]</code>. And then you get <code>Unsigned range : Integer (Unsigned range)</code> and likewise for <code>Signed</code></p>
<p>At runtime there would be no extra cost here, just possibly a minor cost to typechecking</p>



<a name="303090441"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090441" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090441">(Oct 09 2022 at 04:28)</a>:</h4>
<p><span class="user-mention" data-user-id="454654">@Ayaz Hafiz</span> Would the definition instead be something like <code>Integer signedness range := { signedness, range }</code> so that we can define integer types like <code>I128 : Num (Integer Signed 128)</code>? I'm unfamiliar with opaque types, but I don't know how we'd define <code>I128</code> with the <code>Integer</code> definition you gave above.</p>



<a name="303090472"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090472" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090472">(Oct 09 2022 at 04:29)</a>:</h4>
<p>Hmm, maybe <code>I128 : Num (Integer (Signed 128))</code>, but something feels wrong about <code>(Signed 128)</code> mapping to <code>range</code>...</p>



<a name="303090611"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090611" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090611">(Oct 09 2022 at 04:32)</a>:</h4>
<p>either way works, those two definitions are actually identical in terms of what they can express <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="303090624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090624">(Oct 09 2022 at 04:32)</a>:</h4>
<p>there are probably other ways too</p>



<a name="303090646"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090646" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090646">(Oct 09 2022 at 04:33)</a>:</h4>
<p>Oh, cool... but how do we not need <code>signedness</code> as a type variable?</p>



<a name="303090712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090712">(Oct 09 2022 at 04:34)</a>:</h4>
<p>well presumably it would only take on two forms, Signed or Unsigned. That’s why i explicitly enumerated them</p>



<a name="303090729"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090729" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090729">(Oct 09 2022 at 04:35)</a>:</h4>
<p>“range” could be thought of as “bitWidth” here</p>



<a name="303090949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303090949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303090949">(Oct 09 2022 at 04:40)</a>:</h4>
<p>Sorry if I'm being thick here, but wouldn't</p>
<div class="codehilite"><pre><span></span><code>Integer range := [Signed range, Unsigned range]
I128 : Num (Integer (Signed 128))
</code></pre></div>
<p>mean that <code>I128</code> is "represented"(?) as <code>Num (Signed (Signed 128))</code>? And how would it know that first <code>Signed</code> part?</p>



<a name="303091037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303091037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303091037">(Oct 09 2022 at 04:42)</a>:</h4>
<p>as opposed to</p>
<div class="codehilite"><pre><span></span><code>Integer signedness range := { signedness, range }
I128 : Num (Integer Signed 128)
</code></pre></div>
<p>meaning that <code>I128</code> is represented as <code>Num { signedness: Signed, range: 128 }</code>?</p>



<a name="303091596"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303091596" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303091596">(Oct 09 2022 at 04:55)</a>:</h4>
<p>Maybe the generalization of my question is:</p>
<p>How can you ever use a tag union as an underlying representation of an opaque type when the tags represent an externally-pickable behavior, since you can't pick the tag via type variables?</p>
<p>(pardon my lack of vocabulary around opaque types, I'm sure "pick" and "represent" aren't ideal words here)</p>



<a name="303092128"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092128" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092128">(Oct 09 2022 at 05:06)</a>:</h4>
<p>(and I'm not asking just to be pedantic - I went to implement this change and got stuck)</p>



<a name="303092165"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092165" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092165">(Oct 09 2022 at 05:07)</a>:</h4>
<p>I wasn't thinking of a <code>signedness</code> type variable, instead to enumerate signedness explicitly - sorry, I know I glossed over that in your description</p>



<a name="303092167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092167">(Oct 09 2022 at 05:07)</a>:</h4>
<p>Concretely</p>



<a name="303092257"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092257" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092257">(Oct 09 2022 at 05:09)</a>:</h4>
<p>&lt;oops&gt;</p>



<a name="303092333"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092333" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092333">(Oct 09 2022 at 05:10)</a>:</h4>
<p>oh oops</p>



<a name="303092334"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092334" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092334">(Oct 09 2022 at 05:10)</a>:</h4>
<p>one sec</p>



<a name="303092455"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092455" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092455">(Oct 09 2022 at 05:13)</a>:</h4>
<p>sorry, you're right, I got too caught up in the value level. my bad, that was really a huge oversight on my part. you would have to have a type variable for the sign</p>



<a name="303092514"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092514" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092514">(Oct 09 2022 at 05:14)</a>:</h4>
<p>Phew, I feel like I just connected a bunch of static-typing neurons in my brain <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="303092614"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092614" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092614">(Oct 09 2022 at 05:16)</a>:</h4>
<p>No yeah you're totally right. Sorry again</p>



<a name="303092719"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092719" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092719">(Oct 09 2022 at 05:18)</a>:</h4>
<p>All good! It was a helpful exploration for me :) hopefully others, too</p>



<a name="303092725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303092725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303092725">(Oct 09 2022 at 05:18)</a>:</h4>
<p>I'm diving back into implementation now, and enjoying the nuance of <code>Nat</code> <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="303093858"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303093858" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303093858">(Oct 09 2022 at 05:43)</a>:</h4>
<p>My implementation so far, what do y'all think? <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> </p>
<div class="codehilite" data-code-language="TypeScript"><pre><span></span><code><span class="nx">Num</span><span class="w"> </span><span class="nx">range</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">range</span><span class="w"></span>

<span class="nx">Integer</span><span class="w"> </span><span class="nx">signedness</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">signedness</span><span class="p">,</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="nx">Fraction</span><span class="w"> </span><span class="nx">pointSystem</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">pointSystem</span><span class="p">,</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="nx">Int</span><span class="w"> </span><span class="nx">signedness</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="p">(</span><span class="nx">Integer</span><span class="w"> </span><span class="nx">signedness</span><span class="w"> </span><span class="nx">bits</span><span class="p">)</span><span class="w"></span>
<span class="nx">Frac</span><span class="w"> </span><span class="nx">pointSystem</span><span class="w"> </span><span class="nx">bits</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="p">(</span><span class="nx">Fraction</span><span class="w"> </span><span class="nx">pointSystem</span><span class="w"> </span><span class="nx">bits</span><span class="p">)</span><span class="w"></span>

<span class="nx">I8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Signed</span><span class="w"> </span><span class="nx">Static8Bits</span><span class="w"></span>
<span class="nx">I16</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Signed</span><span class="w"> </span><span class="nx">Static16Bits</span><span class="w"></span>
<span class="nx">I32</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Signed</span><span class="w"> </span><span class="nx">Static32Bits</span><span class="w"></span>
<span class="nx">I64</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Signed</span><span class="w"> </span><span class="nx">Static64Bits</span><span class="w"></span>
<span class="nx">I128</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Signed</span><span class="w"> </span><span class="nx">Static128Bits</span><span class="w"></span>

<span class="nx">U8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Static8Bits</span><span class="w"></span>
<span class="nx">U16</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Static16Bits</span><span class="w"></span>
<span class="nx">U32</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Static32Bits</span><span class="w"></span>
<span class="nx">U64</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Static64Bits</span><span class="w"></span>
<span class="nx">U128</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Static128Bits</span><span class="w"></span>

<span class="nx">Nat</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nx">Unsigned</span><span class="w"> </span><span class="nx">Dynamic32Or64BitsPerSystem</span><span class="w"></span>

<span class="nx">Signed</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Unsigned</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>

<span class="nx">Static8Bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Static16Bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Static32Bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Static64Bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Static128Bits</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">Dynamic32Or64BitsPerSystem</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>

<span class="nx">F32</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Frac</span><span class="w"> </span><span class="nx">FloatingPoint</span><span class="w"> </span><span class="nx">Static32Bits</span><span class="w"></span>
<span class="nx">F64</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Frac</span><span class="w"> </span><span class="nx">FloatingPoint</span><span class="w"> </span><span class="nx">Static64Bits</span><span class="w"></span>
<span class="nx">Dec</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Frac</span><span class="w"> </span><span class="nx">FixedPoint</span><span class="w"> </span><span class="nx">Static128Bits</span><span class="w"></span>

<span class="nx">FixedPoint</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="nx">FloatingPoint</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
</code></pre></div>



<a name="303094159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094159">(Oct 09 2022 at 05:48)</a>:</h4>
<p>I wish I saw a way to enable both generic integers and generic 32-bit numbers... because it's so close now... but that doesn't seem syntactically possible to cut generically across both of those dimensions. Oh well, handling both 32-bit integers and 32-bit fractions probably doesn't have many use cases... right?</p>



<a name="303094165"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094165" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094165">(Oct 09 2022 at 05:48)</a>:</h4>
<p>I'm curious what the motivating use case is! I thought about having this as a distinction back in 2018 but concluded it wouldn't be worth the added type complexity and (probably very minor) compile time increase <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="303094188"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094188" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094188">(Oct 09 2022 at 05:49)</a>:</h4>
<p>I don't think you can add it onto the existing system, but it's definitely possible (at nontrivial cost) to make <code>Num</code> support this while still supporting all the use cases it currently does</p>



<a name="303094242"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094242" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094242">(Oct 09 2022 at 05:50)</a>:</h4>
<p>("it" &amp; "this" meaning 32-bit generics?)</p>



<a name="303094276"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094276" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094276">(Oct 09 2022 at 05:51)</a>:</h4>
<p>Yes, I'm also interested in the use cases for signedness/bit-depth generics! What's new since 2018?</p>



<a name="303094338"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094338" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094338">(Oct 09 2022 at 05:52)</a>:</h4>
<p><span class="user-mention" data-user-id="551608">@Chris Duncan</span> what's your motivation for this? (mine is just "because it seems right")</p>



<a name="303094369"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094369" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094369">(Oct 09 2022 at 05:53)</a>:</h4>
<p>my threshold for making <code>Num</code> more complex is way higher than "seems right" <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="303094380"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094380" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094380">(Oct 09 2022 at 05:53)</a>:</h4>
<p>my original motivating use case for signedness was wanting <code>Num.neg</code> to only accept signed numbers</p>



<a name="303094398"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094398" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094398">(Oct 09 2022 at 05:54)</a>:</h4>
<p>because with unsigned ones you either give it exactly <code>0</code> or else it's going to panic</p>



<a name="303094578"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094578" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094578">(Oct 09 2022 at 05:57)</a>:</h4>
<p>Well, really how much more complex is <code>Num (Integer Signed Static8Bits)</code> than <code>Num (Integer Signed8)</code>? Is it a matter of character count?</p>



<a name="303094640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094640">(Oct 09 2022 at 05:58)</a>:</h4>
<p>Personally it feels more explanatory, which counts for something, even lowering complexity by making it less magical</p>



<a name="303094662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094662">(Oct 09 2022 at 05:59)</a>:</h4>
<p>However, compile times matter.</p>



<a name="303094714"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094714" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094714">(Oct 09 2022 at 05:59)</a>:</h4>
<p>I'll give a couple examples I've run into:</p>
<ul>
<li>one is throughout advent of code 2021 there are times I've wanted to generically operate over unsigned types, like when working on a 2D Cartesian plane only in Q1: <a href="https://github.com/ayazhafiz/roc-advent-of-code/blob/main/2021/day4.roc">https://github.com/ayazhafiz/roc-advent-of-code/blob/main/2021/day4.roc</a>. Ideally you (or the compiler) would minimize the runtime unsigned integer you use but in practice a U64 is fine. I had a similar thing for day 6</li>
<li>When you bit shift you want to shift by an unsigned integer amount; again, in practice just passing a U8 is fine</li>
</ul>



<a name="303094973"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094973" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094973">(Oct 09 2022 at 06:02)</a>:</h4>
<p>(To be fair to the downsides of verbosity, it would be pretty jarring to type <code>List.len [1, 2, 3]</code> into the REPL and see <code>3 : Num (Integer Unsigned Dynamic32Or64BitsPerSystem)</code> <span aria-label="laughter tears" class="emoji emoji-1f602" role="img" title="laughter tears">:laughter_tears:</span> ...it's not wrong, though)</p>



<a name="303094999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303094999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Duncan <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303094999">(Oct 09 2022 at 06:03)</a>:</h4>
<p><span class="user-mention" data-user-id="454654">@Ayaz Hafiz</span> You beat me to it <span aria-label="laughter tears" class="emoji emoji-1f602" role="img" title="laughter tears">:laughter_tears:</span> I'm also doing Advent of Code, and I'm encountering the same want of having functions that operate over natural numbers and expressing that restriction in the types.</p>



<a name="303095100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095100">(Oct 09 2022 at 06:05)</a>:</h4>
<p>It's worth mentioning <code>Nat</code> already exists, and it can already service the use cases mentioned so far</p>



<a name="303095138"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095138" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095138">(Oct 09 2022 at 06:05)</a>:</h4>
<p>(unless you're working with big numbers on a 32-bit system)</p>



<a name="303095331"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095331" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095331">(Oct 09 2022 at 06:08)</a>:</h4>
<p>Let's continue discussing if this is sufficiently motivated/justified, but here's a visualization of what the builtins changes might entail: <a href="https://github.com/roc-lang/roc/pull/4268/files">https://github.com/roc-lang/roc/pull/4268/files</a> (and it's missing how many other downstream files will need to change)</p>



<a name="303095640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095640">(Oct 09 2022 at 06:15)</a>:</h4>
<p>I remember from my earlier exploration (it's been a few years, so not sure exactly what I had written down, or where) that it's doable with <code>Int</code> still having one type parameter</p>



<a name="303095683"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095683" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095683">(Oct 09 2022 at 06:16)</a>:</h4>
<p>and then having separate <code>Signed *</code> and <code>Unsigned *</code></p>



<a name="303095693"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095693" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095693">(Oct 09 2022 at 06:16)</a>:</h4>
<p>it was something to do with <code>Int</code>'s type param being a record I think</p>



<a name="303095815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095815">(Oct 09 2022 at 06:18)</a>:</h4>
<p>so it was something like <code>Signed a : Int { signedness : [Signed], other : a }</code></p>



<a name="303095832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095832">(Oct 09 2022 at 06:19)</a>:</h4>
<p>where <code>other</code> is whatever other info you want in there (e.g. number of bits)</p>



<a name="303095840"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095840" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Duncan <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095840">(Oct 09 2022 at 06:19)</a>:</h4>
<p><span class="user-mention" data-user-id="462053">@JanCVanB</span>, I am using <code>Nat</code> precisely because it's the most generic of the unsigned integers.</p>



<a name="303095985"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303095985" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303095985">(Oct 09 2022 at 06:21)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> oh interesting, does reducing the quantity of type parameters inherently reduce complexity to either developers or the compiler?</p>



<a name="303096111"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096111" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096111">(Oct 09 2022 at 06:23)</a>:</h4>
<p>I think it does for developers - like consider the type of <a href="https://www.roc-lang.org/builtins/Num#shiftLeftBy">https://www.roc-lang.org/builtins/Num#shiftLeftBy</a></p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">Int</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="kt">U8</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nv">a</span><span class="w"></span>
</code></pre></div>
<p>vs</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">Int</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="kt">U8</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="w"></span>
</code></pre></div>



<a name="303096162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096162">(Oct 09 2022 at 06:24)</a>:</h4>
<p>it's not the end of the world, but it's definitely more to think about for no real benefit in the common case</p>



<a name="303096175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096175">(Oct 09 2022 at 06:24)</a>:</h4>
<p>the type parameter in the first type communicates "whatever type of integer you pass in, that's the type of integer you'll get back" - just like <code>List a</code></p>



<a name="303096194"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096194" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096194">(Oct 09 2022 at 06:25)</a>:</h4>
<p>the second one communicates the same information, but in a way that requires strictly more explanation</p>



<a name="303096199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096199">(Oct 09 2022 at 06:25)</a>:</h4>
<p><span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span> I forgot that a majority of exposures to these type signature will be with placeholders like <code>a</code> and <code>*</code></p>



<a name="303096257"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096257" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096257">(Oct 09 2022 at 06:26)</a>:</h4>
<p>it also eats up a whole letter in complex signatures</p>



<a name="303096259"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096259" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096259">(Oct 09 2022 at 06:26)</a>:</h4>
<p>yeah I think it's valuable to have <code>Num</code>, <code>Int</code>, and <code>Frac</code> all have one type parameter, no matter how deep the hierarchy goes beneath them</p>



<a name="303096266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303096266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303096266">(Oct 09 2022 at 06:26)</a>:</h4>
<p>Totally - and it's trivial to adapt my implementation above to do that.</p>



<a name="303135063"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Generic%20Unsigned%20Integer/near/303135063" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Generic.20Unsigned.20Integer.html#303135063">(Oct 09 2022 at 13:43)</a>:</h4>
<p>I don't like this idea but you could do this with abilities rather than extra type parameter</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
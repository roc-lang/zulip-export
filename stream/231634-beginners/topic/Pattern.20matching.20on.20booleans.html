<html>
<head><meta charset="utf-8"><title>Pattern matching on booleans · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html">Pattern matching on booleans</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="303171942"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303171942" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Duncan <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303171942">(Oct 09 2022 at 21:04)</a>:</h4>
<p>I went down a rabbit hole trying to pattern match on booleans. I'm trying to implement a function that satisfies this type:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">foo</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">[</span><span class="kt">Missing</span><span class="p">,</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="p">]</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Missing</span><span class="p">,</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="p">]</span><span class="w"></span>
</code></pre></div>
<p>I started by doing the following:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">foo</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">value</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">  </span><span class="nv">when</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">    </span><span class="kt">Missing</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">false</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">false</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">true</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">true</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>

<span class="nv">foo</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>
</code></pre></div>
<p>I'm not surprised that I got the following error in hindsight since <code>Bool.false</code> is a value, not a tag:</p>
<div class="codehilite"><pre><span></span><code>── SYNTAX PROBLEM ──────────────────────────────────────────────────────────────

This pattern is malformed:

8│          Present Bool.false -&gt; Present Bool.true
                    ^^^^^^^^^^
</code></pre></div>
<p>It would be great to see a suggestion here on how to remedy this. Without guidance, I tried the next thing:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">foo</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">value</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">  </span><span class="nv">when</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">    </span><span class="kt">Missing</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">False</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="kt">False</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">True</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="kt">True</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>

<span class="nv">foo</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>
</code></pre></div>
<p>With the following error, I discover that <code>Bool</code> is an opaque type, so I can't use their tags in my module:</p>
<div class="codehilite"><pre><span></span><code>── TYPE MISMATCH ───────────────────────────────────────────────────────────────

The branches of this when expression don&#39;t match the condition:

6│&gt;        when value is
7│           Missing -&gt; Present False
8│           Present False -&gt; Present True
9│           Present True -&gt; Missing

This value value is a:

    [Missing, Present Bool]

But the branch patterns have type:

    [Missing, Present [False, True]]

The branches must be cases of the when condition&#39;s type!
</code></pre></div>
<p>It would be great to see some guidance here on the proper way to pattern match booleans. I remembered that I can use <code>if</code> expressions in the pattern match, so I tried the following:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">foo</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">possibleValue</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">  </span><span class="nv">when</span><span class="w"> </span><span class="nv">possibleValue</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">    </span><span class="kt">Missing</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">false</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">not</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">true</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>

<span class="nv">foo</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>
</code></pre></div>
<p>The error this time surprised me:</p>
<div class="codehilite"><pre><span></span><code>── UNSAFE PATTERN ──────────────────────────────────────────────────────────────

This when does not cover all the possibilities:

6│&gt;        when possibleValue is
7│&gt;          Missing -&gt; Present Bool.false
8│&gt;          Present value if Bool.not value -&gt; Present Bool.true
9│&gt;          Present value if value -&gt; Missing

Other possibilities include:

    Present _    (note the lack of an if clause)

I would have to crash if I saw one of those! Add branches for them!
</code></pre></div>
<p>Logically, all the cases are covered, so I wonder if the compiler can't possibly determine that this would work in the general case.</p>
<p>Is there a way that I can pattern match on booleans, or will I have to follow the compilers advice and just ignore the content of <code>Present</code> in the third branch?</p>



<a name="303172098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303172098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303172098">(Oct 09 2022 at 21:07)</a>:</h4>
<p>I believe that's an upcoming feature/implementation!</p>



<a name="303172192"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303172192" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Duncan <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303172192">(Oct 09 2022 at 21:09)</a>:</h4>
<p>Nice! Is there a Zulip topic or a GitHub issue I can follow?</p>



<a name="303172410"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303172410" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303172410">(Oct 09 2022 at 21:13)</a>:</h4>
<p>I'm not sure, but I can find when I was told this</p>



<a name="303172583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303172583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303172583">(Oct 09 2022 at 21:16)</a>:</h4>
<p><a href="#narrow/stream/231634-beginners/topic/Am.20I.20doing.20something.20silly.3F/near/302380580">https://roc.zulipchat.com/#narrow/stream/231634-beginners/topic/Am.20I.20doing.20something.20silly.3F/near/302380580</a></p>



<a name="303202865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303202865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303202865">(Oct 10 2022 at 06:21)</a>:</h4>
<p>You can extract the Boolean variable out of the pattern match, and then do a separate <code>if</code> expression in that branch.</p>



<a name="303203188"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/303203188" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#303203188">(Oct 10 2022 at 06:26)</a>:</h4>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">foo</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">value</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">  </span><span class="nv">when</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">    </span><span class="kt">Missing</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">false</span><span class="w"></span>
<span class="w">    </span><span class="kt">Present</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kt">Present</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="nv">true</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="kt">Missing</span><span class="w"></span>
</code></pre></div>



<a name="326275007"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326275007" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326275007">(Feb 07 2023 at 02:53)</a>:</h4>
<p>Just ran into this. Looks like it's tracked here: <a href="https://github.com/roc-lang/roc/issues/4152">https://github.com/roc-lang/roc/issues/4152</a></p>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> do you have any thoughts following <span class="user-mention" data-user-id="454654">@Ayaz Hafiz</span> 's comment there?</p>
<p>This (or something like it) would be really nice to have!</p>



<a name="326275997"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326275997" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326275997">(Feb 07 2023 at 03:08)</a>:</h4>
<p>it's a great point! I updated the description based on Ayaz's comment</p>



<a name="326275998"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326275998" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326275998">(Feb 07 2023 at 03:08)</a>:</h4>
<p>I think there's a pretty clear answer in this case <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="326277150"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277150" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277150">(Feb 07 2023 at 03:27)</a>:</h4>
<p>That seems like quite a shame that booleans are not considered exhaustive!</p>



<a name="326277710"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277710" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277710">(Feb 07 2023 at 03:34)</a>:</h4>
<p>Why are bools behind an opaque type in the first place? It would seem obvious to me that you'd want bool to just be <code>Bool : [True, False]</code></p>



<a name="326277772"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277772" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277772">(Feb 07 2023 at 03:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="453336">Joshua Warner</span> <a href="#narrow/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans/near/326277150">said</a>:</p>
<blockquote>
<p>That seems like quite a shame that booleans are not considered exhaustive!</p>
</blockquote>
<p>I think that's true in the abstract sense, but I've spent a lot of time writing with languages that support this and the total number of times I can recall it ever coming up is 0 <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="326277841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277841">(Feb 07 2023 at 03:36)</a>:</h4>
<p>bools used to be defined exactly that way!</p>



<a name="326277860"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277860" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277860">(Feb 07 2023 at 03:36)</a>:</h4>
<p>here's the background on why we ended up changing it: <a href="https://docs.google.com/document/d/1a51n7eIEbPjCWnGaL-pWbZBsRfi55GVQwIdPQTUu49Q/edit">https://docs.google.com/document/d/1a51n7eIEbPjCWnGaL-pWbZBsRfi55GVQwIdPQTUu49Q/edit</a></p>



<a name="326277909"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277909" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277909">(Feb 07 2023 at 03:37)</a>:</h4>
<blockquote>
<p>This is the but I've spent a lot of time writing with languages that support this and the total number of times I can recall it ever coming up is 0 <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>
</blockquote>
<p>Interesting! But judging from this thread, I'm the third person here to be surprised by this.</p>



<a name="326277967"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277967" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277967">(Feb 07 2023 at 03:38)</a>:</h4>
<p>an option we always have is to make <code>true</code> and <code>false</code> be language keywords</p>



<a name="326277986"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326277986" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326277986">(Feb 07 2023 at 03:38)</a>:</h4>
<p>which desugar to <code>Bool.true</code> and <code>Bool.false</code>, plus have special exhaustiveness checking properties</p>



<a name="326278041"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278041" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278041">(Feb 07 2023 at 03:39)</a>:</h4>
<p>but as noted in that document, I'd rather continue running the experiment of fully-qualified before considering that - because we all know what <code>true</code> and <code>false</code> feel like, but there's no precedent I'm aware of for what <code>Bool.true</code> and <code>Bool.false</code> feel like!</p>



<a name="326278129"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278129" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278129">(Feb 07 2023 at 03:40)</a>:</h4>
<p>this is definitely a point worth considering in that analysis, but I don't think it crosses the line of "ok, experiment over, let's go with <code>true</code> and <code>false</code> keywords" at this point</p>



<a name="326278160"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278160" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278160">(Feb 07 2023 at 03:40)</a>:</h4>
<p>I feel like there's maybe also room for "opaque type, but with some 'exhaustive' annotations sprinkled around"...</p>



<a name="326278208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278208">(Feb 07 2023 at 03:41)</a>:</h4>
<p><span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> hm, at that point what would be the difference between it just not being opaque?</p>



<a name="326278212"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278212" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278212">(Feb 07 2023 at 03:41)</a>:</h4>
<p>I guess that it's nominal</p>



<a name="326278262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278262">(Feb 07 2023 at 03:42)</a>:</h4>
<p>Yeah; it avoids the downsides outlined in the doc you linked</p>



<a name="326278293"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278293" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278293">(Feb 07 2023 at 03:42)</a>:</h4>
<p>Something like:</p>
<div class="codehilite"><pre><span></span><code>## The boolean true value.
true : Bool
true = @Bool True

## The boolean false value.
false : Bool
false = @Bool False

@require_exhaustive (Bool.true, Bool.false)
</code></pre></div>
<p>(syntax pending some bikeshedding...)</p>



<a name="326278295"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278295" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278295">(Feb 07 2023 at 03:42)</a>:</h4>
<p>interesting, although I think for a language feature like that we'd want more motivating use cases than just <code>Bool</code> <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="326278304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278304">(Feb 07 2023 at 03:43)</a>:</h4>
<p>Fair :)</p>



<a name="326278311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278311">(Feb 07 2023 at 03:43)</a>:</h4>
<p>Could be something _only_ allowed in the standard library for now</p>



<a name="326278323"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278323" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278323">(Feb 07 2023 at 03:43)</a>:</h4>
<p>I think that could be confusing though - fully-qualified pattern matching works one way for every other type, and then a different way for <code>Bool</code></p>



<a name="326278380"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278380" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278380">(Feb 07 2023 at 03:44)</a>:</h4>
<p>True true</p>



<a name="326278398"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278398" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278398">(Feb 07 2023 at 03:44)</a>:</h4>
<p>pun intended? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="326278409"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278409" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278409">(Feb 07 2023 at 03:45)</a>:</h4>
<p>Haha actually no - but that would have been good</p>



<a name="326278615"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278615" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278615">(Feb 07 2023 at 03:48)</a>:</h4>
<p>Ok - so on the assumption that we've implemented pattern matching on qualified constants, one thing that would seem weird to me is: why can I not match on constants in the current module?</p>



<a name="326278657"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278657" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278657">(Feb 07 2023 at 03:49)</a>:</h4>
<p>you can!</p>



<a name="326278661"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278661" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278661">(Feb 07 2023 at 03:49)</a>:</h4>
<p>you can already qualify with the current module</p>



<a name="326278665"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278665" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278665">(Feb 07 2023 at 03:49)</a>:</h4>
<p>e.g. if I'm in <code>Foo</code> I can write <code>Foo.bar</code></p>



<a name="326278671"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278671" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278671">(Feb 07 2023 at 03:49)</a>:</h4>
<p>Oh wow</p>



<a name="326278674"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278674" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278674">(Feb 07 2023 at 03:49)</a>:</h4>
<p>that was actually designed to be supported exactly for this</p>



<a name="326278676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278676">(Feb 07 2023 at 03:49)</a>:</h4>
<p>back in 2019 haha</p>



<a name="326278687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278687">(Feb 07 2023 at 03:50)</a>:</h4>
<p>not for bool - it was that I always wanted to pattern match on constants like HTTP status codes</p>



<a name="326278698"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278698" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278698">(Feb 07 2023 at 03:50)</a>:</h4>
<p>in other languages</p>



<a name="326278749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278749">(Feb 07 2023 at 03:50)</a>:</h4>
<p>and it was always impossible because in the current module they're lowercase and therefore interpreted as identifiers in patterns</p>



<a name="326278781"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278781" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278781">(Feb 07 2023 at 03:50)</a>:</h4>
<p>Rust solves this by requiring constnats to be <code>SCREAMING_SNAKE_CASE</code> but I don't want to require that for obvious reasons <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="326278839"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278839" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278839">(Feb 07 2023 at 03:51)</a>:</h4>
<p>Rust isn't totally immune - if you don't have a constant named <code>SCREAMING_SNAKE_CASE</code> in scope, it becomes a bound variable</p>



<a name="326278847"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278847" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278847">(Feb 07 2023 at 03:51)</a>:</h4>
<p>I got bit by that in some production code a while back</p>



<a name="326278913"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278913" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278913">(Feb 07 2023 at 03:52)</a>:</h4>
<p>ouch</p>



<a name="326278928"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278928" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278928">(Feb 07 2023 at 03:52)</a>:</h4>
<p>well this would be immune to that fortunately haha!</p>



<a name="326278933"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278933" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278933">(Feb 07 2023 at 03:52)</a>:</h4>
<p>Anyway; I like this design</p>



<a name="326278938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326278938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326278938">(Feb 07 2023 at 03:52)</a>:</h4>
<p>:hat_tip:</p>



<a name="326279048"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326279048" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326279048">(Feb 07 2023 at 03:54)</a>:</h4>
<p>awesome! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="326296238"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326296238" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326296238">(Feb 07 2023 at 07:28)</a>:</h4>
<blockquote>
<p>why can I not match on constants in the current module?</p>
</blockquote>
<p>Should this work? I think I misunderstood this feature. </p>
<div class="codehilite" data-code-language="Elixir"><pre><span></span><code><span class="n">interface</span><span class="w"> </span><span class="nc">Thing</span><span class="w"> </span><span class="n">exposes</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">imports</span><span class="w"> </span><span class="p">[]</span>

<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>

<span class="n">abc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\</span><span class="n">i</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="ow">when</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">is</span>
<span class="w">        </span><span class="nc">Thing</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">"Three"</span>
<span class="w">        </span><span class="nc">Thing</span><span class="o">.</span><span class="n">y</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">"Four"</span>
<span class="w">        </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">"Other"</span>

<span class="n">expect</span><span class="w"> </span><span class="n">abc</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Three"</span>
</code></pre></div>



<a name="326332152"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326332152" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326332152">(Feb 07 2023 at 10:52)</a>:</h4>
<p>Sounds like it's intended to work, yes. What are you seeing?</p>



<a name="326357146"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Pattern%20matching%20on%20booleans/near/326357146" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Pattern.20matching.20on.20booleans.html#326357146">(Feb 07 2023 at 13:03)</a>:</h4>
<p>that's the design, but pattern matching on qualified things hasn't been implemented yet <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
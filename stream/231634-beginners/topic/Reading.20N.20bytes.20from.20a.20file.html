<html>
<head><meta charset="utf-8"><title>Reading N bytes from a file · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html">Reading N bytes from a file</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="543171815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543171815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Montanaro <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543171815">(Oct 05 2025 at 16:04)</a>:</h4>
<p>I'd like to generate some random numbers, so I looked around and found <a href="https://github.com/lukewilliamboswell/roc-random?tab=readme-ov-file">roc-random</a>. It doesn't help you with seeding the RNG though, so I figured I could just pull a few bytes from <code>/dev/urandom</code>, but I'm not sure how to do that.</p>
<p><code>File.read_bytes!</code> wants to read until EOF, which wouldn't work with <code>/dev/urandom</code>.</p>
<p>I see <code>File.open_reader!</code>, but the only function that accepts a <code>Reader</code> seems to be  <code>File.read_line!</code>. Technically I guess that would work, since <code>/dev/urandom</code> will <em>probably</em> yield a <code>\n</code> byte before too long, but I feel like there's probably a better way?</p>



<a name="543189092"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543189092" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543189092">(Oct 05 2025 at 19:54)</a>:</h4>
<p>This totally could be a gap in the basic cli api</p>



<a name="543189107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543189107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543189107">(Oct 05 2025 at 19:54)</a>:</h4>
<p>I mean it probably should have a random seed generating function in general</p>



<a name="543429662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543429662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Montanaro <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543429662">(Oct 07 2025 at 01:08)</a>:</h4>
<p>Yeah a proper "system random" function would be great b/c it could abstract away the cross-platform details.</p>
<p>Is the basic-cli platform going to stay in Rust? I'd be happy to contribute a PR if that seems worthwhile, I'm certainly not a expert but it's basically a matter of pulling in a crate and wiring up a function or two</p>



<a name="543478397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543478397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543478397">(Oct 07 2025 at 09:03)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="972318">@Joseph Montanaro</span>, a PR would be great, if you provide claude code or codex with the changes from <a href="https://github.com/roc-lang/basic-cli/pull/380/files">https://github.com/roc-lang/basic-cli/pull/380/files</a> as an example, it will likely be able to take care of the whole thing.</p>



<a name="543478827"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543478827" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543478827">(Oct 07 2025 at 09:05)</a>:</h4>
<blockquote>
<p>Is the basic-cli platform going to stay in Rust?</p>
</blockquote>
<p>I believe Richard wanted to port it to zig but I don't see a problem with adding random support in Rust for now.</p>



<a name="543493363"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543493363" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Montanaro <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543493363">(Oct 07 2025 at 10:19)</a>:</h4>
<p>Thanks! Should it go in an existing module, or get its own? The only module it sort of fits with would be <code>Env</code>, I guess? But it's not a great fit even there. Seems a little weird to have a whole module just for one function, but that's how <code>Sleep</code> is, after all.</p>



<a name="543493804"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reading%20N%20bytes%20from%20a%20file/near/543493804" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reading.20N.20bytes.20from.20a.20file.html#543493804">(Oct 07 2025 at 10:22)</a>:</h4>
<p>I think another module is ok. We might find additional functionality we want in future.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
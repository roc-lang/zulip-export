<html>
<head><meta charset="utf-8"><title>Understanding function annotation error · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html">Understanding function annotation error</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="471432499"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471432499" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sajjad Naveed <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471432499">(Sep 19 2024 at 08:24)</a>:</h4>
<p>Just when I thought I was getting the hang of Tasks, I have run into an issue that I can't wrap my head around.</p>
<p>Any help in understanding this will be highly appreciated.</p>
<p>Here is the issue in its simplified form:</p>
<p>The following function works fine with this annotation and body</p>
<div class="codehilite"><pre><span></span><code>run : Task {} _
run =
    Stdout.line! &quot;Say something:&quot;
    input = Stdin.line!
    Stdout.line! &quot;You said: $(input)&quot;
</code></pre></div>
<p>but the following throws an error</p>
<div class="codehilite"><pre><span></span><code>run : Task {} _
run =
    Stdout.line! &quot;Say something:&quot;
</code></pre></div>
<p>If I either remove the ! from Stdout.line it works, if I remove the annotation above, it still works but not with both.</p>
<p>I am happy to provide more details if needed but I think I have narrowed it down to the example above. Here's the complete working file</p>
<div class="codehilite"><pre><span></span><code>app [main] { pf: platform &quot;https://github.com/roc-lang/basic-cli/releases/download/0.15.0/SlwdbJ-3GR7uBWQo6zlmYWNYOxnvo8r6YABXD-45UOw.tar.br&quot; }

import pf.Stdout
import pf.Stdin

main =
    run

run : Task {} _
run =
    Stdout.line! &quot;Say something:&quot;
    input = Stdin.line!
    Stdout.line! &quot;You said: $(input)&quot;
</code></pre></div>



<a name="471478980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471478980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471478980">(Sep 19 2024 at 12:48)</a>:</h4>
<p>Sounds like a bug in <code>!</code></p>



<a name="471485938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471485938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sajjad Naveed <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471485938">(Sep 19 2024 at 13:24)</a>:</h4>
<p>Thanks for replying <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> </p>
<p>I genuinely hope it's a bug, otherwise I feel I will have to stop the library I am trying to write and go back to square 0 and start the tutorial all over again.</p>



<a name="471488176"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471488176" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sajjad Naveed <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471488176">(Sep 19 2024 at 13:34)</a>:</h4>
<p>Should I raise the issue on github?</p>



<a name="471495517"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471495517" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471495517">(Sep 19 2024 at 14:09)</a>:</h4>
<p>Yes please</p>



<a name="471553008"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Understanding%20function%20annotation%20error/near/471553008" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sajjad Naveed <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Understanding.20function.20annotation.20error.html#471553008">(Sep 19 2024 at 19:45)</a>:</h4>
<p>Raised <a href="https://github.com/roc-lang/roc/issues/7103">here</a>.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
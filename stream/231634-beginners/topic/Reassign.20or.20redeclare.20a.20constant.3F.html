<html>
<head><meta charset="utf-8"><title>Reassign or redeclare a constant? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html">Reassign or redeclare a constant?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="576339036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576339036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576339036">(Feb 27 2026 at 19:51)</a>:</h4>
<p><code>mini-tutorial-new-compiler.md</code> states:</p>
<blockquote>
<p>Constants can't be reassigned or shadowed, so if you try to do <code>name =</code> again in the same scope, <code>roc</code> will give a compile-time error.</p>
</blockquote>
<p>But if I do this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">main</span><span class="o">!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">_args</span><span class="o">|</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Stdout</span><span class="p">.</span><span class="fm">line!</span><span class="p">(</span><span class="s">"What's your name?"</span><span class="p">)</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stdin</span><span class="p">.</span><span class="fm">line!</span><span class="p">()</span>
<span class="w">    </span><span class="n">Stdout</span><span class="p">.</span><span class="fm">line!</span><span class="p">(</span><span class="s">"Hello, ${name}!"</span><span class="p">)</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stdin</span><span class="p">.</span><span class="fm">line!</span><span class="p">()</span>
<span class="w">    </span><span class="n">Stdout</span><span class="p">.</span><span class="fm">line!</span><span class="p">(</span><span class="s">"Hello, ${name}!"</span><span class="p">)</span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">({})</span>
<span class="p">}</span>
</code></pre></div>
<p>If I run <code>roc</code> I get a warning but it then runs OK:</p>
<div class="codehilite" data-code-language="plaintext"><pre><span></span><code>❯  roc
-- DUPLICATE DEFINITION --------------------------

The name name is being redeclared in this scope.

The redeclaration is here:
   ┌─ main.roc:10:5
   │
10 │     name = Stdin.line!()
   │     ^^^^

But name was already defined here:
  ┌─ main.roc:8:5
  │
8 │     name = Stdin.line!()
  │     ^^^^


Found 0 error(s) and 1 warning(s) for main.roc.
What's your name?
Bill
Hello, Bill!
Daren
Hello, Daren!
</code></pre></div>
<p>If I compile using <code>roc build .\main.roc</code> and run <code>main.exe</code> it also runs:</p>
<div class="codehilite"><pre><span></span><code>❯ …\Projects\Roc\test ❯  .\main
What&#39;s your name?
Bill
Hello, Bill!
Daren
Hello, Daren!
</code></pre></div>
<p>I feel that I'm missing something fundamental, because this doesn't match my expectations.</p>



<a name="576341802"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576341802" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576341802">(Feb 27 2026 at 20:11)</a>:</h4>
<p>Im guessing the tutorial is a little too conservative here. </p>
<p>The design philosophy is "inform dont block" -- we built support for canonicalizing shadowed identifiers so we can give a helpful error message. </p>
<p>I'm not sure about the difference between an Error and a Warning...</p>
<p>You should find that roc exited with a non-zero code -- which indicates there is an error and is intended to prevent this from slipping through CI.</p>



<a name="576341808"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576341808" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576341808">(Feb 27 2026 at 20:11)</a>:</h4>
<p>I think this is the status, because the guiding principle is not to block the user from running their code if the error isn't something where we cannot determine what would be the right thing to do. The expectation is that people won't ignore warnings.</p>



<a name="576341909"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576341909" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576341909">(Feb 27 2026 at 20:12)</a>:</h4>
<p>Just as I hit send :)</p>



<a name="576342565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576342565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576342565">(Feb 27 2026 at 20:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F/near/576341802">said</a>:</p>
<blockquote>
<p>You should find that roc exited with a non-zero code -- which indicates there is an error and is intended to prevent this from slipping through CI.</p>
</blockquote>
<p>This doesn't appear to be the case: <a href="https://i.postimg.cc/157gSz72/image.png">https://i.postimg.cc/157gSz72/image.png</a></p>
<div class="message_inline_image"><a href="https://i.postimg.cc/157gSz72/image.png"><img src="https://uploads.zulipusercontent.net/a04aa230d2bd3471f3f894b93282ba67d51cb886/68747470733a2f2f692e706f7374696d672e63632f31353767537a37322f696d6167652e706e67"></a></div>



<a name="576343719"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576343719" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576343719">(Feb 27 2026 at 20:24)</a>:</h4>
<p>The <code>roc app.roc</code> or <code>roc build app.roc</code> call I mean</p>



<a name="576343812"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576343812" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576343812">(Feb 27 2026 at 20:25)</a>:</h4>
<p>Of course, yeah I didn't grok the CI part</p>



<a name="576419249"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Reassign%20or%20redeclare%20a%20constant%3F/near/576419249" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Reassign.20or.20redeclare.20a.20constant.3F.html#576419249">(Feb 28 2026 at 12:14)</a>:</h4>
<p>I corrected the explanation in <a href="https://github.com/roc-lang/roc/issues/9220">#9220</a></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
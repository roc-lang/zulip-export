<html>
<head><meta charset="utf-8"><title>Internal package imports fail in tarball package? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html">Internal package imports fail in tarball package?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="435650316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435650316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435650316">(Apr 26 2024 at 19:56)</a>:</h4>
<p>So I just tried publishing a package on Github via hashed tarball. I tried importing the package via Roc's package downloading functionality, but it seems every expect statement used in my package internals is throwing a <code>MODULE NOT IMPORTED</code> error. </p>
<p>IE: <code>── MODULE NOT IMPORTED in ...nv2LpABZzVYHlata79rpfaF_bJaxsbYMLtk-mF_w/Time.roc ─</code></p>
<p>What did I do wrong here?</p>



<a name="435652729"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435652729" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435652729">(Apr 26 2024 at 20:13)</a>:</h4>
<p>Im not sure, I haven't seen that before. </p>
<p>I use <span class="user-mention" data-user-id="508951">@Hannes</span> Github Action which has been working  nicely <a href="https://github.com/Hasnep/bundle-roc-library">https://github.com/Hasnep/bundle-roc-library</a></p>



<a name="435652857"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435652857" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435652857">(Apr 26 2024 at 20:14)</a>:</h4>
<p>Which module is it saying isn't imported?</p>



<a name="435653003"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435653003" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435653003">(Apr 26 2024 at 20:15)</a>:</h4>
<p>How did you make the hashed tarball? Did you use <code>roc build --bundle .tar.br package/main.roc</code>?</p>



<a name="435653222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435653222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435653222">(Apr 26 2024 at 20:17)</a>:</h4>
<p>I also used Hannes' hasnep/bundle-roc-library</p>



<a name="435653241"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435653241" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435653241">(Apr 26 2024 at 20:17)</a>:</h4>
<blockquote>
<p>Which module is it saying isn't imported?</p>
</blockquote>
<p>Pretty much all of them lol</p>



<a name="435653307"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435653307" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435653307">(Apr 26 2024 at 20:17)</a>:</h4>
<p>I've got 111 errors I believe, and they're all pretty much the same, but various Modules in various locations. All at expect statements.</p>



<a name="435654164"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435654164" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435654164">(Apr 26 2024 at 20:24)</a>:</h4>
<div class="codehilite"><pre><span></span><code>── MODULE NOT IMPORTED in ...nv2LpABZzVYHlata79rpfaF_bJaxsbYMLtk-mF_w/Time.roc ─
The `UtcTime` module is not imported:

350│  expect toUtcTime { hour: 12, minute: 34, second: 56, nanosecond: 5 } == UtcTime.fromNanosSinceMidnight (12 * nanosPerHour + 34 * nanosPerMinute + 56 * nanosPerSecond + 5 )
                                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Did you mean to import it?
───────────────────────────────────────────────────
111 errors and 3 warnings found in 51 ms
</code></pre></div>



<a name="435672355"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435672355" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435672355">(Apr 26 2024 at 23:23)</a>:</h4>
<p>I was really hoping this was just a case of obvious PEBCAK! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="435678978"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435678978" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435678978">(Apr 27 2024 at 01:02)</a>:</h4>
<p>QQ: Anyone know where the default download directory is for packages roc downloads from a url?</p>



<a name="435680013"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435680013" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435680013">(Apr 27 2024 at 01:18)</a>:</h4>
<p>This is likely caused by <a href="https://github.com/roc-lang/roc/issues/5477">#5477</a>, which will be fixed when <a href="https://github.com/roc-lang/roc/pull/6658">#6658</a> lands.</p>
<p>For now, you can try importing the modules in your app even if you don’t use them directly.</p>



<a name="435680036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435680036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435680036">(Apr 27 2024 at 01:19)</a>:</h4>
<p>The example in the issue involves two packages, but it can happen with only one package</p>



<a name="435689807"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435689807" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435689807">(Apr 27 2024 at 04:11)</a>:</h4>
<blockquote>
<p>QQ: Anyone know where the default download directory is for packages roc downloads from a url?</p>
</blockquote>
<p><code>~/.cache/roc/packages/</code></p>



<a name="435701745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Internal%20package%20imports%20fail%20in%20tarball%20package%3F/near/435701745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Internal.20package.20imports.20fail.20in.20tarball.20package.3F.html#435701745">(Apr 27 2024 at 05:31)</a>:</h4>
<p>Awesome, thanks <span class="user-mention" data-user-id="489294">@Agus Zubiaga</span> and <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span>!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
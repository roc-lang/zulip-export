<html>
<head><meta charset="utf-8"><title>✔ Trying to figure out a straightforward function annotation · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html">✔ Trying to figure out a straightforward function annotation</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="425569539"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425569539" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hristo <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425569539">(Mar 08 2024 at 18:21)</a>:</h4>
<p>I've been playing with function annotations, as part of my own approaches to learning Roc (I'm essentially translating a bunch of my own Elm code samples to Roc), and as a related side exploration, I've run into the following, when trying to annotate <a href="https://www.roc-lang.org/tutorial#tests-and-expectations">this</a> example from Roc's tutorial:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="w">  </span><span class="kt">The</span><span class="w"> </span><span class="nv">rockin'</span><span class="w"> </span><span class="nv">roc</span><span class="w"> </span><span class="nv">repl</span>
<span class="err">────────────────────────</span>
<span class="kt">Enter</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">expression</span><span class="p">,</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nf">:</span><span class="nv">help</span><span class="p">,</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nf">:</span><span class="nv">q</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">quit</span><span class="nf">.</span>

<span class="err">»</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">s</span><span class="p">,</span><span class="w"> </span><span class="nv">p</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="err">…</span><span class="w">     </span><span class="nv">cs</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">Num</span><span class="nf">.</span><span class="nv">toStr</span><span class="w"> </span><span class="nv">c</span>
<span class="err">…</span><span class="w">     </span><span class="kr">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">then</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(s)"</span>
<span class="err">…</span><span class="w">     </span><span class="kr">else</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(p)"</span>

<span class="nf">&lt;</span><span class="nv">function</span><span class="nf">&gt;</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span>
</code></pre></div>
<p>So, it's all OK up until this point.<br>
But then:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">»</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span>
<span class="err">…</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">s</span><span class="p">,</span><span class="w"> </span><span class="nv">p</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="err">…</span><span class="w">     </span><span class="nv">cs</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">Num</span><span class="nf">.</span><span class="nv">toStr</span><span class="w"> </span><span class="nv">c</span>
<span class="err">…</span><span class="w">     </span><span class="kr">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">then</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(s)"</span>
<span class="err">…</span><span class="w">     </span><span class="kr">else</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(p)"</span>


<span class="err">──</span><span class="w"> </span><span class="kt">TYPE</span><span class="w"> </span><span class="kt">MISMATCH</span><span class="w"> </span><span class="err">───────────────────────────────────────────────────────────────</span>

<span class="kt">This</span><span class="w"> </span><span class="nv">expression</span><span class="w"> </span><span class="nv">has</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">does</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">implement</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">abilities</span><span class="w"> </span><span class="nv">it's</span><span class="w"> </span><span class="nv">expected</span><span class="w"> </span><span class="nv">to</span><span class="nf">:</span>

<span class="mi">7</span><span class="err">│</span><span class="w">          </span><span class="kr">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">then</span>
<span class="w">               </span><span class="nf">^</span>

<span class="kt">I</span><span class="w"> </span><span class="nv">can't</span><span class="w"> </span><span class="nv">generate</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">implementation</span><span class="w"> </span><span class="kr">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="nv">ability</span><span class="w"> </span><span class="nv">for</span>

<span class="w">    </span><span class="kt">Num</span><span class="w"> </span><span class="nf">*</span>

<span class="kt">In</span><span class="w"> </span><span class="nv">particular</span><span class="p">,</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">implementation</span><span class="w"> </span><span class="nv">for</span>

<span class="w">    </span><span class="nf">*</span>

<span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">generated</span><span class="nf">.</span>

<span class="kt">Tip</span><span class="nf">:</span><span class="w"> </span><span class="kt">This</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">variable</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">bound</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="kt">Eq</span><span class="nf">.</span><span class="w"> </span><span class="kt">Consider</span><span class="w"> </span><span class="nv">adding</span><span class="w"> </span><span class="nv">an</span>
<span class="nv">implements</span><span class="w"> </span><span class="nv">clause</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">bind</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">variable</span><span class="p">,</span><span class="w"> </span><span class="nv">like</span>
<span class="kr">where</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Bool</span><span class="nf">.</span><span class="kt">Eq</span>
</code></pre></div>
<p>and even further:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">»</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Eq</span>
<span class="err">…</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">s</span><span class="p">,</span><span class="w"> </span><span class="nv">p</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="err">…</span><span class="w">     </span><span class="nv">cs</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">Num</span><span class="nf">.</span><span class="nv">toStr</span><span class="w"> </span><span class="nv">c</span>
<span class="err">…</span><span class="w">     </span><span class="kr">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">then</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(s)"</span>
<span class="err">…</span><span class="w">     </span><span class="kr">else</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(p)"</span>
<span class="err">…</span>
<span class="err">»</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="s">"cactus"</span><span class="w"> </span><span class="s">"cacti"</span><span class="w"> </span><span class="mi">3</span>

<span class="err">──</span><span class="w"> </span><span class="kt">NOT</span><span class="w"> </span><span class="kt">END</span><span class="w"> </span><span class="kt">OF</span><span class="w"> </span><span class="kt">FILE</span><span class="w"> </span><span class="err">─────────────────────────────────────────────────────────────</span>

<span class="kt">I</span><span class="w"> </span><span class="nv">expected</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">reach</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">end</span><span class="w"> </span><span class="kr">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">file</span><span class="p">,</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">got</span><span class="w"> </span><span class="nv">stuck</span><span class="w"> </span><span class="nv">here</span><span class="nf">:</span>

<span class="mi">3</span><span class="err">│</span><span class="w">  </span><span class="nv">pl</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nf">*</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Eq</span>
<span class="w">                                </span><span class="nf">^</span>
</code></pre></div>
<p>I believe this should be a straightforward thing to figure out, but all my attempts have failed.</p>
<p>Essentially, without the type annotation, the function does work as expected. But I can't seem to annotate it properly (tried with <code>Bool.Eq</code> etc), despite all the help from the compiler.</p>
<p>Thank you for your time!</p>



<a name="425573308"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425573308" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425573308">(Mar 08 2024 at 18:48)</a>:</h4>
<p>I don't think we support <code>*</code> with <code>where ... implements</code>. So in general you should use a specific type variable like <code>a</code>.<br>
But you will then encounter problems here with the type of <code>1</code> (in <code>c == 1</code>).</p>
<p>Anyway, the easy fix is to use <code>U64</code> or <code>I64</code> instead of <code>Num *</code>. I'll file some issues to improve the experience here.</p>



<a name="425574838"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425574838" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425574838">(Mar 08 2024 at 18:59)</a>:</h4>
<p>Sidenote: the reason you need to add <code>where a implements Eq</code> here is because the number could be a floating number. Floats don't support <code>Eq</code>, because <a href="https://stackoverflow.com/questions/4915462/how-should-i-do-floating-point-comparison">you need to be cautious when comparing floats</a>. To compare floats we have <code>isApproxEq</code>.</p>



<a name="425575943"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425575943" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hristo <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425575943">(Mar 08 2024 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/231634-beginners/topic/Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation/near/425573308">said</a>:</p>
<blockquote>
<p>But you will then encounter problems here with the type of <code>1</code> (in <code>c == 1</code>).</p>
</blockquote>
<p>Yes, precisely, I did run into that as well.</p>
<blockquote>
<p>Anyway, the easy fix is to use <code>U64</code> or <code>I64</code> instead of <code>Num *</code>. I'll file some issues to improve the experience here.</p>
</blockquote>
<p>Thank you!<span aria-label="pray" class="emoji emoji-1f64f" role="img" title="pray">:pray:</span></p>
<p>What did confuse me in this case was the fact that the inferred function annotation wasn't practically applicable.</p>
<p>I'll mark this thread as resolved.</p>



<a name="425575959"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425575959" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425575959">(Mar 08 2024 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="693045">Hristo</span> has marked this topic as resolved.</p>



<a name="425577276"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425577276" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425577276">(Mar 08 2024 at 19:14)</a>:</h4>
<blockquote>
<p>What did confuse me in this case was the fact that the inferred function annotation wasn't practically applicable.</p>
</blockquote>
<p>Yeah, that should not happen, I expect that may be hard to fix but I'll make an issue.</p>



<a name="425625365"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425625365" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425625365">(Mar 08 2024 at 23:58)</a>:</h4>
<p>Why is there a problem with <code>c == 1</code>? That seems like it should work</p>



<a name="425626956"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425626956" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425626956">(Mar 09 2024 at 00:18)</a>:</h4>
<p>the problem is that the type annotation says <code>Num *</code> rather than <code>Int *</code></p>



<a name="425626962"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425626962" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425626962">(Mar 09 2024 at 00:19)</a>:</h4>
<p>for the type of <code>c</code></p>



<a name="425626976"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425626976" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425626976">(Mar 09 2024 at 00:19)</a>:</h4>
<p><code>Num *</code> doesn't have <code>Eq</code> because <code>Num *</code> can include floats</p>



<a name="425626984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425626984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425626984">(Mar 09 2024 at 00:19)</a>:</h4>
<p>whereas <code>Int *</code> does have <code>Eq</code> because all ints have <code>Eq</code></p>



<a name="425631542"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425631542" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425631542">(Mar 09 2024 at 01:21)</a>:</h4>
<p>This should work though, right?</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">»</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Eq</span>
<span class="err">…</span><span class="w"> </span><span class="nv">pl</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">s</span><span class="p">,</span><span class="w"> </span><span class="nv">p</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="err">…</span><span class="w">     </span><span class="nv">cs</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">Num</span><span class="nf">.</span><span class="nv">toStr</span><span class="w"> </span><span class="nv">c</span>
<span class="err">…</span><span class="w">     </span><span class="kr">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nf">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kr">then</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(s)"</span>
<span class="err">…</span><span class="w">     </span><span class="kr">else</span>
<span class="err">…</span><span class="w">         </span><span class="s">"$(cs) $(p)"</span>
</code></pre></div>



<a name="425633005"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425633005" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425633005">(Mar 09 2024 at 01:43)</a>:</h4>
<p>unfortunately not, because <code>a</code> doesn't really relate to <code>Num</code> itself</p>



<a name="425633016"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425633016" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425633016">(Mar 09 2024 at 01:43)</a>:</h4>
<p>it's just a type marker like <code>Integer Signed32</code> or something like that</p>



<a name="425633042"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425633042" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425633042">(Mar 09 2024 at 01:43)</a>:</h4>
<p>so this is saying that "whatever type marker you use has <code>Eq</code>" but that's not helpful here <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="425637763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425637763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425637763">(Mar 09 2024 at 03:03)</a>:</h4>
<p>Ah, so I really need <code>where (Num a) implements Eq</code>. Which of course is an unsupported syntax</p>
<p>Or would need something like <code>a where a implements Eq &amp; NumericOps</code> or something like that</p>



<a name="425637791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425637791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425637791">(Mar 09 2024 at 03:04)</a>:</h4>
<p>Of course neither being supported though the second could technically be implemented as a builtin if we really wanted (and would probably be added if we ever did custom infix ops for numerics)</p>



<a name="425671088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425671088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hristo <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425671088">(Mar 09 2024 at 09:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation/near/425637763">said</a>:</p>
<blockquote>
<p>Ah, so I really need <code>where (Num a) implements Eq</code>. Which of course is an unsupported syntax</p>
<p>Or would need something like <code>a where a implements Eq &amp; NumericOps</code> or something like that</p>
</blockquote>
<p>Exactly, <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span>! That's where I was trying to pull it towards (the first option you mentioned).</p>



<a name="425683059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Trying%20to%20figure%20out%20a%20straightforward%20function%20annotation/near/425683059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Trying.20to.20figure.20out.20a.20straightforward.20function.20annotation.html#425683059">(Mar 09 2024 at 12:37)</a>:</h4>
<p>yeah I guess the difference between that and <code>Int *</code> is whether <code>Dec</code> is accepted</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
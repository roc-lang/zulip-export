<html>
<head><meta charset="utf-8"><title>installation issue regrading llvm-sys · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html">installation issue regrading llvm-sys</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="311889435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311889435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311889435">(Nov 23 2022 at 18:52)</a>:</h4>
<p>Hi everyone, I'm new to roc and still have some issue with the installation. Has anyone met the error "No suitable version of LLVM was found system-wide or pointed to by LLVM_SYS_130_PREFIX" before? I have installed llvm and updated the PATH, but when I run "cargo build --release --locked" on the main branch, I got the error message stated below:<br>
<a href="/user_uploads/22008/BJSXUMGpLbXKT4M-TOy5ITcR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/BJSXUMGpLbXKT4M-TOy5ITcR/image.png" title="image.png"><img src="/user_uploads/22008/BJSXUMGpLbXKT4M-TOy5ITcR/image.png"></a></div>



<a name="311890942"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311890942" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311890942">(Nov 23 2022 at 19:01)</a>:</h4>
<p>what OS are you on? this might help (from BUILDING_FROM_SOURCE.md)</p>
<blockquote>
<p>Add <code>export LLVM_SYS_130_PREFIX=/usr/lib/llvm-13</code> to your <code>~/.bashrc</code> or equivalent file for your shell.</p>
</blockquote>



<a name="311890977"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311890977" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311890977">(Nov 23 2022 at 19:01)</a>:</h4>
<p>point that to wherever you put llvm</p>



<a name="311891695"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311891695" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311891695">(Nov 23 2022 at 19:05)</a>:</h4>
<p>Thank you! I am using MacOS. I'll try the commend first.</p>



<a name="311891856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311891856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311891856">(Nov 23 2022 at 19:07)</a>:</h4>
<p>the document says</p>
<p>For macOS, you can install LLVM 13 using <code>brew install llvm@13</code> and then adding<br>
<code>$(brew --prefix llvm@13)/bin</code> to your <code>PATH</code>. You can confirm this worked by<br>
running <code>llc --version</code> - it should mention "LLVM version 13.0.1" at the top.<br>
You may also need to manually specify a prefix env var like so:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">export</span> <span class="nv">LLVM_SYS_130_PREFIX</span><span class="o">=</span>/usr/local/opt/llvm@13
</code></pre></div>



<a name="311896462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311896462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311896462">(Nov 23 2022 at 19:37)</a>:</h4>
<p>Can you explain more about how to add $(brew --prefix llvm@13)/bin to the PATH? I tried to add a line of PATH = "$(brew --prefix llvm@13)/bin" to my ~/.bash_profile, but it didn't seem to be the right way to do.</p>



<a name="311896676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311896676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311896676">(Nov 23 2022 at 19:39)</a>:</h4>
<p>it is in your path, I think?</p>



<a name="311896702"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311896702" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311896702">(Nov 23 2022 at 19:39)</a>:</h4>
<p>or actually, it being on your path does not matter</p>



<a name="311896737"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311896737" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311896737">(Nov 23 2022 at 19:40)</a>:</h4>
<p>you need to define the <code>LLVM_SYS_130_PREFIX</code> variable to point to where llvm lives</p>



<a name="311896822"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311896822" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311896822">(Nov 23 2022 at 19:40)</a>:</h4>
<p>whether it is or is not on PATH is then irrelevant, I think</p>



<a name="311898587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311898587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311898587">(Nov 23 2022 at 19:53)</a>:</h4>
<p>Oh yes! I haven't noticed that it works now. Even though I met with some new issues with wasi_libc_sys and roc_builtins, I guess they have something to do with the installation of WASI SDK.</p>



<a name="311898650"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311898650" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311898650">(Nov 23 2022 at 19:54)</a>:</h4>
<p>Thank you so much!</p>



<a name="311902297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311902297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311902297">(Nov 23 2022 at 20:22)</a>:</h4>
<p>I highly advising installing and using nix for dependencies (or just using nightly if you have no need to compile from source). It makes all of this a lot easier and more manageable.</p>



<a name="311904223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311904223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311904223">(Nov 23 2022 at 20:39)</a>:</h4>
<p>Thank you! I'll definitely take a look.</p>



<a name="311916981"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311916981" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311916981">(Nov 23 2022 at 22:35)</a>:</h4>
<p>I tried to run nix develop after I installed nix in multi-user mode and restarted my computer. I got the error below and didn't quite know how to solve:<br>
<a href="/user_uploads/22008/I6_VVThbMeBnqUn-HietNbMr/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/I6_VVThbMeBnqUn-HietNbMr/image.png" title="image.png"><img src="/user_uploads/22008/I6_VVThbMeBnqUn-HietNbMr/image.png"></a></div>



<a name="311920587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311920587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311920587">(Nov 23 2022 at 23:16)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> any ideas? I think you are the most familiar with debugging nix.</p>



<a name="311969207"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/311969207" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#311969207">(Nov 24 2022 at 09:00)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="565436">@Audrey Gao</span>, are you at the root of our repository (folder named roc)? Can you also share the output of <code>git status</code> from the roc folder?</p>



<a name="322617072"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/322617072" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#322617072">(Jan 20 2023 at 21:14)</a>:</h4>
<p>Hi @Anton, I am so sorry for replaying this late. I just came to have time continue working on this issue. I am at the root of the repository, but the folder name is roc-main. I no longer get the error of git tree dirty, but the error "error: getting status of '/nix/store/mv4nmhdcfixn9gmh7lkqilni8cicwv5r-source/Documents': No such file or directory" stays.</p>



<a name="322682548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/322682548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#322682548">(Jan 21 2023 at 08:32)</a>:</h4>
<p>No need to apologize :)</p>
<p>So if I understand correctly, you executed <code>git clone https://github.com/roc-lang/roc.git</code>, and then you renamed the roc folder that was created by git to <code>roc-main</code>?</p>
<p>We don't use a <code>Documents</code> folder anywhere so I don't understand how it is encountering that error.</p>
<p>I would recommend deleting the roc-main folder and executing the following commands:</p>
<div class="codehilite"><pre><span></span><code>git clone https://github.com/roc-lang/roc.git
cd roc
nix develop
</code></pre></div>



<a name="323057385"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/323057385" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#323057385">(Jan 23 2023 at 16:04)</a>:</h4>
<p>Thanks for your advice! I followed the commands and successfully run the command "nix develop." But another problem popped up: when I checked if Roc is installed, I didn't see the message "The rockin’ roc repl": <a href="/user_uploads/22008/6ElOmv_gayQgPDX4JzxqBDq7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/6ElOmv_gayQgPDX4JzxqBDq7/image.png" title="image.png"><img src="/user_uploads/22008/6ElOmv_gayQgPDX4JzxqBDq7/image.png"></a></div>



<a name="323057687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/323057687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#323057687">(Jan 23 2023 at 16:05)</a>:</h4>
<p>I used "cargo run repl" to install repl, but still cannot run command starting with "roc"</p>



<a name="323058196"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/323058196" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#323058196">(Jan 23 2023 at 16:07)</a>:</h4>
<p>the <code>roc</code> binary is hidden in the <code>target</code> folder. depending on whether you make a release or debug build, it is <code>target/debug/roc</code> (this is the default with cargo) or <code>target/release/roc</code></p>



<a name="323058292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/323058292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#323058292">(Jan 23 2023 at 16:07)</a>:</h4>
<p>you can use symbolic links to make the <code>roc</code> binary available everywhere</p>



<a name="323058827"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/installation%20issue%20regrading%20llvm-sys/near/323058827" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Audrey Gao <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/installation.20issue.20regrading.20llvm-sys.html#323058827">(Jan 23 2023 at 16:10)</a>:</h4>
<p>Thanks a lot!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Do expressions · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html">Do expressions</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="491412331"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491412331" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> misterdrgn <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491412331">(Dec 31 2024 at 15:15)</a>:</h4>
<p>Does/will Roc support anything like haskell’s do or gleam’s use or ocaml’s let*, for example for nested calls to map? Or is there a different idiomatic approach for handling this in Roc? Thanks.</p>



<a name="491413516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491413516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491413516">(Dec 31 2024 at 15:29)</a>:</h4>
<p>We used to have this, it was called backpassing. But it was removed because it was one of the most complicated things to understand in Roc. I have not missed it so far :)</p>



<a name="491413549"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491413549" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491413549">(Dec 31 2024 at 15:29)</a>:</h4>
<p>I'll see if I can make an example of your nested calls</p>



<a name="491414708"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491414708" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> misterdrgn <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491414708">(Dec 31 2024 at 15:43)</a>:</h4>
<p>Thanks. Another example would be Result.try, if you want to try several operations in a row, where each depends on the previous one succeeding.</p>



<a name="491414997"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491414997" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491414997">(Dec 31 2024 at 15:46)</a>:</h4>
<p>For that we have a <a href="https://www.roc-lang.org/tutorial#the-try-keyword">try keyword</a>, as well as a <a href="https://www.roc-lang.org/tutorial#the-postfix-try-operator"><code>?</code> operator</a>. I think we only plan on keeping one of those in the long term</p>



<a name="491415536"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491415536" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> misterdrgn <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491415536">(Dec 31 2024 at 15:52)</a>:</h4>
<p>Oh right! Apologies, that’s what I get for asking when I haven’t looked at the tutorial in a while. So there’s syntax for Result and I believe for Task, but there isn’t generalized syntax for apply the same idea to lists, sets, etc.</p>



<a name="491415554"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491415554" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491415554">(Dec 31 2024 at 15:52)</a>:</h4>
<p>Correct :)</p>



<a name="491416060"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491416060" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491416060">(Dec 31 2024 at 15:58)</a>:</h4>
<p>The nested map calls would just be this, nothing special:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">app</span><span class="w"> </span><span class="p">[</span><span class="nv">main</span><span class="err">!</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">pf</span><span class="nf">:</span><span class="w"> </span><span class="nv">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.18.0/0APbwVN1_p1mJ96tXjaoiUCr8NBGamr8G8Ac_DrXR-o.tar.br"</span><span class="w"> </span><span class="p">}</span>

<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Stdout</span>

<span class="nv">main</span><span class="err">!</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">_args</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nf">\</span><span class="nv">x</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">        </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nf">\</span><span class="nv">y</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">            </span><span class="kt">List</span><span class="nf">.</span><span class="nv">map</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="nf">\</span><span class="nv">z</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">                </span><span class="nv">x</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">z</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Inspect</span><span class="nf">.</span><span class="nv">toStr</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Stdout</span><span class="nf">.</span><span class="nv">line</span><span class="err">!</span>
</code></pre></div>



<a name="491417134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Do%20expressions/near/491417134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> misterdrgn <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Do.20expressions.html#491417134">(Dec 31 2024 at 16:09)</a>:</h4>
<p>Yeah, understood, thanks.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
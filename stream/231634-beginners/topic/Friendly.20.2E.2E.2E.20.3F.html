<html>
<head><meta charset="utf-8"><title>Friendly ... ? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html">Friendly ... ?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="503239120"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503239120" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503239120">(Mar 04 2025 at 11:10)</a>:</h4>
<p>I know roc is pre-pre-alpha, but really? You can't compare two strings ... ?</p>
<div class="codehilite"><pre><span></span><code>&quot;abc&quot; &lt; &quot;def&quot;
</code></pre></div>
<p>This 1st argument to &gt; has an unexpected type:</p>
<p>4│      "abc" &gt; "dev"<br>
        ^^^^^<br>
The argument is a string of type:<br>
    Str<br>
But &gt; needs its 1st argument to be:<br>
    Num a</p>



<a name="503241700"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503241700" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503241700">(Mar 04 2025 at 11:24)</a>:</h4>
<p>What would you expect the result to be? What about if there are two different emojis?</p>



<a name="503241923"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503241923" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503241923">(Mar 04 2025 at 11:25)</a>:</h4>
<p>I think this is similar to comparing floats, we can't compare NaN, so we can't provide a "correct" comparison impl for floats</p>



<a name="503241961"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503241961" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503241961">(Mar 04 2025 at 11:25)</a>:</h4>
<p>Unless we just panic on totally normal values</p>



<a name="503241982"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503241982" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503241982">(Mar 04 2025 at 11:25)</a>:</h4>
<p>The same applies to strings, unfortunately</p>



<a name="503241991"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503241991" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503241991">(Mar 04 2025 at 11:25)</a>:</h4>
<p>Yeah, this was a deliberate choice. Sorting can vary by language and even by country.</p>



<a name="503242193"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503242193" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503242193">(Mar 04 2025 at 11:26)</a>:</h4>
<p>Unicode is just a horrible rats nest, and we've pushed for correctness over simplicity pretty much every time, even if 99% of languages don't care about this</p>



<a name="503243381"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503243381" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503243381">(Mar 04 2025 at 11:32)</a>:</h4>
<p>I would just say that excluding a feature that every other computer language in the known universe seems to provide without causing even a single computer to implode is a much bigger issue than putting people off because of indent blocks.</p>



<a name="503243908"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503243908" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503243908">(Mar 04 2025 at 11:36)</a>:</h4>
<p>indent blocks?</p>



<a name="503244098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503244098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503244098">(Mar 04 2025 at 11:37)</a>:</h4>
<p>By the way, if your application is only working with ascii strings you can use the <a href="https://github.com/Hasnep/roc-ascii">roc-ascii package</a></p>



<a name="503244221"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503244221" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503244221">(Mar 04 2025 at 11:37)</a>:</h4>
<p>That was the only term I could think of ... isn't there a very long discussion going on about using braces to define a code block?</p>



<a name="503244614"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503244614" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503244614">(Mar 04 2025 at 11:39)</a>:</h4>
<p>We're aware of how inconvenient some of these things are, it's just very easy for subtle bugs to sneak into vital software if we don't do this.</p>



<a name="503245005"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503245005" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503245005">(Mar 04 2025 at 11:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F/near/503244098">said</a>:</p>
<blockquote>
<p>By the way, if your application is only working with ascii strings you can use the <a href="https://github.com/Hasnep/roc-ascii">roc-ascii package</a></p>
</blockquote>
<p>is there a manual / tutorial somewhere?</p>



<a name="503245969"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503245969" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503245969">(Mar 04 2025 at 11:46)</a>:</h4>
<p>I assume you mean for roc-ascii specifically?<br>
It would indeed be good to add some examples to the roc-ascii repo's README.</p>
<p>You probably want to use these functions:<br>
<a href="https://hasnep.github.io/roc-ascii/Ascii/#from_str">https://hasnep.github.io/roc-ascii/Ascii/#from_str</a><br>
<a href="https://hasnep.github.io/roc-ascii/Ascii/#to_str">https://hasnep.github.io/roc-ascii/Ascii/#to_str</a><br>
<a href="https://hasnep.github.io/roc-ascii/Ascii/#sort_asc">https://hasnep.github.io/roc-ascii/Ascii/#sort_asc</a><br>
<a href="https://hasnep.github.io/roc-ascii/Ascii/#sort_desc">https://hasnep.github.io/roc-ascii/Ascii/#sort_desc</a></p>



<a name="503246427"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503246427" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503246427">(Mar 04 2025 at 11:49)</a>:</h4>
<p><a href="https://github.com/ostcar/aoc2024/blob/10d1d5e9cfa04773523399603220e7cbc7a41dbb/day24.roc#L21">This code</a> uses the old Roc syntax but may still be helpful for you</p>



<a name="503324121"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503324121" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503324121">(Mar 04 2025 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="669222">Jonathan Kelly</span> <a href="#narrow/channel/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F/near/503243381">said</a>:</p>
<blockquote>
<p>I would just say that excluding a feature that every other computer language in the known universe seems to provide without causing even a single computer to implode is a much bigger issue than putting people off because of indent blocks.</p>
</blockquote>
<p>I understand you are frustrated, but please refrain from adding accusatory hyperbole.</p>
<hr>
<p>Roc restrict users from doing many things. String comparisons is one of them. Roc is being "friendly" by reducing the design space and trying to remove common pitfalls. Strings are full of common pitfalls that developers get burned by all the time. Not having string comparison, string byte indexing, captialization, character splitting, etc directly in the language has lead to many productive discussions with developers about common pitfalls, workarounds, and future plans.</p>
<p>Long term, we do want an official unicode package that has all the information necessary to make the correct decisions. On top of that, we likely will add some methods to the standard library that do the naive things full of pitfalls (those methods will just be very explicitly named around the pitfall, have strong docs explaining the issues, and link to the unicode library function that can handle the problem without pitfalls). We just haven't reached this point yet cause wrangling unicode and localizations is a lot of work and we have many things to get done.</p>



<a name="503332915"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503332915" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503332915">(Mar 04 2025 at 18:11)</a>:</h4>
<p>We should probably add a special error message explaining all this if someone tries to use the number comparison operators on strings, but that's probably a longer term thing</p>



<a name="503354448"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503354448" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503354448">(Mar 04 2025 at 20:08)</a>:</h4>
<p>If anyone is interested in one person's experience, which will also explain the level of my frustration that lead to the hyperbole, the fact that this "feature" of roc is nowhere to be found on the <a href="http://roc-lang.org">roc-lang.org</a> website, feels deceptive.  Or is the word disingenuous?</p>
<p>I read the tutorial and was impressed enough to give roc a try. Would I have invested the last 3 days of my free time if I'd encountered this fact in the tutorial, or the Str manual page, which I had read from top to bottom? I don't know, but at least I would have known up front, and had some time to consider the implications before the frustration set in. And I would NOT have wasted the better part of an hour trying to work out what <em>I</em> had done wrong to make the compiler think one of the elements in my program should be a Num *.</p>



<a name="503354904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503354904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503354904">(Mar 04 2025 at 20:10)</a>:</h4>
<p>... and no, I didn't actually audit the entire website .. I asked chatgpt, and then asked it to check again.</p>
<div class="codehilite"><pre><span></span><code>I couldn&#39;t find an explicit statement on the Roc Programming Language&#39;s website
about the absence of built-in functions for lexicographical string comparisons using
less than or greater than operators. However, the Str module documentation lists
the available string operations, and functions for direct lexicographical comparisons
are not included. This omission indicates that such comparisons are not currently
supported in Roc&#39;s standard library.
</code></pre></div>



<a name="503356320"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503356320" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503356320">(Mar 04 2025 at 20:17)</a>:</h4>
<p>I think the answer here is that we should special-case the compiler error message for this to explain not just why it's gone, but also why it's the best design</p>



<a name="503356526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503356526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503356526">(Mar 04 2025 at 20:19)</a>:</h4>
<p>also once we have the <code>Sort</code> module, the error message can suggest something from there as an alternative</p>



<a name="503356637"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503356637" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Kelly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503356637">(Mar 04 2025 at 20:19)</a>:</h4>
<p>Or, you could be transparent, and put it in the Tutorial. Or the FAQ. Or the Str reference page.</p>



<a name="503357472"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503357472" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503357472">(Mar 04 2025 at 20:24)</a>:</h4>
<p>I understand that you're upset about this. Message received. You don't need to keep hammering that point home. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="503357583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503357583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503357583">(Mar 04 2025 at 20:25)</a>:</h4>
<p>it definitely seems like a good idea to put this in the <code>Str</code> docs explicitly</p>



<a name="503357755"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503357755" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503357755">(Mar 04 2025 at 20:26)</a>:</h4>
<p>I think the tutorial needs to stay focused on "here's how to get to the next step" and not go on too many tangents, and this feels like it would be too much of a tangent</p>



<a name="503358010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503358010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503358010">(Mar 04 2025 at 20:27)</a>:</h4>
<p>I could also see FAQ, maybe under a broader umbrella of "things Roc intentionally does differently when it comes to strings" - and maybe just link to the <code>Str</code> docs</p>



<a name="503460787"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503460787" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503460787">(Mar 05 2025 at 09:21)</a>:</h4>
<p>I'll make those additions</p>



<a name="503558026"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/503558026" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#503558026">(Mar 05 2025 at 15:59)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/7667">#7667</a><br>
<a href="https://github.com/roc-lang/roc/pull/7666">PR#7666</a></p>



<a name="504623738"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/504623738" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Marreck <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#504623738">(Mar 10 2025 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="669222">@Jonathan Kelly</span> </p>
<blockquote>
<p>without causing even a single computer to implode</p>
</blockquote>
<p>LOL. Literally the source of all bugs is due to a discrepancy between the mental model of the developer of the language's design, the mental model of the developer using the language, any unaddressed loose ends or corner cases, and how the language actually behaves. Some of these discrepancies can be subtle, and those are some of the worst- I've literally spent entire developer-months trying to run down bugs based on this sort of thing. So experienced developers have learned, the hard way, that the more explicit you are, the better, simply because it reduces the potential surface area of the aforementioned things.</p>
<p>Look up "Postel's Law" and how it's become seen over the past 20+ years, as to why the Roc designers probably made this (IMHO correct, if a bit frustrating) choice. And, you can always just write a function to encode the string you're trying to compare into any ordinal numeric pattern you want and then compare <em>those</em> (numerically)- but even then, that would expose cases you might not have considered- For example, which word is "less than" the other in the following 2 words: "auto" and "automatic"? What about "auto" and "áüto"? (Do you ignore foreign diacritics in comparisons, or do you sort them differently, and if so, what order? Etc.) Is a capital "less than" or "greater than" its equivalent lowercase?</p>



<a name="504626162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/504626162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Marreck <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#504626162">(Mar 10 2025 at 15:58)</a>:</h4>
<p>I would much rather have the language force me to explicitly define these textual relationships than stick in its own possibly flawed interpretation of them (which might end up surprising me on certain inputs, thus causing bugs).<br>
Thanks, Roc language designers. Keep going. ;)<br>
I would perhaps agree that a helpful error message WHEN someone tries to directly compare two strings (in an ordinal fashion, not a direct equivalence test) might be helpful to beginners.</p>



<a name="504806760"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/504806760" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#504806760">(Mar 11 2025 at 11:03)</a>:</h4>
<blockquote>
<p>without causing even a single computer to implode</p>
</blockquote>
<p>This video shows why it's important to properly handle unicode and string length: <a href="https://www.youtube.com/watch?v=rgsIkZkflMw">https://www.youtube.com/watch?v=rgsIkZkflMw</a><br>
No computers imploded but Chinese hackers did get access to a US treasury database.</p>
<div class="youtube-video message_inline_image"><a data-id="rgsIkZkflMw" href="https://www.youtube.com/watch?v=rgsIkZkflMw"><img src="https://uploads.zulipusercontent.net/80b50396036541c26f65719e08e84a1f4837d6e5/68747470733a2f2f692e7974696d672e636f6d2f76692f726773496b5a6b666c4d772f6d7164656661756c742e6a7067"></a></div>



<a name="504954815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/504954815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Marreck <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#504954815">(Mar 11 2025 at 21:00)</a>:</h4>
<p>Just watched that not 2 hours ago after it was recommended in my YT feed.<br>
Really astonishing how string handling almost seems like it requires strict typing in any legitimate security context. Especially where UTF8 is concerned. (Notably, MAYBE, this bug wouldn't have occurred in a UTF-16 context, which is possibly why Microsoft chose that route instead...)<br>
I'd normally bash PHP, but they were relying on the assumption that Postgres' own string-escape functions were not buggy or security-hole-ridden and calling into them...</p>



<a name="504956537"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/504956537" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aline Thome <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#504956537">(Mar 11 2025 at 21:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F/near/503358010">said</a>:</p>
<blockquote>
<p>I could also see FAQ, maybe under a broader umbrella of "things Roc intentionally does differently when it comes to strings" - and maybe just link to the <code>Str</code> docs</p>
</blockquote>
<p>As someone who has been tinkering with roc fairly casually for a bit, and who was also taken aback by how complicated string manipulation turned out to be (relative to my expectations, at least), I think this would be really nice. </p>
<p>I appreciate the reasoning for it and I'm not super mad about it, but  I think currently there's a bit of friction that arises from the difference between the use case for which this a good design decision (production apps with many users who might not all be in the same place) and what I imagine is the median use case for Roc as a language that is still in alpha (quick and dirty apps for fun or personal use, written in Roc because the programmer was curious about the language). </p>
<p>It might be a little less of a frustrating thing to encounter if there's an warning and explanation somewhere easily found.</p>



<a name="505081725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/505081725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#505081725">(Mar 12 2025 at 09:59)</a>:</h4>
<blockquote>
<p>I think currently there's a bit of friction that arises from the difference between the use case for which this a good design decision (production apps with many users who might not all be in the same place) and what I imagine is the median use case for Roc as a language that is still in alpha (quick and dirty apps for fun or personal use, written in Roc because the programmer was curious about the language).</p>
</blockquote>
<p>This has been <a href="https://www.roc-lang.org/faq.html#strings-in-roc">added to the faq</a> :)<br>
An easily discoverable tip <a href="https://github.com/roc-lang/roc/issues/7667">will be added</a> to the new compiler when it is ready.</p>



<a name="506592125"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Friendly%20...%20%3F/near/506592125" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Austin Davis <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Friendly.20.2E.2E.2E.20.3F.html#506592125">(Mar 18 2025 at 22:25)</a>:</h4>
<p>Just a quick follow-up for people who are stuck on this issue:</p>
<p>If you really don't care about language-specific alphabetical ordering (which is super complicated and probably requires a full-blown <code>Internationalization</code> library), you can implement your own <code>string_compare</code> function by converting the <code>Str</code> types to <code>List U8</code> using the <code>List.to_utf8</code> function, and then recursively iterating over the two lists to compare the <code>U8</code> values at each index. Something like this:</p>
<div class="codehilite"><pre><span></span><code>compare_utf8 : List U8, List U8 -&gt; [EQ, LT, GT]
compare_utf8 = |bytes_a, bytes_b|
    when (bytes_a, bytes_b) is
        ([], []) -&gt; EQ
        ([_a], []) -&gt; GT
        ([], [_b]) -&gt; LT
        ([head_a, .. as tail_a], [head_b, .. as tail_b]) -&gt;
            when Num.compare(head_a, head_b) is
                EQ -&gt; compare_utf8(tail_a, tail_b)
                res -&gt; res

        _ -&gt; EQ

compare : Str, Str -&gt; [EQ, LT, GT]
compare = |str_a, str_b|
    bytes_a = Str.to_utf8(str_a)
    bytes_b = Str.to_utf8(str_b)
    compare_utf8(bytes_a, bytes_b)

expect compare(&quot;abc&quot;, &quot;abc&quot;) == EQ
expect compare(&quot;abc&quot;, &quot;abcd&quot;) == LT
expect compare(&quot;abcd&quot;, &quot;abc&quot;) == GT
expect compare(&quot;abc&quot;, &quot;abd&quot;) == LT
expect compare(&quot;abd&quot;, &quot;abc&quot;) == GT
</code></pre></div>
<p>This will probably give you what you expect for most English language UTF-8 strings, but it definitely doesn't handle any edge cases. Still, it's good enough if you're implementing algorithms and data structures that don't require true alphabetical ordering.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
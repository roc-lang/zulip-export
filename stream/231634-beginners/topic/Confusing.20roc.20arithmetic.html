<html>
<head><meta charset="utf-8"><title>Confusing roc arithmetic · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html">Confusing roc arithmetic</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="554574572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554574572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Rubenz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554574572">(Nov 09 2025 at 16:25)</a>:</h4>
<p>I ran into something a bit confusing today:</p>
<p><code>100 // 10 * 10</code></p>
<p>gives</p>
<p><code>1 : Int *</code></p>
<p>but</p>
<p><code>100 / 10 * 10</code></p>
<p>gives</p>
<p><code>100 : Frac *</code></p>
<p>I would have expected the first expression to give the same result as the second. Am I missing something here?</p>



<a name="554592827"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554592827" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthieu Pizenberg <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554592827">(Nov 09 2025 at 21:26)</a>:</h4>
<p>Most likely the <code>//</code> operator have a lower priority than <code>/</code> and <code>*</code> which have the same priority I guess.</p>



<a name="554596286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554596286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554596286">(Nov 09 2025 at 22:25)</a>:</h4>
<p>Definitely a bug</p>



<a name="554596306"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554596306" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554596306">(Nov 09 2025 at 22:25)</a>:</h4>
<p><code>//</code>, <code>/</code>, and <code>*</code> should all have the same priority.</p>



<a name="554596333"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554596333" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554596333">(Nov 09 2025 at 22:26)</a>:</h4>
<p>Is this in the rust or the zig version of the compiler?</p>



<a name="554596530"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554596530" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Rubenz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554596530">(Nov 09 2025 at 22:29)</a>:</h4>
<p>I am on roc nightly pre-release, built from commit d73ea109cc2 on Tue Sep  9 10:23:53 UTC 2025.</p>



<a name="554597075"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554597075" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554597075">(Nov 09 2025 at 22:39)</a>:</h4>
<p>Ok. So that is in then old rust compiler I think.</p>



<a name="554598025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554598025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554598025">(Nov 09 2025 at 22:57)</a>:</h4>
<p>Oh, interesting, in the rust compiler, double slash (integer division) and percent (modulo) are intentionally lower precedence. I still vote that it is a bug though. <a href="https://github.com/roc-lang/roc/blob/9243fcdebb0341577201a58e7a5e9c666f4ce2cb/crates/compiler/module/src/called_via.rs#L10-L11">https://github.com/roc-lang/roc/blob/9243fcdebb0341577201a58e7a5e9c666f4ce2cb/crates/compiler/module/src/called_via.rs#L10-L11</a></p>



<a name="554598037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554598037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554598037">(Nov 09 2025 at 22:57)</a>:</h4>
<p>Not sure the state in the zig compiler.</p>



<a name="554598076"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Confusing%20roc%20arithmetic/near/554598076" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Confusing.20roc.20arithmetic.html#554598076">(Nov 09 2025 at 22:57)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span>, these should all be the same precedence, right? I think that is what is expected from most languages.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>How to glue · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html">How to glue</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="338703759"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338703759" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338703759">(Feb 28 2023 at 22:23)</a>:</h4>
<p>I added error types like these for the <code>Socket</code> module: <a href="https://github.com/roc-lang/basic-cli/blob/4d7c6906745c9be0ca1b80312540a9f0d14ad804/src/InternalFile.roc#L5">https://github.com/roc-lang/basic-cli/blob/4d7c6906745c9be0ca1b80312540a9f0d14ad804/src/InternalFile.roc#L5</a><br>
How do I regenerate the glue code to include them?</p>



<a name="338703928"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338703928" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338703928">(Feb 28 2023 at 22:25)</a>:</h4>
<p>I tried:</p>
<div class="codehilite"><pre><span></span><code>$ roc glue src/Effect.roc src/src/glue.rs
</code></pre></div>
<p>but got this error:</p>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;not yet implemented: Handle Apply for builtin symbol `11.IdentId(0)` and layout InLayout(32)&#39;, crates/glue/src/types.rs:808:21
</code></pre></div>



<a name="338704331"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338704331" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338704331">(Feb 28 2023 at 22:28)</a>:</h4>
<p>I think it needs to be run on <code>InternalFile.roc</code></p>



<a name="338704803"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338704803" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338704803">(Feb 28 2023 at 22:31)</a>:</h4>
<p>Interesting, I just tried that and it succeeded but it didn't generate any types: <a href="/user_uploads/22008/SIEXnqsUkyJ-WRf0BfUkVGQc/CleanShot-2023-02-28-at-19.31.112x.png">CleanShot-2023-02-28-at-19.31.112x.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/SIEXnqsUkyJ-WRf0BfUkVGQc/CleanShot-2023-02-28-at-19.31.112x.png" title="CleanShot-2023-02-28-at-19.31.112x.png"><img src="/user_uploads/22008/SIEXnqsUkyJ-WRf0BfUkVGQc/CleanShot-2023-02-28-at-19.31.112x.png"></a></div>



<a name="338705002"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338705002" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338705002">(Feb 28 2023 at 22:32)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> is something currently broken with glue? Does it need to be run differently? I think the glue cli tests still work.</p>



<a name="338708098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338708098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338708098">(Feb 28 2023 at 22:52)</a>:</h4>
<p>you need to give it an <code>app</code> module I think</p>



<a name="338708136"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338708136" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338708136">(Feb 28 2023 at 22:52)</a>:</h4>
<p>or perhaps the platform's <code>main</code> module?</p>



<a name="338711873"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338711873" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338711873">(Feb 28 2023 at 23:17)</a>:</h4>
<p>Using <code>src/main.roc</code> failed: <a href="/user_uploads/22008/QG3o1-byxr2-8J4NYFBK0ksr/CleanShot-2023-02-28-at-20.16.412x.png">CleanShot-2023-02-28-at-20.16.412x.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/QG3o1-byxr2-8J4NYFBK0ksr/CleanShot-2023-02-28-at-20.16.412x.png" title="CleanShot-2023-02-28-at-20.16.412x.png"><img src="/user_uploads/22008/QG3o1-byxr2-8J4NYFBK0ksr/CleanShot-2023-02-28-at-20.16.412x.png"></a></div>



<a name="338712071"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338712071" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338712071">(Feb 28 2023 at 23:18)</a>:</h4>
<p>Tried it with <code>examples/args.roc</code> and it failed too</p>



<a name="338712165"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338712165" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338712165">(Feb 28 2023 at 23:19)</a>:</h4>
<p>Switching to <code>master</code> to see if this is caused by any of my changes</p>



<a name="338712291"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338712291" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338712291">(Feb 28 2023 at 23:20)</a>:</h4>
<p>Yeah, I get the same errors on <code>main</code></p>



<a name="338713453"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338713453" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338713453">(Feb 28 2023 at 23:30)</a>:</h4>
<p>11 messages were moved here from <a class="stream-topic" data-stream-id="231634" href="/#narrow/stream/231634-beginners/topic/sockets">#beginners &gt; sockets</a> by <span class="user-mention silent" data-user-id="489294">Agus Zubiaga</span>.</p>



<a name="338723288"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723288" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723288">(Mar 01 2023 at 00:57)</a>:</h4>
<p>I can look into this tomorrow - maybe there was a regression the tests didn't catch?</p>



<a name="338723418"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723418" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723418">(Mar 01 2023 at 00:58)</a>:</h4>
<p>Sounds good. Which .roc file are we supposed to run it with? Out of curiosity</p>



<a name="338723618"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723618" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723618">(Mar 01 2023 at 01:00)</a>:</h4>
<p>right now it's the platform's <code>main.roc</code></p>



<a name="338723668"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723668" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723668">(Mar 01 2023 at 01:01)</a>:</h4>
<p>I'd like that to expand in the future, but right now <code>roc glue</code> is basically "Minimum Viable Product targeting Rust" <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="338723694"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723694" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723694">(Mar 01 2023 at 01:01)</a>:</h4>
<p>(evidently with a regression currently!)</p>



<a name="338723702"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338723702" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338723702">(Mar 01 2023 at 01:01)</a>:</h4>
<p>Haha, makes sense. Thanks!</p>



<a name="338735466"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/How%20to%20glue/near/338735466" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/How.20to.20glue.html#338735466">(Mar 01 2023 at 03:16)</a>:</h4>
<p>I have a guess. Before we could run <code>roc glue</code> directly on <code>InternalFile.roc</code>. I think for that platform, it was never run on the platform <code>main.roc</code>. So probably when we changed to <code>main.roc</code> it never got tested to work with the new changes. Given that the basic-cli <code>main.roc</code> is a lot more complex and pulls in extra stuff, I wouldn't be surprised if it doesn't really work properly until we update <code>roc glue</code> to fully support <code>main.roc</code> with more complex effects/transition to the new effect interpreter stuff.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
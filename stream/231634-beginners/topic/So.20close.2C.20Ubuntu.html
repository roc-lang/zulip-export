<html>
<head><meta charset="utf-8"><title>So close, Ubuntu · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html">So close, Ubuntu</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="252097458"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252097458" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252097458">(Sep 05 2021 at 19:45)</a>:</h4>
<p>Ok!  I'm back.  Booted up the ol' Ubuntu machine and after some classic shenanigans getting things up to date I'm now giving roc another go!</p>
<p>Versions of stuff:</p>
<ul>
<li>cargo: 1.54</li>
<li>zig 0.8.0</li>
</ul>
<p>But when running cargo run repl, I get </p>
<div class="codehilite"><pre><span></span><code>error: failed to run custom build command for `roc_builtins v0.1.0 (/home/matthias/Projects/roc/compiler/builtins)`

Caused by:
  process didn&#39;t exit successfully: `/home/matthias/Projects/roc/target/debug/build/roc_builtins-fc46a14962010627/build-script-build` (exit status: 101)
  --- stdout
  cargo:rerun-if-changed=build.rs
  cargo:rustc-env=BUILTINS_O=/home/matthias/Projects/roc/target/debug/build/roc_builtins-2ac40a7585634db0/out/builtins.o
  Compiling zig object to: /home/matthias/Projects/roc/compiler/builtins/bitcode/builtins-host.o
  Compiling host ir to: /home/matthias/Projects/roc/compiler/builtins/bitcode/builtins-host.ll
  Compiling 32-bit i386 ir to: /home/matthias/Projects/roc/compiler/builtins/bitcode/builtins-i386.ll
  Compiling 32-bit wasm32 ir to: /home/matthias/Projects/roc/compiler/builtins/bitcode/builtins-wasm32.ll
  Moving zig object to: /home/matthias/Projects/roc/target/debug/build/roc_builtins-2ac40a7585634db0/out/builtins.o
  Compiling 32-bit bitcode to: /home/matthias/Projects/roc/compiler/builtins/bitcode/builtins-i386.bc

  --- stderr
  thread &#39;main&#39; panicked at &#39;llvm-as failed: No such file or directory (os error 2)&#39;, compiler/builtins/build.rs:127:24
  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre></div>
<p>Ohh wait I might have missed a step setting up llvm <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
<p>Hmm, maybe not.  I forgot to do the symlink step mentioned here: <a href="https://github.com/rtfeldman/roc/blob/trunk/BUILDING_FROM_SOURCE.md">https://github.com/rtfeldman/roc/blob/trunk/BUILDING_FROM_SOURCE.md</a></p>
<p>But after doing that I still get the above issue.</p>
<p>Hmm, also looks like the referenced llvm installation script installs llvm 13.x as opposed to 12.x  mentioned in the guide.  That an issue?</p>
<p>oooo, things are movin now.  switched the symlinks to refer to 13 instead of 12.</p>
<p>Oh snap I'm in the repl!! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="252099490"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252099490" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252099490">(Sep 05 2021 at 20:20)</a>:</h4>
<p>huh, llvm 13 is not even released ?! Are you using 12 or 13 now?</p>



<a name="252099926"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252099926" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252099926">(Sep 05 2021 at 20:28)</a>:</h4>
<p><span class="user-mention" data-user-id="432590">@Matthew Griffith</span> congrats! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>
<p>you should also be able to run the examples now! e.g. <code>cargo run examples/hello-world/Hello.roc</code></p>



<a name="252099936"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252099936" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252099936">(Sep 05 2021 at 20:29)</a>:</h4>
<p>also <code>cargo run edit</code> to bring up the editor</p>



<a name="252100039"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252100039" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252100039">(Sep 05 2021 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281543">Folkert de Vries</span> <a href="#narrow/stream/231634-beginners/topic/So.20close.2C.20Ubuntu/near/252099490">said</a>:</p>
<blockquote>
<p>huh, llvm 13 is not even released ?! Are you using 12 or 13 now?</p>
</blockquote>
<p>13 I suppose.  I just switched the symlinks to point to <code>clang-13</code> and <code>llvm-as-13</code> and things worked.</p>
<p><code>sudo bash -c "$(wget -O - https://apt.llvm.org/llvm.sh)"</code> installed 13</p>



<a name="252100047"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252100047" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Griffith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252100047">(Sep 05 2021 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/231634-beginners/topic/So.20close.2C.20Ubuntu/near/252099936">said</a>:</p>
<blockquote>
<p>also <code>cargo run edit</code> to bring up the editor</p>
</blockquote>
<p>Sweet!</p>



<a name="252101303"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252101303" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252101303">(Sep 05 2021 at 20:55)</a>:</h4>
<p>well I suppose the good news is that our llvm12 -&gt; 13 upgrade will be smooth if things just work already <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="252101316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/252101316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#252101316">(Sep 05 2021 at 20:55)</a>:</h4>
<p>release is scheduled for end of september</p>



<a name="258560732"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258560732" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258560732">(Oct 21 2021 at 14:57)</a>:</h4>
<p>I have never tried to build anything from source <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> <br>
Just installed LLVM default via sudo apt install llvm<br>
And cargo test gives me the following error:</p>
<div class="codehilite"><pre><span></span><code>   ...
   Compiling bytemuck v1.7.2
   Compiling palette v0.5.0
   Compiling futures-util v0.3.17
   Compiling glyph_brush v0.7.2
   Compiling zerocopy v0.3.0
error: could not find native static library `Polly`, perhaps an -L flag is missing?

error: could not compile `llvm-sys` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
</code></pre></div>
<p>Not seen this one anywhere mentioned. Unsure how to proceed</p>



<a name="258560975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258560975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258560975">(Oct 21 2021 at 14:58)</a>:</h4>
<p>LLVM version is 12. Perhaps that is the problem?</p>



<a name="258561478"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258561478" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shritesh Bhattarai <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258561478">(Oct 21 2021 at 15:00)</a>:</h4>
<p>The Polly issue was painful to deal with in Zig too. IIRC LLVM themselves fixed this in subsequent releases.</p>



<a name="258561618"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258561618" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shritesh Bhattarai <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258561618">(Oct 21 2021 at 15:01)</a>:</h4>
<p>I think it only manifested in MacOS targets there tho.</p>



<a name="258562125"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258562125" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258562125">(Oct 21 2021 at 15:04)</a>:</h4>
<p>I'm on Pop!_OS, Ubuntu based. Just trying to figure out one error at a time. Previous one, as far as I could tell, was that LLVM wasnt installed. </p>
<p>I also installed zig via snapd if that helps</p>



<a name="258562348"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258562348" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258562348">(Oct 21 2021 at 15:05)</a>:</h4>
<p>So should I try and get a newer version of LLVM than 12 ? <span class="user-mention" data-user-id="452038">@Shritesh Bhattarai</span></p>



<a name="258562754"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258562754" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shritesh Bhattarai <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258562754">(Oct 21 2021 at 15:07)</a>:</h4>
<p>Honestly, I don't know. Reading <code>BUILDING_FROM_SOURCE.md</code>, it seems like it is recommended to use LLVM's apt remote to install.</p>



<a name="258563468"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258563468" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258563468">(Oct 21 2021 at 15:11)</a>:</h4>
<p>Hmmm... I might be in trouble then:</p>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ sudo bash -c &quot;$(wget -O - https://apt.llvm.org/llvm.sh)&quot;
--2021-10-21 17:09:16--  https://apt.llvm.org/llvm.sh
Resolving apt.llvm.org (apt.llvm.org)... 2a04:4e42:38::561, 151.101.238.49
Connecting to apt.llvm.org (apt.llvm.org)|2a04:4e42:38::561|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3636 (3.6K) [application/octet-stream]
Saving to: ‘STDOUT’

-                       100%[============================&gt;]   3.55K  --.-KB/s    in 0s

2021-10-21 17:09:17 (33.7 MB/s) - written to stdout [3636/3636]

[sudo] password for oliverschoning:
+ needed_binaries=(lsb_release wget add-apt-repository)
+ missing_binaries=()
+ for binary in &quot;${needed_binaries[@]}&quot;
+ which lsb_release
+ for binary in &quot;${needed_binaries[@]}&quot;
+ which wget
+ for binary in &quot;${needed_binaries[@]}&quot;
+ which add-apt-repository
+ [[ 0 -gt 0 ]]
+ LLVM_VERSION=13
+ &#39;[&#39; 0 -eq 1 &#39;]&#39;
++ lsb_release -is
+ DISTRO=Pop
++ lsb_release -sr
+ VERSION=21.04
+ DIST_VERSION=Pop_21.04
+ [[ 0 -ne 0 ]]
+ declare -A LLVM_VERSION_PATTERNS
+ LLVM_VERSION_PATTERNS[9]=-9
+ LLVM_VERSION_PATTERNS[10]=-10
+ LLVM_VERSION_PATTERNS[11]=-11
+ LLVM_VERSION_PATTERNS[12]=-12
+ LLVM_VERSION_PATTERNS[13]=-13
+ LLVM_VERSION_PATTERNS[14]=
+ &#39;[&#39; &#39;!&#39; _ &#39;]&#39;
+ LLVM_VERSION_STRING=-13
+ case &quot;$DIST_VERSION&quot; in
+ echo &#39;Distribution &#39;\&#39;&#39;Pop&#39;\&#39;&#39; in version &#39;\&#39;&#39;21.04&#39;\&#39;&#39; is not supported by this script (Pop_21.04).&#39;
Distribution &#39;Pop&#39; in version &#39;21.04&#39; is not supported by this script (Pop_21.04).
+ exit 2
</code></pre></div>



<a name="258565504"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258565504" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258565504">(Oct 21 2021 at 15:22)</a>:</h4>
<p>That just looks like the script doesn't realize pop is ubuntu</p>



<a name="258565581"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258565581" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258565581">(Oct 21 2021 at 15:22)</a>:</h4>
<p>You might need to slightly modify it to hardcode your distro as ubuntu.</p>



<a name="258565763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258565763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258565763">(Oct 21 2021 at 15:24)</a>:</h4>
<p>That is the output of the <code>sudo bash -c "$(wget -O - https://apt.llvm.org/llvm.sh)"</code><br>
from <a href="https://github.com/rtfeldman/roc/blob/trunk/BUILDING_FROM_SOURCE.md">https://github.com/rtfeldman/roc/blob/trunk/BUILDING_FROM_SOURCE.md</a></p>



<a name="258566175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258566175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258566175">(Oct 21 2021 at 15:26)</a>:</h4>
<p>Looking at <a href="http://apt.llvm.org">apt.llvm.org</a> Default Packages section now. I wonder if I can just run:</p>
<div class="codehilite"><pre><span></span><code>apt-get install clang-format clang-tidy clang-tools clang clangd libc++-dev libc++1 libc++abi-dev libc++abi1 libclang-dev libclang1 liblldb-dev libllvm-ocaml-dev libomp-dev libomp5 lld lldb llvm-dev llvm-runtime llvm python-clang
</code></pre></div>



<a name="258566450"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258566450" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258566450">(Oct 21 2021 at 15:27)</a>:</h4>
<p>This is very new territory for me hehe. I am used to <code>npm i</code> <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="258566642"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258566642" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258566642">(Oct 21 2021 at 15:29)</a>:</h4>
<p>First you need to add the llvm ppa, then that would work correctly</p>



<a name="258566845"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258566845" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258566845">(Oct 21 2021 at 15:30)</a>:</h4>
<p>So am I understanding it correctly that the <code>sudo bash -c "$(wget -O - https://apt.llvm.org/llvm.sh)"</code> is sugar for that longer sudo apt-get install ?</p>



<a name="258567065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567065">(Oct 21 2021 at 15:31)</a>:</h4>
<p>These days I just download the llvm zip file</p>



<a name="258567122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567122">(Oct 21 2021 at 15:32)</a>:</h4>
<p>On Linux mint</p>



<a name="258567287"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567287" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567287">(Oct 21 2021 at 15:33)</a>:</h4>
<p>Also, the script does a few more things than just an install command. This is the core:</p>
<div class="codehilite"><pre><span></span><code>wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | apt-key add -
add-apt-repository &quot;${REPO_NAME}&quot;
apt-get update
apt-get install -y clang-$LLVM_VERSION lldb-$LLVM_VERSION lld-$LLVM_VERSION clangd-$LLVM_VERSION
</code></pre></div>



<a name="258567354"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567354" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567354">(Oct 21 2021 at 15:33)</a>:</h4>
<p>Which zip and what version <span class="user-mention" data-user-id="281543">@Folkert de Vries</span>  ?</p>



<a name="258567563"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567563" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567563">(Oct 21 2021 at 15:34)</a>:</h4>
<p>from this page</p>



<a name="258567567"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567567" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567567">(Oct 21 2021 at 15:34)</a>:</h4>
<p><a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-12.0.0">https://github.com/llvm/llvm-project/releases/tag/llvmorg-12.0.0</a></p>



<a name="258567655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567655">(Oct 21 2021 at 15:35)</a>:</h4>
<p>I think that should be <code>12.0.1</code> now</p>



<a name="258567667"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567667" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567667">(Oct 21 2021 at 15:35)</a>:</h4>
<p>then define your equvalent of this variable <code>set -x LLVM_SYS_120_PREFIX "/home/folkertdev/Downloads/clang+llvm-12.0.0-x86_64-linux-gnu-ubuntu-20.04"</code></p>



<a name="258567681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567681">(Oct 21 2021 at 15:35)</a>:</h4>
<p>not with zig 0.8.0</p>



<a name="258567700"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567700" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567700">(Oct 21 2021 at 15:35)</a>:</h4>
<p>or at least, that is untested</p>



<a name="258567821"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258567821" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258567821">(Oct 21 2021 at 15:36)</a>:</h4>
<p>and then you may need to symlink some executables or add the <code>/bin</code> folder from the extracted archive to your PATH</p>



<a name="258572430"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258572430" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258572430">(Oct 21 2021 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="281543">@Folkert de Vries</span>  hmm but I already have llvm 12 I think</p>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ llvm-config --version
12.0.0
</code></pre></div>



<a name="258572512"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258572512" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258572512">(Oct 21 2021 at 16:05)</a>:</h4>
<p>and zig 0.8.1</p>



<a name="258574474"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258574474" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258574474">(Oct 21 2021 at 16:17)</a>:</h4>
<p>Sorry what is failing then?</p>



<a name="258575272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258575272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258575272">(Oct 21 2021 at 16:21)</a>:</h4>
<p>I am running <code>cargo test</code> in the roc repo:</p>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ cargo test
   Compiling serde v1.0.130
   Compiling morphic_lib v0.1.0 (/home/oliverschoning/Projects/roc/vendor/morphic_lib)
   Compiling rkyv v0.6.7
   Compiling darling v0.13.0
   Compiling minimp3 v0.5.1
   Compiling futures-executor v0.3.17
   Compiling roc_parse v0.1.0 (/home/oliverschoning/Projects/roc/compiler/parse)
   Compiling roc_types v0.1.0 (/home/oliverschoning/Projects/roc/compiler/types)
   Compiling darling v0.10.2
   Compiling llvm-sys v120.2.1
   Compiling clap_derive v3.0.0-beta.1 (https://github.com/rtfeldman/clap?branch=master#e1d83a78)
   Compiling enumset_derive v0.5.5
   Compiling test_mono_macros v0.1.0 (/home/oliverschoning/Projects/roc/compiler/test_mono_macros)
error: could not find native static library `Polly`, perhaps an -L flag is missing?

error: could not compile `llvm-sys` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
oliverschoning@pop-os:~/Projects/roc$
</code></pre></div>
<p>I installed llvm via <code> sudo apt install llvm</code></p>



<a name="258576028"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258576028" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258576028">(Oct 21 2021 at 16:26)</a>:</h4>
<p>can you define the shell variable like I showed, that might llvm-sys figure things out</p>



<a name="258576925"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258576925" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258576925">(Oct 21 2021 at 16:31)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="281543">@Folkert de Vries</span>  but I am unfamilliar with setting a variable like this:<br>
<code>set -x LLVM_SYS_120_PREFIX "/home/folkertdev/Downloads/clang+llvm-12.0.0-x86_64-linux-gnu-ubuntu-20.04"</code><br>
I can set something in my .bashrc if that is the idea? But I also do not know the path like you specified since I did not download it into my home/username/Downloads folder. <br>
Do you have some more hints so I can figure it out? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="258577180"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577180" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577180">(Oct 21 2021 at 16:33)</a>:</h4>
<p>allright first we need to figure out where llvm is actually installed</p>



<a name="258577511"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577511" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577511">(Oct 21 2021 at 16:35)</a>:</h4>
<p>first try <code>which llvm-as</code></p>



<a name="258577594"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577594" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577594">(Oct 21 2021 at 16:35)</a>:</h4>
<p><code>/usr/bin/llvm-as</code></p>



<a name="258577685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577685">(Oct 21 2021 at 16:36)</a>:</h4>
<p>and then that should hopefully be a symlink</p>



<a name="258577769"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577769" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577769">(Oct 21 2021 at 16:36)</a>:</h4>
<p>maybe <code>ls -h /usr/bin/llvm-as</code> works?</p>



<a name="258577844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577844">(Oct 21 2021 at 16:37)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~$ ls -h /usr/bin/llvm-as
/usr/bin/llvm-as
</code></pre></div>



<a name="258577894"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577894" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577894">(Oct 21 2021 at 16:37)</a>:</h4>
<p>actually try <code>readlink -f /usr/bin/llvm-as</code></p>



<a name="258577923"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577923" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577923">(Oct 21 2021 at 16:37)</a>:</h4>
<p>Look at us, pair programming without a video share or call <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="258577981"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258577981" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258577981">(Oct 21 2021 at 16:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~$ readlink -f /usr/bin/llvm-as
/usr/lib/llvm-12/bin/llvm-as
</code></pre></div>



<a name="258578000"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578000" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578000">(Oct 21 2021 at 16:38)</a>:</h4>
<p>cool, eh then in the .bashrc</p>



<a name="258578113"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578113" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578113">(Oct 21 2021 at 16:39)</a>:</h4>
<p><code>export LLVM_SYS_120_PREFIX="&lt;that path&gt;"</code></p>



<a name="258578197"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578197" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578197">(Oct 21 2021 at 16:39)</a>:</h4>
<p>actually, just <code>/usr/lib/llvm-12</code></p>



<a name="258578324"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578324" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578324">(Oct 21 2021 at 16:40)</a>:</h4>
<p>and then I think <code>source ~/.bashrc</code> before you try running cargo again</p>



<a name="258578339"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578339" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578339">(Oct 21 2021 at 16:40)</a>:</h4>
<p>Just export /usr/... you mean?</p>



<a name="258578405"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578405" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578405">(Oct 21 2021 at 16:41)</a>:</h4>
<p><code>export LLVM_SYS_120_PREFIX="/usr/lib/llvm-12"</code></p>



<a name="258578555"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578555" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578555">(Oct 21 2021 at 16:42)</a>:</h4>
<p>Ok I did the source command</p>



<a name="258578955"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578955" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578955">(Oct 21 2021 at 16:44)</a>:</h4>
<p>right so then you can try compiling again</p>



<a name="258578970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258578970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258578970">(Oct 21 2021 at 16:45)</a>:</h4>
<p>(in the shell where you did the source)</p>



<a name="258579676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258579676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258579676">(Oct 21 2021 at 16:50)</a>:</h4>
<p>Oh, adding to .bashrc does not make it permanent to all terminals?</p>



<a name="258579694"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258579694" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258579694">(Oct 21 2021 at 16:50)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ source ~/.bashrc
oliverschoning@pop-os:~/Projects/roc$ cargo test
   Compiling object v0.25.3
   Compiling llvm-sys v120.2.1
   Compiling object v0.24.0
   Compiling petgraph v0.6.0
   Compiling serde_yaml v0.8.20
   Compiling typetag v0.1.7
   Compiling csv v1.1.6
   Compiling tinytemplate v1.2.1
   Compiling backtrace v0.3.61
   Compiling wasmer-types v2.0.0
   Compiling cranelift-codegen v0.74.0
   Compiling clap v3.0.0-beta.1 (https://github.com/rtfeldman/clap?branch=master#e1d83a78)
error: could not find native static library `Polly`, perhaps an -L flag is missing?

error: could not compile `llvm-sys` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
oliverschoning@pop-os:~/Projects/roc$
</code></pre></div>



<a name="258579745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258579745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258579745">(Oct 21 2021 at 16:50)</a>:</h4>
<p>Same error unfortunately</p>



<a name="258580069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258580069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258580069">(Oct 21 2021 at 16:53)</a>:</h4>
<p>makes it permanent in all new terminals, but does not change existing ones you have open</p>



<a name="258580291"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258580291" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258580291">(Oct 21 2021 at 16:54)</a>:</h4>
<p>here </p>
<p>I'm attempting to use LLVM bindings in Rust, the common bindings are the<br>
llvm-sys crate. To link, they use</p>
<p>llvm-config-10 --link-static --libnames</p>
<p>to find all the libraries. That list includes libPolly.a which isn't <br>
installed<br>
as part of llvm-10 but is instead included in libclang-common-10-dev which<br>
may or may not be installed.</p>



<a name="258580309"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258580309" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258580309">(Oct 21 2021 at 16:54)</a>:</h4>
<p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=966574">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=966574</a></p>



<a name="258580355"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258580355" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258580355">(Oct 21 2021 at 16:54)</a>:</h4>
<p>you also need to install libclang-common-dev-12-dev it seems</p>



<a name="258581166"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258581166" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258581166">(Oct 21 2021 at 17:00)</a>:</h4>
<div class="codehilite"><pre><span></span><code>To make sure always the most recent versions of the packages are installed, we are providing some default packages.
To install all of them (currently version 14):
apt-get install clang-format clang-tidy clang-tools clang clangd libc++-dev libc++1 libc++abi-dev libc++abi1 libclang-dev libclang1 liblldb-dev libllvm-ocaml-dev libomp-dev libomp5 lld lldb llvm-dev llvm-runtime llvm python-clang
</code></pre></div>
<p><a href="https://apt.llvm.org/#default_pkg">https://apt.llvm.org/#default_pkg</a></p>



<a name="258581244"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258581244" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258581244">(Oct 21 2021 at 17:00)</a>:</h4>
<p>Maybe I need to manually install these then?</p>



<a name="258582332"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258582332" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258582332">(Oct 21 2021 at 17:06)</a>:</h4>
<p>I downloaded the <a href="http://llvm.sh">llvm.sh</a> file. Perhaps I can tweak it to accept my distro</p>



<a name="258582946"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258582946" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258582946">(Oct 21 2021 at 17:11)</a>:</h4>
<p>Its based on ubuntu 21.04. So just a wild guess that I can change the Ubuntu_21.04 to Pop_21.04</p>
<div class="codehilite"><pre><span></span><code># find the right repository name for the distro and version
case &quot;$DIST_VERSION&quot; in
    Debian_9* )       REPO_NAME=&quot;deb http://apt.llvm.org/stretch/  llvm-toolchain-stretch$LLVM_VERSION_STRING main&quot; ;;
    Debian_10* )      REPO_NAME=&quot;deb http://apt.llvm.org/buster/   llvm-toolchain-buster$LLVM_VERSION_STRING  main&quot; ;;
    Debian_11* )      REPO_NAME=&quot;deb http://apt.llvm.org/bullseye/ llvm-toolchain-bullseye$LLVM_VERSION_STRING  main&quot; ;;
    Debian_unstable ) REPO_NAME=&quot;deb http://apt.llvm.org/unstable/ llvm-toolchain$LLVM_VERSION_STRING         main&quot; ;;
    Debian_testing )  REPO_NAME=&quot;deb http://apt.llvm.org/unstable/ llvm-toolchain$LLVM_VERSION_STRING         main&quot; ;;
    Ubuntu_16.04 )    REPO_NAME=&quot;deb http://apt.llvm.org/xenial/   llvm-toolchain-xenial$LLVM_VERSION_STRING  main&quot; ;;
    Ubuntu_18.04 )    REPO_NAME=&quot;deb http://apt.llvm.org/bionic/   llvm-toolchain-bionic$LLVM_VERSION_STRING  main&quot; ;;
    Ubuntu_18.10 )    REPO_NAME=&quot;deb http://apt.llvm.org/cosmic/   llvm-toolchain-cosmic$LLVM_VERSION_STRING  main&quot; ;;
    Ubuntu_19.04 )    REPO_NAME=&quot;deb http://apt.llvm.org/disco/    llvm-toolchain-disco$LLVM_VERSION_STRING   main&quot; ;;
    Ubuntu_19.10 )   REPO_NAME=&quot;deb http://apt.llvm.org/eoan/      llvm-toolchain-eoan$LLVM_VERSION_STRING    main&quot; ;;
    Ubuntu_20.04 )   REPO_NAME=&quot;deb http://apt.llvm.org/focal/     llvm-toolchain-focal$LLVM_VERSION_STRING   main&quot; ;;
    Ubuntu_21.04 )   REPO_NAME=&quot;deb http://apt.llvm.org/groovy/    llvm-toolchain-groovy$LLVM_VERSION_STRING  main&quot; ;;
    Ubuntu_21.10 )   REPO_NAME=&quot;deb http://apt.llvm.org/hirsute/   llvm-toolchain-hirsute$LLVM_VERSION_STRING main&quot; ;;
    * )
        echo &quot;Distribution &#39;$DISTRO&#39; in version &#39;$VERSION&#39; is not supported by this script (${DIST_VERSION}).&quot;
        exit 2
esac
</code></pre></div>



<a name="258583398"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258583398" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258583398">(Oct 21 2021 at 17:14)</a>:</h4>
<p>Ohh<br>
Something is happening</p>



<a name="258583481"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258583481" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258583481">(Oct 21 2021 at 17:14)</a>:</h4>
<p>Hmm, progress perhaps?</p>
<div class="codehilite"><pre><span></span><code>Get:11 http://us.archive.ubuntu.com/ubuntu hirsute-updates InRelease [115 kB]
Get:12 http://us.archive.ubuntu.com/ubuntu hirsute-backports InRelease [101 kB]
Hit:10 https://packagecloud.io/slacktechnologies/slack/debian jessie InRelease
Fetched 326 kB in 2s (170 kB/s)
Reading package lists... Done
+ apt-get install -y clang-13 lldb-13 lld-13 clangd-13
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies.
 liblldb-13 : Depends: libpython3.8 (&gt;= 3.8.2) but it is not installable
E: Unable to correct problems, you have held broken packages.
</code></pre></div>



<a name="258590066"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258590066" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258590066">(Oct 21 2021 at 17:57)</a>:</h4>
<p>On Linux I’ve had a good time with llvmenv</p>



<a name="258590428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258590428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258590428">(Oct 21 2021 at 17:59)</a>:</h4>
<p>hmm llvm13 is definitely not what you want</p>



<a name="258590583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258590583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258590583">(Oct 21 2021 at 18:00)</a>:</h4>
<p>this is why I download that zip: it's a bit of work, but at least it's all simple stuff, no fighting with shell scripts or anything like that</p>



<a name="258593064"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258593064" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258593064">(Oct 21 2021 at 18:16)</a>:</h4>
<p>You can pass a number to the shell script for the version you want to install</p>



<a name="258593088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258593088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258593088">(Oct 21 2021 at 18:16)</a>:</h4>
<p>Just an FYI</p>



<a name="258600041"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600041" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600041">(Oct 21 2021 at 19:04)</a>:</h4>
<p>Ok a little update<br>
I ran</p>
<div class="codehilite"><pre><span></span><code>apt-get install clang-format clang-tidy clang-tools clang clangd libc++-dev libc++1 libc++abi-dev libc++abi1 libclang-dev libclang1 liblldb-dev libllvm-ocaml-dev libomp-dev libomp5 lld lldb llvm-dev llvm-runtime llvm python-clang
</code></pre></div>
<p>And I think I am pretty close now?</p>



<a name="258600169"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600169" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600169">(Oct 21 2021 at 19:05)</a>:</h4>
<p>Output too long, here is a hastebin:<br>
<a href="https://hastebin.com/uwoqebigep.rb">https://hastebin.com/uwoqebigep.rb</a></p>



<a name="258600293"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600293" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600293">(Oct 21 2021 at 19:06)</a>:</h4>
<p>It seems to run the cargo test now, but a lot of failures:</p>
<div class="codehilite"><pre><span></span><code>failures:
    cli_run::astar
    cli_run::base64
    cli_run::cfold
    cli_run::cli
    cli_run::closure
    cli_run::deriv
    cli_run::effect
    cli_run::fib
    cli_run::hello_rust
    cli_run::hello_world
    cli_run::hello_zig
    cli_run::nqueens
    cli_run::quicksort
    cli_run::rbtree_ck
    cli_run::rbtree_insert
    cli_run::run_multi_dep_str_optimized
    cli_run::run_multi_dep_str_unoptimized
    cli_run::run_multi_dep_thunk_optimized
    cli_run::run_multi_dep_thunk_unoptimized

test result: FAILED. 2 passed; 19 failed; 0 ignored; 0 measured; 0 filtered out; finished in 9.26s
</code></pre></div>



<a name="258600545"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600545" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600545">(Oct 21 2021 at 19:07)</a>:</h4>
<p>Interesting. Some sort of linker argument error.</p>



<a name="258600678"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600678" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600678">(Oct 21 2021 at 19:08)</a>:</h4>
<p>Well, I am, for the first time, able to run the repl! I call that success :D</p>



<a name="258600747"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600747" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600747">(Oct 21 2021 at 19:09)</a>:</h4>
<p>Well.. babysteps <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> </p>
<div class="codehilite"><pre><span></span><code>  The rockin’ roc repl
────────────────────────

Enter an expression, or :help, or :exit/:q.

» 1 +1
ld: Error: unable to disambiguate: -arch (did you mean --arch ?)
thread &#39;main&#39; panicked at &#39;Error loading compiled dylib for test: DlOpen { desc: &quot;/tmp/.tmpYFlZpw/app.so.1.0: cannot open shared object file: No such file or directory&quot; }&#39;, cli/src/repl/gen.rs:227:14
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre></div>



<a name="258600935"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600935" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600935">(Oct 21 2021 at 19:10)</a>:</h4>
<p>Hmm. I see some comments in the code related to this error, but not sure of the correct fix at the moment.</p>



<a name="258600956"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258600956" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258600956">(Oct 21 2021 at 19:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc/examples$ cargo run hello-world/Hello.roc
    Finished dev [unoptimized + debuginfo] target(s) in 0.17s
     Running `/home/oliverschoning/Projects/roc/target/debug/roc hello-world/Hello.roc`
ld: Error: unable to disambiguate: -arch (did you mean --arch ?)
oliverschoning@pop-os:~/Projects/roc/examples$
</code></pre></div>



<a name="258601049"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601049" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601049">(Oct 21 2021 at 19:11)</a>:</h4>
<p>I think the fix might be for me to go to my storage room and get my macbook 2012 <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="258601114"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601114" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601114">(Oct 21 2021 at 19:12)</a>:</h4>
<p>What do you get when you run <code>ld --version</code></p>



<a name="258601162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601162">(Oct 21 2021 at 19:12)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc/examples$ ld --version
GNU ld (GNU Binutils for Ubuntu) 2.36.1
Copyright (C) 2021 Free Software Foundation, Inc.
This program is free software; you may redistribute it under the terms of
the GNU General Public Licence version 3 or (at your option) a later version.
This program has absolutely no warranty.
</code></pre></div>



<a name="258601179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601179">(Oct 21 2021 at 19:12)</a>:</h4>
<p>Also, roc should run on Ubuntu or pop just fine. I exclusively use Linux.</p>



<a name="258601312"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601312" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601312">(Oct 21 2021 at 19:13)</a>:</h4>
<p>I'm sure it will eventually work on my machine since it's ubuntu based. I am only mentioning osx coz a buddy tried roc today and had it working almost immediately hehe</p>



<a name="258601383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601383">(Oct 21 2021 at 19:14)</a>:</h4>
<p>Fair enough</p>



<a name="258601483"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601483" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601483">(Oct 21 2021 at 19:15)</a>:</h4>
<p>But I would like to avoid having to run triple boot just to get this working. Id like to stay dual booted</p>



<a name="258601706"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601706" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601706">(Oct 21 2021 at 19:16)</a>:</h4>
<p>I get no hits on google for " -arch (did you mean --arch ?)"</p>



<a name="258601856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601856">(Oct 21 2021 at 19:18)</a>:</h4>
<p>Can you try pulling and running the<code>update-arch</code> branch?</p>



<a name="258601876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601876">(Oct 21 2021 at 19:18)</a>:</h4>
<p>See if that fixes it for you?</p>



<a name="258601896"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601896" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601896">(Oct 21 2021 at 19:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/So.20close.2C.20Ubuntu/near/258566642">said</a>:</p>
<blockquote>
<p>First you need to add the llvm ppa, then that would work correctly</p>
</blockquote>
<p>you mentioned this <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> , I did not do this. Maybe that is why?</p>



<a name="258601993"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258601993" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258601993">(Oct 21 2021 at 19:19)</a>:</h4>
<p>That shouldn't be the cause of this issue cause it is caused by <code>ld</code> which is gnu, not llvm</p>



<a name="258602022"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258602022" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258602022">(Oct 21 2021 at 19:19)</a>:</h4>
<p>ok, so I'm gonna try switching to that branch</p>



<a name="258602204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258602204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258602204">(Oct 21 2021 at 19:20)</a>:</h4>
<p>I can only see a fix-arch-docs, that one?</p>



<a name="258602272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258602272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258602272">(Oct 21 2021 at 19:21)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ git status
On branch fix-arch-docs
Your branch is up-to-date with &#39;origin/fix-arch-docs&#39;.

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
    cli/tests/
    compiler/
    examples/

nothing added to commit but untracked files present (use &quot;git add&quot; to track)
oliverschoning@pop-os:~/Projects/roc$ cargo test
    Updating git repository `https://github.com/TheDan64/inkwell`
error: failed to get `inkwell` as a dependency of package `roc v0.1.0 (/home/oliverschoning/Projects/roc)`

Caused by:
  failed to load source for dependency `inkwell`

Caused by:
  Unable to update https://github.com/TheDan64/inkwell?branch=llvm8-0#aeba58a7

Caused by:
  object not found - no match for id (aeba58a7c684b27416b55bc1e53e4d2bee15c5ec); class=Odb (9); code=NotFound (-3)
oliverschoning@pop-os:~/Projects/roc$
</code></pre></div>



<a name="258602583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258602583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258602583">(Oct 21 2021 at 19:23)</a>:</h4>
<p>oh wait. I see it now</p>



<a name="258602610"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258602610" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258602610">(Oct 21 2021 at 19:23)</a>:</h4>
<p>make sure to <code>git pull</code> I just made the branch</p>



<a name="258604010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258604010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258604010">(Oct 21 2021 at 19:33)</a>:</h4>
<p>A unfortunately same issue. The cargo test hangs right now and a lot of failed. And Cargo run gives:</p>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc/examples$ cargo run hello-world/Hello.roc
   Compiling rand_core v0.4.2
   Compiling rand v0.8.4
   Compiling wyhash v0.3.0
   Compiling roc_collections v0.1.0 (/home/oliverschoning/Projects/roc/compiler/collections)
   Compiling roc_module v0.1.0 (/home/oliverschoning/Projects/roc/compiler/module)
   Compiling ven_graph v2.0.5-pre (/home/oliverschoning/Projects/roc/vendor/pathfinding)
   Compiling tempfile v3.2.0
   Compiling twox-hash v1.6.1
   Compiling wasmer-engine-dylib v2.0.0
   Compiling glyph_brush v0.7.2
   Compiling wgpu_glyph v0.14.1
   Compiling wasmer v2.0.0
   Compiling wasmer-wasi v2.0.0
   Compiling roc_types v0.1.0 (/home/oliverschoning/Projects/roc/compiler/types)
   Compiling roc_parse v0.1.0 (/home/oliverschoning/Projects/roc/compiler/parse)
   Compiling roc_builtins v0.1.0 (/home/oliverschoning/Projects/roc/compiler/builtins)
   Compiling roc_unify v0.1.0 (/home/oliverschoning/Projects/roc/compiler/unify)
   Compiling roc_problem v0.1.0 (/home/oliverschoning/Projects/roc/compiler/problem)
   Compiling roc_fmt v0.1.0 (/home/oliverschoning/Projects/roc/compiler/fmt)
   Compiling roc_can v0.1.0 (/home/oliverschoning/Projects/roc/compiler/can)
   Compiling roc_solve v0.1.0 (/home/oliverschoning/Projects/roc/compiler/solve)
   Compiling roc_constrain v0.1.0 (/home/oliverschoning/Projects/roc/compiler/constrain)
   Compiling roc_mono v0.1.0 (/home/oliverschoning/Projects/roc/compiler/mono)
   Compiling roc_reporting v0.1.0 (/home/oliverschoning/Projects/roc/compiler/reporting)
   Compiling roc_gen_llvm v0.1.0 (/home/oliverschoning/Projects/roc/compiler/gen_llvm)
   Compiling roc_gen_wasm v0.1.0 (/home/oliverschoning/Projects/roc/compiler/gen_wasm)
   Compiling roc_load v0.1.0 (/home/oliverschoning/Projects/roc/compiler/load)
   Compiling roc_ast v0.1.0 (/home/oliverschoning/Projects/roc/ast)
   Compiling roc_gen_dev v0.1.0 (/home/oliverschoning/Projects/roc/compiler/gen_dev)
   Compiling roc_build v0.1.0 (/home/oliverschoning/Projects/roc/compiler/build)
   Compiling roc_linker v0.1.0 (/home/oliverschoning/Projects/roc/linker)
   Compiling roc_code_markup v0.1.0 (/home/oliverschoning/Projects/roc/code_markup)
   Compiling roc_docs v0.1.0 (/home/oliverschoning/Projects/roc/docs)
   Compiling roc_editor v0.1.0 (/home/oliverschoning/Projects/roc/editor)
   Compiling roc_cli v0.1.0 (/home/oliverschoning/Projects/roc/cli)
    Finished dev [unoptimized + debuginfo] target(s) in 1m 02s
     Running `/home/oliverschoning/Projects/roc/target/debug/roc hello-world/Hello.roc`
ld: Error: unable to disambiguate: --arch (did you mean ---arch ?)
</code></pre></div>



<a name="258604142"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258604142" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258604142">(Oct 21 2021 at 19:34)</a>:</h4>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc$ cargo run repl
    Finished dev [unoptimized + debuginfo] target(s) in 0.18s
     Running `target/debug/roc repl`

  The rockin’ roc repl
────────────────────────

Enter an expression, or :help, or :exit/:q.

» 1 + 1
ld: Error: unable to disambiguate: --arch (did you mean ---arch ?)
thread &#39;main&#39; panicked at &#39;Error loading compiled dylib for test: DlOpen { desc: &quot;/tmp/.tmpmH53wB/app.so.1.0: cannot open shared object file: No such file or directory&quot; }&#39;, cli/src/repl/gen.rs:227:14
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
oliverschoning@pop-os:~/Projects/roc$
</code></pre></div>



<a name="258604626"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258604626" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258604626">(Oct 21 2021 at 19:37)</a>:</h4>
<p>I just pushed one more commit to temporarily disable the arch flag, can you pull and run one more time? I am really confused as to the issue your version of ld is having the the arch flag.</p>



<a name="258605300"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258605300" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258605300">(Oct 21 2021 at 19:42)</a>:</h4>
<p>Will do! Most likely I messed up the install I assume</p>



<a name="258606471"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258606471" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258606471">(Oct 21 2021 at 19:51)</a>:</h4>
<p><a href="https://hastebin.com/aziporewec.rust">https://hastebin.com/aziporewec.rust</a> &lt;- cargo test</p>
<div class="codehilite"><pre><span></span><code>oliverschoning@pop-os:~/Projects/roc/examples$ cargo run hello-world/Hello.roc
    Blocking waiting for file lock on build directory
warning: unused import: `crate::target::arch_str`
 --&gt; compiler/build/src/link.rs:1:5
  |
1 | use crate::target::arch_str;
  |     ^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused variable: `arch`
   --&gt; compiler/build/src/link.rs:726:9
    |
726 |     let arch = match target.architecture {
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_arch`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: `roc_build` (lib) generated 2 warnings
    Finished dev [unoptimized + debuginfo] target(s) in 15.37s
     Running `/home/oliverschoning/Projects/roc/target/debug/roc hello-world/Hello.roc`
Error: Os { code: 26, kind: ExecutableFileBusy, message: &quot;Text file busy&quot; }
oliverschoning@pop-os:~/Projects/roc/examples$
</code></pre></div>
<p>I was hower able to write 1 + 1 in the repl this time!</p>



<a name="258606689"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258606689" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258606689">(Oct 21 2021 at 19:53)</a>:</h4>
<p>Oh, you need to install valgrind</p>



<a name="258606843"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258606843" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258606843">(Oct 21 2021 at 19:54)</a>:</h4>
<p>Should just be an <code>sudo apt install valgrind</code></p>



<a name="258607294"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258607294" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258607294">(Oct 21 2021 at 19:57)</a>:</h4>
<p>Omg it worked! <br>
Now only one tests fails and I was able to run helloworld!<br>
<code>test cli_run::astar ... FAILED</code> &lt;- this test</p>



<a name="258607326"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258607326" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258607326">(Oct 21 2021 at 19:57)</a>:</h4>
<p>Thank you very much <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span></p>



<a name="258607576"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258607576" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258607576">(Oct 21 2021 at 19:59)</a>:</h4>
<p>If you run the tests again or just that test alone, does it consistently fail. I think our tests have a minor filesystem race condition that hasn't been fixed yet.</p>



<a name="258608631"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258608631" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258608631">(Oct 21 2021 at 20:05)</a>:</h4>
<p>How can I run a single test?</p>



<a name="258609174"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258609174" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258609174">(Oct 21 2021 at 20:09)</a>:</h4>
<p><code>cargo test --test cli_run deriv</code> should run just the deriv cli test</p>



<a name="258610256"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258610256" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258610256">(Oct 21 2021 at 20:16)</a>:</h4>
<p>I have re-run the all tests a couple of times. Sometimes they hang:</p>
<div class="codehilite"><pre><span></span><code>test cli_run::cfold has been running for over 60 seconds
test cli_run::cli has been running for over 60 seconds
</code></pre></div>
<p>Sometimes a test fails, never the same, sometimes they all pass. </p>
<p>Very confusing</p>



<a name="258610536"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258610536" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258610536">(Oct 21 2021 at 20:18)</a>:</h4>
<p>yea that happens, seems like you're hit hard by it though</p>



<a name="258610553"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258610553" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258610553">(Oct 21 2021 at 20:18)</a>:</h4>
<p>there is some race condition in there</p>



<a name="258610635"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258610635" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258610635">(Oct 21 2021 at 20:18)</a>:</h4>
<p>does <code>cargo test --test cli_run -- --test-threads 1</code> work?</p>



<a name="258610674"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258610674" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258610674">(Oct 21 2021 at 20:19)</a>:</h4>
<p>(it is going to be slow, but it should be correct)</p>



<a name="258611357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258611357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258611357">(Oct 21 2021 at 20:23)</a>:</h4>
<p>Running it now. Why are tests sometimes failing tho? That's not how I usually expect unit tests to work haha</p>



<a name="258611815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258611815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258611815">(Oct 21 2021 at 20:26)</a>:</h4>
<p>Those are integration tests and a number of them generate the same file. So sometimes they delete the file while another test is using it. I thought we set them to run sequentially but I guess it doesn't work.</p>



<a name="258611871"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258611871" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258611871">(Oct 21 2021 at 20:27)</a>:</h4>
<p>Result from:<br>
cargo test --test cli_run -- --test-threads 1</p>
<p><code>``oliverschoning@pop-os:~/Projects/roc$ cargo test --test cli_run -- --test-threads 1
warning: unused import: </code>crate::target::arch_str<code>
 --&gt; compiler/build/src/link.rs:1:5
  |
1 | use crate::target::arch_str;
  |     ^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: </code>#[warn(unused_imports)]` on by default</p>
<p>warning: unused variable: <code>arch</code><br>
   --&gt; compiler/build/src/link.rs:726:9<br>
    |<br>
726 |     let arch = match target.architecture {<br>
    |         ^^^^ help: if this is intentional, prefix it with an underscore: <code>_arch</code><br>
    |<br>
    = note: <code>#[warn(unused_variables)]</code> on by default</p>
<p>warning: <code>roc_build</code> (lib) generated 2 warnings<br>
    Finished test [unoptimized + debuginfo] target(s) in 0.18s<br>
     Running tests/cli_run.rs (target/debug/deps/cli_run-42f9a13667c40034)</p>
<p>running 21 tests<br>
test cli_run::astar ... ok<br>
test cli_run::base64 ... ok<br>
test cli_run::cfold ... ok<br>
test cli_run::cli ... ok<br>
test cli_run::closure ... ok<br>
test cli_run::deriv ... ok<br>
test cli_run::effect ... ok<br>
test cli_run::fib ... ok<br>
test cli_run::hello_rust ... ok<br>
test cli_run::hello_web ... ok<br>
test cli_run::hello_world ... ok<br>
test cli_run::hello_zig ... ok<br>
test cli_run::nqueens ... ok<br>
test cli_run::quicksort ... ok<br>
test cli_run::quicksort_app ... ok<br>
test cli_run::rbtree_ck ... ok<br>
test cli_run::rbtree_insert ... ok<br>
test cli_run::run_multi_dep_str_optimized ... ok<br>
test cli_run::run_multi_dep_str_unoptimized ... ok<br>
test cli_run::run_multi_dep_thunk_optimized ... ok<br>
test cli_run::run_multi_dep_thunk_unoptimized ... ok</p>
<p>test result: ok. 21 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 49.42s</p>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>



<a name="258612025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612025">(Oct 21 2021 at 20:28)</a>:</h4>
<p>Cool. You have a working compiler. The warning messages are due to my quick hacks to disable the <code>-arch</code></p>



<a name="258612059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612059">(Oct 21 2021 at 20:28)</a>:</h4>
<p>Still need to figure out what exactly is going on there.</p>



<a name="258612312"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612312" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612312">(Oct 21 2021 at 20:30)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span>  yay! thanks so much</p>



<a name="258612368"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612368" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612368">(Oct 21 2021 at 20:30)</a>:</h4>
<p>I can live with this, eventually there will be an installer I assume :D</p>



<a name="258612391"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612391" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612391">(Oct 21 2021 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span>  those tests don't run sequentially normally</p>



<a name="258612425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612425">(Oct 21 2021 at 20:31)</a>:</h4>
<p>it just seems that some machines are more likely to run into that race condition</p>



<a name="258612446"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612446" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612446">(Oct 21 2021 at 20:31)</a>:</h4>
<p>maybe based on processor speed or number of cores</p>



<a name="258612668"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612668" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612668">(Oct 21 2021 at 20:32)</a>:</h4>
<p>Oh, i didn't realize. We should maybe at least make the ones in the benchmarks folder run sequentially. Or first compile the host and then use the <code>--precompiled-host</code> flag.</p>



<a name="258612739"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612739" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612739">(Oct 21 2021 at 20:33)</a>:</h4>
<p>that flag exists?</p>



<a name="258612801"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612801" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612801">(Oct 21 2021 at 20:33)</a>:</h4>
<p>if so we can use it, on ci at least</p>



<a name="258612876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612876">(Oct 21 2021 at 20:34)</a>:</h4>
<p>because there one of the tests is run to compile the host, effectively pre-compiling it for the rest</p>



<a name="258612920"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612920" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612920">(Oct 21 2021 at 20:34)</a>:</h4>
<p>I added the flag as part of linker changes</p>



<a name="258612947"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258612947" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258612947">(Oct 21 2021 at 20:34)</a>:</h4>
<p>oh, excellent</p>



<a name="258679237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258679237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258679237">(Oct 22 2021 at 08:27)</a>:</h4>
<p>Thanks for working through this with us <span class="user-mention" data-user-id="431466">@Oliver Schöning</span> ! I have improved the llvm installation instructions for Ubuntu/Debian, I'll also be working on a complete install script today.</p>



<a name="258692948"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/258692948" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Schöning <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#258692948">(Oct 22 2021 at 10:35)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> omg no problem! I’m just very grateful for all the help I’ve gotten! Clearly the Elm community spirit also lives in Roc ❤️</p>



<a name="259746527"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/So%20close%2C%20Ubuntu/near/259746527" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luiz de Oliveira <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/So.20close.2C.20Ubuntu.html#259746527">(Oct 30 2021 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> and <span class="user-mention" data-user-id="431466">@Oliver Schöning</span> I think this PR will solve the <code>-arch</code> problem: <a href="https://github.com/rtfeldman/roc/pull/1851">https://github.com/rtfeldman/roc/pull/1851</a></p>
<p>Could you guys take a look? <span class="user-mention" data-user-id="431466">@Oliver Schöning</span> this change should make it work smooth.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
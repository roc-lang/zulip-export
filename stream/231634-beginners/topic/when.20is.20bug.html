<html>
<head><meta charset="utf-8"><title>when is bug · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/when.20is.20bug.html">when is bug</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="435951973"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/when%20is%20bug/near/435951973" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/when.20is.20bug.html#435951973">(Apr 29 2024 at 04:27)</a>:</h4>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="nf">isTwo</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="nf">\</span><span class="n">bytes</span><span class="w"> </span><span class="ow">-&gt;</span>
<span class="w">    </span><span class="n">when</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">is</span>
<span class="w">        </span><span class="p">[</span><span class="kt">'\</span><span class="n">n'</span><span class="p">,</span><span class="w"> </span><span class="kt">'\</span><span class="n">n'</span><span class="p">,</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rest</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="o">.</span><span class="n">true</span>
<span class="w">        </span><span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rest</span><span class="p">]</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">'h'</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">isTwo</span><span class="w"> </span><span class="n">rest</span>
<span class="w">        </span><span class="p">[</span><span class="kr">_</span><span class="p">,</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rest</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">isTwo</span><span class="w"> </span><span class="n">rest</span>
<span class="w">        </span><span class="kt">[]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="o">.</span><span class="n">false</span>
<span class="nf">expect</span><span class="w"> </span><span class="n">isTwo</span><span class="w"> </span><span class="p">[</span><span class="kt">'\</span><span class="n">n'</span><span class="p">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="o">.</span><span class="n">not</span>
</code></pre></div>
<p>This code causes a compiler crash for me:</p>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;Expected symbol `17.IdentId(5)` to be in environment&#39;, crates/compiler/mono/src/inc_dec.rs:293:21
</code></pre></div>
<p>Thought I'd better put it here for those who come after me. It seems like it's an issue with having the <code>if</code> case and the case that destructures two items from the list</p>



<a name="436110444"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/when%20is%20bug/near/436110444" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/when.20is.20bug.html#436110444">(Apr 29 2024 at 18:15)</a>:</h4>
<p>I think that might be the same as this bug:<br>
<a href="https://github.com/roc-lang/roc/issues/6606">https://github.com/roc-lang/roc/issues/6606</a></p>



<a name="436154653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/when%20is%20bug/near/436154653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/when.20is.20bug.html#436154653">(Apr 29 2024 at 22:50)</a>:</h4>
<p>Ahh, well spotted, that does look like it</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
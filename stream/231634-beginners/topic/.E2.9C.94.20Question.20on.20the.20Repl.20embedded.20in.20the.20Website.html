<html>
<head><meta charset="utf-8"><title>✔ Question on the Repl embedded in the Website · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html">✔ Question on the Repl embedded in the Website</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="410766990"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410766990" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rolf Kreibaum <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410766990">(Jan 01 2024 at 23:04)</a>:</h4>
<p>Hi, the website throws an error at me that I don't understand when I try to use the embedded repl:</p>
<p><a href="/user_uploads/22008/ZUufWl0AsMfNmr5rrkwqiaYM/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/ZUufWl0AsMfNmr5rrkwqiaYM/image.png" title="image.png"><img src="/user_uploads/22008/ZUufWl0AsMfNmr5rrkwqiaYM/image.png"></a></div><p>Is this a known thing? Is my input even valid Roc?</p>



<a name="410767031"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410767031" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410767031">(Jan 01 2024 at 23:05)</a>:</h4>
<p><a href="#narrow/stream/231634-beginners/topic/Question.20on.20the.20Repl.20embedded.20in.20the.20Website/near/410766990">A message</a> was moved here from <a class="stream-topic" data-stream-id="231634" href="/#narrow/stream/231634-beginners/topic/Issues.20related.20to.20type.20annotations">#beginners &gt; Issues related to type annotations</a> by <span class="user-mention silent" data-user-id="677545">Rolf Kreibaum</span>.</p>



<a name="410767240"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410767240" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410767240">(Jan 01 2024 at 23:09)</a>:</h4>
<p>Looks like a bug in the dev wasm backend</p>



<a name="410767624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410767624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rolf Kreibaum <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410767624">(Jan 01 2024 at 23:17)</a>:</h4>
<p>Where would I go to report that? <a href="https://github.com/roc-lang/roc/issues">https://github.com/roc-lang/roc/issues</a> or some other place?</p>



<a name="410767803"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410767803" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rolf Kreibaum <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410767803">(Jan 01 2024 at 23:21)</a>:</h4>
<p>I found similar reports in the tracker, so I'll report it there.</p>



<a name="410767814"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410767814" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410767814">(Jan 01 2024 at 23:21)</a>:</h4>
<p>Thank you</p>



<a name="410768075"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410768075" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rolf Kreibaum <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410768075">(Jan 01 2024 at 23:26)</a>:</h4>
<p>Moved to <a href="https://github.com/roc-lang/roc/issues/6334">https://github.com/roc-lang/roc/issues/6334</a> and the issue also links back to this chat. Thanks for the quick and friendly replies :-)</p>



<a name="410768078"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410768078" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410768078">(Jan 01 2024 at 23:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="677545">Rolf Kreibaum</span> has marked this topic as resolved.</p>



<a name="410839651"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410839651" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410839651">(Jan 02 2024 at 12:37)</a>:</h4>
<p>the problem is not specific to the web repl actually </p>
<div class="codehilite"><pre><span></span><code>  The rockin&#39; roc repl
────────────────────────

Enter an expression, or :help, or :q to quit.

»  List.map [0.1,0.2,0.3] (\x -&gt; x*x)
…
thread &#39;main&#39; panicked at &#39;not yet implemented: NumMulWrap: layout, Builtin(Decimal)&#39;, crates/compiler/gen_dev/src/generic64/mod.rs:1500:18
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre></div>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> what should "mulwrap" for decimals do? just disregard overflow and whatever happens happens?</p>



<a name="410839836"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410839836" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410839836">(Jan 02 2024 at 12:39)</a>:</h4>
<p>in practice that would mean that <code>mulWrap</code> is the same as <code>mulSaturated</code>. <span class="user-mention" data-user-id="281383">@Richard Feldman</span> may also have an opinion here: what is the behavior we expect multiplication to have for decimals ?</p>



<a name="410843453"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410843453" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410843453">(Jan 02 2024 at 13:08)</a>:</h4>
<p><code>mulWrap</code> and the like only accept integers</p>



<a name="410843502"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410843502" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410843502">(Jan 02 2024 at 13:08)</a>:</h4>
<p>so the behavior I expect is a type mismatch <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="410848422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410848422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410848422">(Jan 02 2024 at 13:51)</a>:</h4>
<p>no? floats implement mulwrap too</p>



<a name="410848562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410848562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410848562">(Jan 02 2024 at 13:52)</a>:</h4>
<p>or another way to say this is: what would normal <code>mul</code> do for floats then when they overflow? is that just ignored then?</p>



<a name="410849160"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849160" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849160">(Jan 02 2024 at 13:57)</a>:</h4>
<p>floats overflow to infinity</p>



<a name="410849322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849322">(Jan 02 2024 at 13:58)</a>:</h4>
<p>I guess there's an argument for extending it to work with any number type</p>



<a name="410849365"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849365" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849365">(Jan 02 2024 at 13:59)</a>:</h4>
<p>for the sake of Dec performance</p>



<a name="410849433"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849433" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849433">(Jan 02 2024 at 13:59)</a>:</h4>
<p>so I guess the answer for Dec would be that we would do whatever's fastest and gets the correct answer if there's no overflow</p>



<a name="410849462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849462">(Jan 02 2024 at 13:59)</a>:</h4>
<p>and then if there is overflow, it does something that's probably undesirable but not UB haha</p>



<a name="410849607"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849607" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849607">(Jan 02 2024 at 14:00)</a>:</h4>
<p>so you'd reach for it for Dec when you want a but more perf and you're really confident it won't overflow</p>



<a name="410849697"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410849697" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410849697">(Jan 02 2024 at 14:01)</a>:</h4>
<p>and if it does overflow you're ok with it silently getting the wrong answer if it means more perf</p>



<a name="410856015"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410856015" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410856015">(Jan 02 2024 at 14:47)</a>:</h4>
<p>for dec, I think saturated is equivalent in performance to any alternative</p>



<a name="410858122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410858122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410858122">(Jan 02 2024 at 15:00)</a>:</h4>
<p>in any case, NumWrap should not even be used here. That was a shortcut in the dev backend. I've implemented it properly here <a href="https://github.com/roc-lang/roc/pull/6337">https://github.com/roc-lang/roc/pull/6337</a>.</p>



<a name="410858205"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410858205" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410858205">(Jan 02 2024 at 15:01)</a>:</h4>
<p>and also fixed a bug that made roc_panic not work (crash worked before, I just messed up an argument type somewhere)</p>



<a name="410858346"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410858346" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410858346">(Jan 02 2024 at 15:02)</a>:</h4>
<p>btw, I assume <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> is there a reason not to use zig's builtin <a href="https://ziglang.org/documentation/master/#toc-mulWithOverflow">https://ziglang.org/documentation/master/#toc-mulWithOverflow</a> ?</p>



<a name="410867990"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410867990" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410867990">(Jan 02 2024 at 16:05)</a>:</h4>
<p>mulWithOverflow doesn't work cause we don't know if it is an overflow until the Dec has been divided by 10^18.</p>



<a name="410868190"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410868190" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410868190">(Jan 02 2024 at 16:06)</a>:</h4>
<p>To multiple 2 decs, we multiply into a i256, then divide by 10^18.</p>



<a name="410868262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Question%20on%20the%20Repl%20embedded%20in%20the%20Website/near/410868262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Question.20on.20the.20Repl.20embedded.20in.20the.20Website.html#410868262">(Jan 02 2024 at 16:07)</a>:</h4>
<p>So overflow would be if that final result doesn't fit back into an i128</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
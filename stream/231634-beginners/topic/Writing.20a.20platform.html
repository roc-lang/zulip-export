<html>
<head><meta charset="utf-8"><title>Writing a platform · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html">Writing a platform</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="439288748"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439288748" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439288748">(May 17 2024 at 20:38)</a>:</h4>
<p>Hi! New to Roc, was inspired to learn it by some of the SYCL talks :)<br>
I come from Zig land, so I'm interested in jumping right in to writing a platform to understand the low level details! Is there a reference anywhere for the functions I need to provide to roc, and how to call the entrypoint?<br>
I've had a look at some example code but I'd like to know where the "source of truth" is for all the function names etc.<br>
Not averse to reading the source, if that's the answer ^-^</p>



<a name="439309043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439309043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zeljko Nesic <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439309043">(May 18 2024 at 00:23)</a>:</h4>
<p><span class="user-mention" data-user-id="720794">@Silver</span> <a href="https://github.com/roc-lang/roc/tree/main/examples/platform-switching/zig-platform">https://github.com/roc-lang/roc/tree/main/examples/platform-switching/zig-platform</a> :)</p>



<a name="439328423"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439328423" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439328423">(May 18 2024 at 05:45)</a>:</h4>
<p>Also this conversation may be helpful <a href="#narrow/stream/302903-Writing-a-platform/topic/How.20does.20.22roc__mainForHost_1_exposed_generic.22.20work.3F/near/435340464">https://roc.zulipchat.com/#narrow/stream/302903-Writing-a-platform/topic/How.20does.20.22roc__mainForHost_1_exposed_generic.22.20work.3F/near/435340464</a></p>



<a name="439328549"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439328549" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439328549">(May 18 2024 at 05:47)</a>:</h4>
<p>I've been down the rabbit hole a bit lately on platform dev. When I get a spare moment, I'd like to try and write up something to help others with this, so any questions you have are really helpful.</p>



<a name="439333478"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439333478" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439333478">(May 18 2024 at 07:11)</a>:</h4>
<p><span class="user-mention" data-user-id="341959">@Zeljko Nesic</span> Awesome! That's a great reference, thanks</p>



<a name="439333588"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439333588" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439333588">(May 18 2024 at 07:13)</a>:</h4>
<p>I'm struggling a bit with understanding all the roc syntax involved - there's <code>provides</code> which, in a <code>platform</code> file, seems to export functions using C names? but I'm not entirely sure how those names are computed, since there's a number and sometimes a <code>_generic</code> or <code>_caller</code> or something involved</p>



<a name="439333765"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439333765" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439333765">(May 18 2024 at 07:16)</a>:</h4>
<p>there's also <code>hosted</code> files which seem to handle interfacing with functions exposed by the host implementation, but I'm not clear on how those interact with purity.<br>
There doesn't seem to be much documentation on Roc's effect system so I'm not really sure how that works - there's Effect, but also Task, which wraps Effect? Though ofc both of those are defined by the platform so I guess it's just convention?</p>



<a name="439334715"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439334715" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439334715">(May 18 2024 at 07:31)</a>:</h4>
<p>A lot of this is not documented because it is a WIP and there are some changes planned I think. Zulip is probably the best way to find this information out.</p>



<a name="439334742"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439334742" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439334742">(May 18 2024 at 07:31)</a>:</h4>
<p>I'm currently doing some touristing in Milan before I get on a plane back to Aus, but happy to help where I can.</p>



<a name="439334897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439334897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439334897">(May 18 2024 at 07:33)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/6382">https://github.com/roc-lang/roc/issues/6382</a></p>



<a name="439334946"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439334946" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439334946">(May 18 2024 at 07:34)</a>:</h4>
<p>For example this is how we want to change the interface between roc apps and the host.</p>



<a name="439334970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439334970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439334970">(May 18 2024 at 07:34)</a>:</h4>
<p>Actually, there is a lot described in GH issues, but it's a bit scattered.</p>



<a name="439338640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439338640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439338640">(May 18 2024 at 08:39)</a>:</h4>
<p>Thanks, that's good to know :)</p>



<a name="439339758"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439339758" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439339758">(May 18 2024 at 08:58)</a>:</h4>
<p>I've had a look at the compiler source code and I think I understand the generated function names a little better now, but I'm still not 100% clear on the difference between <code>roc__thing_0_exposed</code> and <code>roc__thing_0_exposed_generic</code> - why does the platform-switching example use the <code>_generic</code> variant, and when would you use the non-generic version?</p>



<a name="439340441"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439340441" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439340441">(May 18 2024 at 09:11)</a>:</h4>
<p>Im not sure, I think it might have been testing two different APIs or a WIP thing.</p>



<a name="439340970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439340970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439340970">(May 18 2024 at 09:20)</a>:</h4>
<p>Alright :)</p>



<a name="439340993"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439340993" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439340993">(May 18 2024 at 09:21)</a>:</h4>
<p>How do I run <code>roc glue</code>? I'm not sure what arg to give it for GLUE_SPEC and it's not giving terribly helpful errors when I try to guess haha</p>



<a name="439341516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341516">(May 18 2024 at 09:30)</a>:</h4>
<p><code>roc glue crates/glue/src/RustGlue.roc glue-stuff/ path/to/platform/main.roc</code></p>



<a name="439341574"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341574" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341574">(May 18 2024 at 09:31)</a>:</h4>
<p>The first argument is the path to a glue spec, the second is the dir path to generate files into, the last is the platform you want to generate for. I suggest starting with a super basic platform.</p>



<a name="439341641"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341641" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341641">(May 18 2024 at 09:32)</a>:</h4>
<p>Also this might help<br>
<a href="#narrow/stream/316715-contributing/topic/Glue.20generate.20Types.20in.20JSON/near/434573060">https://roc.zulipchat.com/#narrow/stream/316715-contributing/topic/Glue.20generate.20Types.20in.20JSON/near/434573060</a></p>



<a name="439341663"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341663" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341663">(May 18 2024 at 09:33)</a>:</h4>
<p>I find it useful to encode the types from the compiler into JSON and then I can pretty format in my editor and easily see what the data is.</p>



<a name="439341755"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341755" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341755">(May 18 2024 at 09:34)</a>:</h4>
<p>hmm okay, I guess I need a clone of the compiler source code for that then? since the glue specs don't seem to be distributed with the nightlies</p>



<a name="439341761"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341761" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341761">(May 18 2024 at 09:34)</a>:</h4>
<p>That's sort of annoying since I was hoping to integrate it into my Zig build process</p>



<a name="439341811"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341811" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341811">(May 18 2024 at 09:35)</a>:</h4>
<p>Well no, you can use a package for the glue</p>



<a name="439341833"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341833" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341833">(May 18 2024 at 09:36)</a>:</h4>
<p>I have an example somewhere</p>



<a name="439341878"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341878" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341878">(May 18 2024 at 09:36)</a>:</h4>
<p>Looks like the Zig glue is for an older version of Zig too, that's unfortunate</p>



<a name="439341879"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341879" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341879">(May 18 2024 at 09:36)</a>:</h4>
<p>I'll probably just handroll it for now :)</p>



<a name="439341904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341904">(May 18 2024 at 09:37)</a>:</h4>
<p>Yeah thats probably best. If you are interested in helping with Zig glue please let me know.</p>



<a name="439341927"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439341927" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439341927">(May 18 2024 at 09:37)</a>:</h4>
<p>I'd love to at some point, but I'll prolly focus on just learning the language first! ^-^</p>



<a name="439342007"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439342007" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439342007">(May 18 2024 at 09:38)</a>:</h4>
<p>You should be able to use this...</p>
<div class="codehilite"><pre><span></span><code>app [makeGlue] {
    pf: platform &quot;https://github.com/lukewilliamboswell/roc/releases/download/test/olBfrjtI-HycorWJMxdy7Dl2pcbbBoJy4mnSrDtRrlI.tar.br&quot;,
    json: &quot;https://github.com/lukewilliamboswell/roc-json/releases/download/0.7.0/xuaMzXRVG_SEhOFZucS3iBozlRdObWsfKaYZMHVE_q0.tar.br&quot;,
}

import pf.Types exposing [Types]
import pf.File exposing [File]
import json.Core exposing [json]

makeGlue : List Types -&gt; Result (List File) Str
makeGlue = \typesByArch -&gt;
    typesByArch
    |&gt; List.map convertTypesToFile
    |&gt; List.concat staticFiles
    |&gt; Ok

staticFiles : List File
staticFiles = []

convertTypesToFile : Types -&gt; File
convertTypesToFile = \types -&gt;

    content =
        Encode.toBytes types json
        |&gt; Str.fromUtf8
        |&gt; Result.withDefault &quot;INVALID UTF8 ENCODED FROM JSON&quot;

    { name: &quot;types.json&quot;, content }
</code></pre></div>



<a name="439342023"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439342023" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439342023">(May 18 2024 at 09:39)</a>:</h4>
<p>Im just on my phone, but that's using a URL package of glue I have been using for testing things.</p>



<a name="439342027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439342027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439342027">(May 18 2024 at 09:39)</a>:</h4>
<p>Ah interesting, thanks!</p>



<a name="439342097"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439342097" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439342097">(May 18 2024 at 09:40)</a>:</h4>
<p>Because glue spec is an app that is just a plugin for the compiler there are only <code>.roc</code> source files in the package and no prebuilt binaries.</p>



<a name="439342328"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439342328" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439342328">(May 18 2024 at 09:45)</a>:</h4>
<p>Also if anyone is interested you can make your own bundle for glue package using something like <code>roc build --bundle .tar.gz crates/glue/platform/main.roc</code> and upload that somewhere.</p>



<a name="439346223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439346223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439346223">(May 18 2024 at 10:56)</a>:</h4>
<p>:)<br>
<a href="/user_uploads/22008/ZTxNguPk0OoncQb-X8xbeWsp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/ZTxNguPk0OoncQb-X8xbeWsp/image.png" title="image.png"><img src="/user_uploads/22008/ZTxNguPk0OoncQb-X8xbeWsp/image.png"></a></div>



<a name="439346250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439346250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439346250">(May 18 2024 at 10:57)</a>:</h4>
<p>Got effects working</p>



<a name="439346273"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439346273" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439346273">(May 18 2024 at 10:57)</a>:</h4>
<p>Wasn't too bad once I figured out what everything does heheh</p>



<a name="439349227"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349227" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349227">(May 18 2024 at 11:44)</a>:</h4>
<p>In the <code>platform</code> header, what's the first <code>{}</code> in <code>requires {} { main : Whatever }</code>? I've only ever seen it empty so I'm intrigued as to what might go in it :)</p>



<a name="439349351"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349351" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349351">(May 18 2024 at 11:47)</a>:</h4>
<p>You can pass Types to the platform</p>



<a name="439349358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349358">(May 18 2024 at 11:47)</a>:</h4>
<p>Types that are defined in the app</p>



<a name="439349372"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349372" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349372">(May 18 2024 at 11:47)</a>:</h4>
<p>Oh neat! So the first one is types, and the second one is defs?</p>



<a name="439349435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349435">(May 18 2024 at 11:48)</a>:</h4>
<p><a href="https://github.com/lukewilliamboswell/roc-ray/blob/main/examples/pong.roc">https://github.com/lukewilliamboswell/roc-ray/blob/main/examples/pong.roc</a></p>



<a name="439349440"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349440" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349440">(May 18 2024 at 11:48)</a>:</h4>
<p>Here's an example</p>



<a name="439349445"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349445" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349445">(May 18 2024 at 11:48)</a>:</h4>
<p>Cool!</p>



<a name="439349525"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349525" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349525">(May 18 2024 at 11:50)</a>:</h4>
<p>Is there any way to introspect those types from the host implementation? <span aria-label="eyes" class="emoji emoji-1f440" role="img" title="eyes">:eyes:</span></p>



<a name="439349590"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349590" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349590">(May 18 2024 at 11:51)</a>:</h4>
<p>Or reflection in the platform would work too I guess, if I could generate data to pass to the host</p>



<a name="439349640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439349640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439349640">(May 18 2024 at 11:52)</a>:</h4>
<p>I'm not yet sure how much type-level hackery Roc allows haha</p>



<a name="439350040"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439350040" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439350040">(May 18 2024 at 11:59)</a>:</h4>
<p>No reflection. I don't think its possible for the host to know beforehand as it's compiled separately from the app.</p>



<a name="439350107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439350107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439350107">(May 18 2024 at 12:00)</a>:</h4>
<p>aww that's a shame, oh well :)</p>



<a name="439360461"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439360461" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Apurva Mishra <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439360461">(May 18 2024 at 14:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="720794">Silver</span> <a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Writing.20a.20platform/near/439349640">said</a>:</p>
<blockquote>
<p>I'm not yet sure how much type-level hackery Roc allows haha</p>
</blockquote>
<p>From my exploration, I don't think platform exposes much hacking for types. Though, I would really like to see it in future versions.</p>



<a name="439362176"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439362176" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439362176">(May 18 2024 at 15:13)</a>:</h4>
<p>omg i only just realised I put this thread in <a class="stream" data-stream-id="397893" href="/#narrow/stream/397893-announcements">#announcements</a> hahahaha I'm so sorry, I meant to put this in <a class="stream" data-stream-id="231634" href="/#narrow/stream/231634-beginners">#beginners</a></p>



<a name="439362180"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439362180" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439362180">(May 18 2024 at 15:13)</a>:</h4>
<p>Is there a way to move it?</p>



<a name="439369853"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439369853" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439369853">(May 18 2024 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span></p>



<a name="439387912"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439387912" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439387912">(May 18 2024 at 22:50)</a>:</h4>
<p>moved!</p>



<a name="439419644"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Writing%20a%20platform/near/439419644" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Silver <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Writing.20a.20platform.html#439419644">(May 19 2024 at 08:04)</a>:</h4>
<p>Thanks! Sorry for the trouble haha</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
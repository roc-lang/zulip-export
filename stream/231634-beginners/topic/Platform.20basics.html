<html>
<head><meta charset="utf-8"><title>Platform basics · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html">Platform basics</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="467735054"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467735054" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michal Timko <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467735054">(Sep 05 2024 at 06:45)</a>:</h4>
<p>Hello,<br>
I am coming from nodes/js/ts environment and just stumble upon Roc.</p>
<p>I am sorry for being stupid, but I somehow cannot wrap my head about the relationship between core Roc lang and platform. How is it comparable to other languages where you typically have the lang itself, some standard library and various frameworks on top of that?</p>
<p>Also as I understand from few posts, Roc on its own cannot handle IO and is reliant on platform. Isn't it quite limiting to not have such important feature in the basic package? Is there some strong reason to have it this way?</p>



<a name="467737773"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467737773" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467737773">(Sep 05 2024 at 07:00)</a>:</h4>
<p>G'day <span class="user-mention" data-user-id="748533">@Michal Timko</span> , welcome <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> </p>
<p>Have you seen this guide? <a href="https://www.roc-lang.org/platforms">https://www.roc-lang.org/platforms</a></p>



<a name="467740321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467740321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michal Timko <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467740321">(Sep 05 2024 at 07:10)</a>:</h4>
<p>I read through that. <br>
It looks like platform is something like both external library and interface between Roc and another lang, that actually compile some executable from the code.</p>
<p>But the it raise another questions like if it doesn't make Roc just nice interface for Rust and what is possible to do with Roc without platform (can I even compile it to executable without platform?)</p>
<p>So for me is unclear what type of entity the platform is and what I can expect from it. But maybe when i try to build something, it will start making sense.</p>



<a name="467740714"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467740714" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467740714">(Sep 05 2024 at 07:12)</a>:</h4>
<p>Yeah, I definitely recommend you try roc out. Maybe checkout the basic-cli and basic-webserver first. You could then also look at roc-wasm4 (a game platform), or one of the others.</p>



<a name="467742017"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467742017" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michal Timko <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467742017">(Sep 05 2024 at 07:17)</a>:</h4>
<p>My background is web developer, so my first intuition is "how to build server with this?"<br>
And when I read a bit about platforms and the IO limitations, second question was "Can I build https server with this, if I need both web based api and IO in one platform?"</p>
<p>So I will see, what I can do.</p>



<a name="467745191"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467745191" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467745191">(Sep 05 2024 at 07:29)</a>:</h4>
<p><span class="user-mention" data-user-id="748533">@Michal Timko</span> I think Roc's platforms make more explicit the relationship we have to lower level languages. The reason we use JS to write webservers is because we don't want to think about how to do stuff like manage memory or access resources, we want a PL that has done that adequately for us.</p>



<a name="467745490"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467745490" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467745490">(Sep 05 2024 at 07:30)</a>:</h4>
<p>Roc functions as a language that is easy to write in and think about, and actively talks to someone else for the important stuff. But I'd rather write my logic in an easy language like Roc and have Rust do the hard stuff that needs to be done particularly and efficiently</p>



<a name="467745693"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467745693" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467745693">(Sep 05 2024 at 07:31)</a>:</h4>
<p>JS doesn't go quite as far, but there are a lot of "performance critical" libs written in C that get wrapped in JS. Platforms work a similar way to that FFI</p>



<a name="467748533"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467748533" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467748533">(Sep 05 2024 at 07:44)</a>:</h4>
<p>Shameless plug for my demo app <a href="https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo">https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo</a></p>



<a name="467748663"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467748663" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467748663">(Sep 05 2024 at 07:44)</a>:</h4>
<p>If you're coming from a web background, and looking for something to hack around with... you're welcome to play with that and if you want to make a PR with any features I'd be happy to review.</p>



<a name="467748920"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467748920" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467748920">(Sep 05 2024 at 07:45)</a>:</h4>
<p>The goal of that demo is to be a good starting point for building web apps with roc, and demonstrate how to use familiar technologies like htmx and tailwindcss. </p>
<p>There's a lot more we could add in there, I just get distracted easily with other things <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="467749154"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/467749154" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michal Timko <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#467749154">(Sep 05 2024 at 07:46)</a>:</h4>
<p>Thank you,<br>
will look into it.</p>



<a name="468070292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/468070292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#468070292">(Sep 06 2024 at 05:22)</a>:</h4>
<blockquote>
<p>Can I build https server with this, if I need both web based api and IO in one platform?</p>
</blockquote>
<p><a href="https://github.com/roc-lang/basic-webserver">basic-webserver</a> has both, it support for example <a href="https://roc-lang.github.io/basic-webserver/File/#write">File.write</a>, <a href="https://roc-lang.github.io/basic-webserver/Stdout/#line">Stdout.line</a> and <a href="https://roc-lang.github.io/basic-webserver/Http/#get">Http.get</a>, ...</p>



<a name="468080906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/468080906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michal Timko <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#468080906">(Sep 06 2024 at 06:19)</a>:</h4>
<p>Yeah...I already realize it too. It just that in one speech Feldman mention something along the line that you probably don't need IO for web based apps, so I just assume that web oriented platforms are without IO...silly me.</p>



<a name="568083316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568083316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568083316">(Jan 14 2026 at 21:27)</a>:</h4>
<p>I am writing a basic platform that calls into libsecp256k1 to do some crypto stuff.  I have a platform/host.c  with some LLM help.  it seems like there is a naming convention like roc_fx_blah that allows calling C functions from Roc.  is this documented?</p>



<a name="568086856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568086856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568086856">(Jan 14 2026 at 21:52)</a>:</h4>
<p>Tell me where I'm wrong:   in modern platform Roc, i would create a function signature, within a module, named with an exclamation mark.  this means impure (does it directly imply it's a host-implemented function?).  all calls into the host are impure.  if roc sees this with no def, it will construct a symbol based on the function name, and try to call that symbol.  If I had module Rick, function hull!, then roc constructs roc_fx_rickHull   (note the casing and lack of underscores) and I would need to have this defined in my host.c</p>



<a name="568089874"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568089874" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568089874">(Jan 14 2026 at 22:15)</a>:</h4>
<p>i ran glm on codebase and this is what it said:</p>
<p>There's a Zig-based platform in test-platform-effects-zig/host.zig. Looking at the code, the function naming follows<br>
   the same convention:</p>
<p>The naming convention is:<br>
   •  Strip the ! from the Roc function name<br>
   •  Prefix with roc_fx_<br>
   •  No CamelCase conversion - underscores stay as-is</p>
<p>Examples from the Zig host:</p>
<p>zig<br>
     pub export fn roc_fx_get_line() str.RocStr { ... }<br>
     pub export fn roc_fx_put_line(rocPath: *str.RocStr) i64 { ... }<br>
     pub export fn roc_fx_get_int() GetInt { ... }<br>
     pub export fn roc_fx_id_effectful(input_num: u64) u64 { ... }</p>
<p>So if you had a Roc module with Rick.hull!, the Zig host would define:</p>
<p>zig<br>
     pub export fn roc_fx_hull(...) {<br>
         // your implementation<br>
     }</p>
<p>The key points:</p>
<p>1. <code>!</code> suffix = impure function (side effects)<br>
   2. <code>roc_fx_</code> prefix = foreign function that Roc calls<br>
   3. No casing conversion - original identifier name is preserved<br>
   4. Must be marked pub export in Zig to be callable from Roc</p>



<a name="568089934"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568089934" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568089934">(Jan 14 2026 at 22:15)</a>:</h4>
<p>The calling convention is documented in <a href="https://github.com/roc-lang/roc/blob/2ca9919d86d429751149bd8877e57e9ecbc7243f/src/builtins/host_abi.zig">https://github.com/roc-lang/roc/blob/2ca9919d86d429751149bd8877e57e9ecbc7243f/src/builtins/host_abi.zig</a></p>



<a name="568090040"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568090040" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568090040">(Jan 14 2026 at 22:16)</a>:</h4>
<p>A type module with an annotation only definition is a "hosted effect".</p>



<a name="568090168"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568090168" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568090168">(Jan 14 2026 at 22:17)</a>:</h4>
<p>Ah... are you talking about the new compiler or the old rust one?</p>



<a name="568090181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568090181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568090181">(Jan 14 2026 at 22:17)</a>:</h4>
<p>They're quite different</p>



<a name="568090452"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568090452" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568090452">(Jan 14 2026 at 22:19)</a>:</h4>
<p>Host calling into Roc -- these are the entrypoints which are defined in the platform header "provides" section</p>
<p>Roc calling back into Host -- these are the hosted effects, i.e. functions without definition like <code>hull! : Str =&gt; {}</code></p>



<a name="568093497"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568093497" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568093497">(Jan 14 2026 at 22:41)</a>:</h4>
<p>Thanks, this is helpful!  so the module name is no longer included?  I suppose I am asking about hosted effects.  also, I am currently using C and gcc on the host side.  i haven't actually installed roc yet, heh</p>



<a name="568093759"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568093759" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568093759">(Jan 14 2026 at 22:43)</a>:</h4>
<p><a href="https://gist.github.com/rickhull/e4ae108e4f00de5582f37689146003c0">https://gist.github.com/rickhull/e4ae108e4f00de5582f37689146003c0</a>    how does this look?</p>



<a name="568094442"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568094442" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568094442">(Jan 14 2026 at 22:50)</a>:</h4>
<p>also, where does the zig (rust?) for basic-cli live?  i was looking for e.g. platform/host.zig     is that an old convention?</p>



<a name="568094696"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568094696" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568094696">(Jan 14 2026 at 22:52)</a>:</h4>
<p>The basic-cli platform is still in the process of being migrated to the new compiler, you can see the work here <a href="https://github.com/roc-lang/basic-cli/pull/413">https://github.com/roc-lang/basic-cli/pull/413</a></p>
<p>My <a href="https://github.com/lukewilliamboswell/roc-platform-template-zig">roc-platform-template-zig</a> and <a href="https://github.com/lukewilliamboswell/roc-platform-template-rust">roc-platform-template-rust</a> are both already upgraded to the new compiler.</p>



<a name="568094801"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568094801" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568094801">(Jan 14 2026 at 22:54)</a>:</h4>
<p>Yes the <code>module</code> keyword has been deprecated. We now use "type modules" which are centered around a single nominal type with associated functions, like </p>
<div class="codehilite"><pre><span></span><code>Sqlite := [].{
    ...
}
</code></pre></div>



<a name="568094862"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568094862" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568094862">(Jan 14 2026 at 22:55)</a>:</h4>
<p>All of your syntax is for the old rust compiler... are you wanting to write a platform for that or the new compiler?</p>



<a name="568095253"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568095253" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568095253">(Jan 14 2026 at 22:58)</a>:</h4>
<p>the new compiler is more fun, join us <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="568118519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568118519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568118519">(Jan 15 2026 at 03:19)</a>:</h4>
<p>I think I should probably keep it simple and use whatever is most documented.  i might then migrate to the new compiler.  it won't be much code</p>



<a name="568119974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568119974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568119974">(Jan 15 2026 at 03:42)</a>:</h4>
<p>I'd recommend the new compiler, it's a much more sane experience for platform authors.</p>



<a name="568129874"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568129874" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568129874">(Jan 15 2026 at 05:53)</a>:</h4>
<p>what are some good approaches for length validation?  for example, a 32 byte SHA256 result.  my current understanding is this would commonly be represented as List U8.  I have come up with a way to make a Digest type that does some length validation.  basically an opaque type, accompanied by a constructor function that does the validation.</p>



<a name="568130009"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568130009" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568130009">(Jan 15 2026 at 05:56)</a>:</h4>
<p>If I wanted to guarantee something was a fixed size, I would use a nominal record </p>
<div class="codehilite"><pre><span></span><code>SHA256 :: {
    field1: U8,
    field2: U8,
    field3: U8,
    field4: U8,
    field5: U8,
    ....
}.{
    ## put methods here to work with etc
}
</code></pre></div>



<a name="568130183"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568130183" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568130183">(Jan 15 2026 at 05:59)</a>:</h4>
<p>Another advantage of this over a list is that it isn't refcounted</p>



<a name="568130199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568130199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568130199">(Jan 15 2026 at 05:59)</a>:</h4>
<p>hmmm, i would never want to address the individual fields.  but this is interesting.</p>



<a name="568130436"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568130436" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568130436">(Jan 15 2026 at 06:01)</a>:</h4>
<p>i am calling into libsecp256k1; is it sensible to stick with C, or should I try Zig?  I am a bad C programmer ;)</p>



<a name="568130630"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568130630" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568130630">(Jan 15 2026 at 06:03)</a>:</h4>
<p>zig zig zig</p>



<a name="568352333"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568352333" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568352333">(Jan 16 2026 at 03:53)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> can I strongly request that your platform templates be added to: <a href="https://www.roc-lang.org/platforms">https://www.roc-lang.org/platforms</a>   where it says:</p>
<blockquote>
<p>Anyone can implement their own platform. There isn't yet an official guide about how to do this, so the best way to get help if you'd like to create a platform is to <a href="#narrow/stream/231634-beginners">say hi in the <code>#beginners</code> channel</a> on <a href="https://roc.zulipchat.com/">Roc Zulip!</a></p>
</blockquote>



<a name="568390888"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568390888" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568390888">(Jan 16 2026 at 09:29)</a>:</h4>
<p>I will improve the docs there</p>



<a name="568392072"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568392072" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568392072">(Jan 16 2026 at 09:35)</a>:</h4>
<p><a href="https://github.com/roc-lang/www.roc-lang.org/pull/46">https://github.com/roc-lang/www.roc-lang.org/pull/46</a></p>



<a name="568446253"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568446253" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568446253">(Jan 16 2026 at 14:24)</a>:</h4>
<p>I am still working on my libsecp256k1 platform, but I started from roc-platform-template-zig this time, and I'm using the latest nightly compiler.  however, I am getting a lot of weird errors that don't agree with the tutorial or stdlib.  e.g.</p>
<p>Error: Exit code 1<br>
     roc hello_world.roc<br>
     -- DOES NOT EXIST --------------------------------</p>
<div class="codehilite"><pre><span></span><code> Num.to_str does not exist.

    ┌─ hello_world.roc:19:36
    │
 19 │     Stdout.line!(&quot;pubkey length: ${Num.to_str(len)}&quot;)
    │                                    ^^^^^^^^^^
</code></pre></div>



<a name="568450855"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568450855" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568450855">(Jan 16 2026 at 14:44)</a>:</h4>
<p><a href="https://gist.github.com/rickhull/7e3c2468f2327853d29b00391824cf63">https://gist.github.com/rickhull/7e3c2468f2327853d29b00391824cf63</a>    why might this be happening?</p>



<a name="568451937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568451937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568451937">(Jan 16 2026 at 14:49)</a>:</h4>
<p>The tutorial and stdlib docs are for roc alpha 4, for the new nightlies you can look at:</p>
<ul>
<li><a href="https://github.com/roc-lang/roc/blob/main/src/build/roc/Builtin.roc">https://github.com/roc-lang/roc/blob/main/src/build/roc/Builtin.roc</a></li>
<li><a href="https://github.com/roc-lang/roc/blob/main/test/fx/all_syntax_test.roc">https://github.com/roc-lang/roc/blob/main/test/fx/all_syntax_test.roc</a></li>
</ul>



<a name="568452731"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568452731" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568452731">(Jan 16 2026 at 14:53)</a>:</h4>
<p>I see -- and this implied by the redirect URL.     now, it looks like I have roc-src on one commit (from Jan 1) but my compiler is from Jan 15.  going to fix this and retry with the proper builtin calls</p>



<a name="568453519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568453519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568453519">(Jan 16 2026 at 14:56)</a>:</h4>
<p>If you are using the nightly compiler from <a href="https://github.com/roc-lang/nightlies/releases">https://github.com/roc-lang/nightlies/releases</a> you probably do not need roc-src as well</p>



<a name="568453718"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568453718" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568453718">(Jan 16 2026 at 14:57)</a>:</h4>
<p>I think Luke used roc-src for easy debugging</p>



<a name="568454840"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568454840" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568454840">(Jan 16 2026 at 15:02)</a>:</h4>
<p>to what extent is the tutorial specific to alpha-4?  is it just the builtin calls or is it more subtle?</p>



<a name="568457525"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568457525" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568457525">(Jan 16 2026 at 15:14)</a>:</h4>
<p>It's quite broad, alpha4 has different syntax, different features, different builtins. For a quick comparison between alpha4 and the new compiler(=nightlies) you can check <a href="https://github.com/roc-lang/roc/blob/main/test/fx/all_syntax_test.roc">https://github.com/roc-lang/roc/blob/main/test/fx/all_syntax_test.roc</a> vs <a href="https://github.com/roc-lang/examples/blob/main/examples/AllSyntax/main.roc">https://github.com/roc-lang/examples/blob/main/examples/AllSyntax/main.roc</a> (alpha4)</p>



<a name="568496021"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568496021" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568496021">(Jan 16 2026 at 18:17)</a>:</h4>
<p>What do we think about possibly adopting Just (justfile) instead of shell scripts?  I have only just started using it (heh), and I've found it fantastically easy and helpful.   for example, instead of <code>roc-platform-template-zig/bundle.sh</code>    there would be a <code>just bundle</code> task.  instead of <code>ci/all_test.sh</code>, <code>just ci</code><br>
I understand that it's not desirable to force tooling like this on users, but it seems like a nicer fit for my own projects</p>



<a name="568499712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568499712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568499712">(Jan 16 2026 at 18:37)</a>:</h4>
<p>Just does not come pre-installed on github CI, that's already adding more friction than I would like. Also, I would like to convert the sh scripts to Roc scripts once basic-cli is ported for the new compiler and works well enough. Roc does not come pre-installed on CI but it's good to test our own stuff in the real world :)</p>



<a name="568499995"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568499995" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568499995">(Jan 16 2026 at 18:39)</a>:</h4>
<p>good to know.  i see that Just also executes each line in its own shell environment, so complex scripts are not suited.  I haven't looked at build.roc but I have come across it.  and I am also using build.zig.zon    so, many things overlap.  what is the story with build.roc ?</p>



<a name="568500218"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568500218" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568500218">(Jan 16 2026 at 18:40)</a>:</h4>
<p>isn't there some way to specify some existing tools in the GH CI environment, like in a cached image or something?</p>



<a name="568501126"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568501126" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568501126">(Jan 16 2026 at 18:46)</a>:</h4>
<blockquote>
<p>what is the story with build.roc ?</p>
</blockquote>
<p>build.roc should be in charge of building the platform. old Roc did not work well on windows so you may see e.g. .sh files instead.</p>



<a name="568501315"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568501315" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568501315">(Jan 16 2026 at 18:47)</a>:</h4>
<p>what about testing conventions?  I am vaguely aware of the <code>expect</code> keyword.  in my case, I am working on a platform first, so my question is maybe oriented around platforms.  i am tempted to make e.g. test/host.roc to test functions in the Host module.  I have also seen examples/test.roc</p>



<a name="568501379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568501379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568501379">(Jan 16 2026 at 18:48)</a>:</h4>
<blockquote>
<p>isn't there some way to specify some existing tools in the GH CI environment, like in a cached image or something?</p>
</blockquote>
<p>github cache space is precious with only 10 GB which is easily filled with all the different systems we have to support.</p>



<a name="568501815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568501815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568501815">(Jan 16 2026 at 18:50)</a>:</h4>
<p>i know this is a bad idea, but I wonder if we should use a different forge as the central repo, or even run our own.  and mirror to GH.  I can imagine it just adds operational headache and expense</p>



<a name="568502202"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568502202" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568502202">(Jan 16 2026 at 18:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568501315">said</a>:</p>
<blockquote>
<p>what about testing conventions?  I am vaguely aware of the <code>expect</code> keyword.  in my case, I am working on a platform first, so my question is maybe oriented around platforms.  i am tempted to make e.g. test/host.roc to test functions in the Host module.  I have also seen examples/test.roc</p>
</blockquote>
<p>For end-to-end integration tests I typically use expect: <a href="https://github.com/roc-lang/basic-cli/blob/main/ci/expect_scripts/bytes-stdin-stdout.exp">https://github.com/roc-lang/basic-cli/blob/main/ci/expect_scripts/bytes-stdin-stdout.exp</a> . I also want to replace that with Roc when possible though.</p>
<p>Example for unit tests: <a href="https://github.com/roc-lang/basic-cli/blob/b5bc8ba9435633cd4aeea28d116127eeaea818d2/platform/Url.roc#L513">https://github.com/roc-lang/basic-cli/blob/b5bc8ba9435633cd4aeea28d116127eeaea818d2/platform/Url.roc#L513</a></p>



<a name="568502692"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568502692" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568502692">(Jan 16 2026 at 18:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568501815">said</a>:</p>
<blockquote>
<p>i know this is a bad idea, but I wonder if we should use a different forge as the central repo, or even run our own.  and mirror to GH.  I can imagine it just adds operational headache and expense</p>
</blockquote>
<p>It's hard to beat free CI <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="568502894"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568502894" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568502894">(Jan 16 2026 at 18:56)</a>:</h4>
<p>for my use case: I have <code>just nuke</code>, <code>just clean</code>, <code>just build</code>, etc.  i am trying to support an edit-build-test cycle.  i currently have a <code>just run</code>, which just does something like <code>roc hello_world.roc</code> or <code>roc main.roc</code>. </p>
<p>so then I have some workflow tasks: <code>just dev</code> (build + run), <code>just fresh</code> (clean + dev).   <code>just nuke</code> wipes all cache and is invoked on its own.   i think <code>just run</code> is actually a bad idea and I really want <code>just test</code>.  this would run "unit tests" that are roughly analogous to smoke tests, doing slightly more than hello world to show the build was successful</p>



<a name="568503053"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568503053" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568503053">(Jan 16 2026 at 18:57)</a>:</h4>
<p>test/host.roc, test/sha256.roc, test/sign.roc      something like that</p>



<a name="568503563"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568503563" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568503563">(Jan 16 2026 at 18:59)</a>:</h4>
<p>I like simple commands too, I have it set up with nix:</p>
<div class="codehilite"><pre><span></span><code>roc/src on  zig-compiler-benchmarks
❯ nix develop
Restored session: Fri Jan 16 19:58:49 CET 2026
Some convenient commands:
  buildcmd =   zig build roc
  testcmd =   zig build snapshot &amp;&amp; zig build test
  fmtcmd =   zig build fmt
  covcmd =   zig build coverage
  cicmd =   zig build fmt &amp;&amp; ./ci/zig_lints.sh &amp;&amp; zig build &amp;&amp; zig build snapshot &amp;&amp; zig build test &amp;&amp; zig build test-playground &amp;&amp; zig build coverage
$
</code></pre></div>



<a name="568503791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568503791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568503791">(Jan 16 2026 at 19:00)</a>:</h4>
<p>I used to run nixos and have used nix in anger, but I emphasize anger.  it never clicked for me.  but I think there could be some really cool synergy / symmetry with its immutable nature and use in build environments</p>



<a name="568504038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568504038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568504038">(Jan 16 2026 at 19:02)</a>:</h4>
<p>so it looks like you are really leaning on the zig runner (?) in a way that I'm not.  maybe that's a natural direction to go in</p>



<a name="568504305"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568504305" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568504305">(Jan 16 2026 at 19:03)</a>:</h4>
<blockquote>
<p>so it looks like you are really leaning on the zig runner (?)</p>
</blockquote>
<p>Yes for the main repo, a ton is in build.zig. It has been working well for us.</p>



<a name="568504491"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568504491" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568504491">(Jan 16 2026 at 19:04)</a>:</h4>
<p>I am brand new to Zig, Roc, and platforms.  nearly all of my direct experience is with scripts against runtimes (shell, ruby, elixir, etc).  but I've long had an itch for gradual-strong typing (to enforce correctness without being a huge PITA) and deployable artifacts (no runtime)<br>
I guess what I'm getting at is that I started with roc-alpha-4 and C, so I needed a Makefile (ugh!).  then I adopted Just (yay!).  but now that I'm basing my host on Zig, there is a world of Zig tooling that I'm totally unaware of, analogous but not exactly comparable to the C ecosystem (a good thing!)</p>



<a name="568504743"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568504743" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568504743">(Jan 16 2026 at 19:06)</a>:</h4>
<p>I'm signing off for today <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> but others should be available for additional questions :)</p>



<a name="568522367"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568522367" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568522367">(Jan 16 2026 at 20:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568504305">said</a>:</p>
<blockquote>
<blockquote>
<p>so it looks like you are really leaning on the zig runner (?)</p>
</blockquote>
<p>Yes for the main repo, a ton is in build.zig. It has been working well for us.</p>
</blockquote>
<p>I use zig build system for every language lol zig4lyfe</p>



<a name="568522691"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568522691" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568522691">(Jan 16 2026 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568503791">said</a>:</p>
<blockquote>
<p>I used to run nixos and have used nix in anger, but I emphasize anger.  it never clicked for me.  but I think there could be some really cool synergy / symmetry with its immutable nature and use in build environments</p>
</blockquote>
<p>I have such a like/dislike relationship with nix. On the one hand it think it's conceptually kinda cool. On the other hand, I've usually been able to do something similar much simpler</p>



<a name="568523208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568523208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568523208">(Jan 16 2026 at 21:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568504491">said</a>:</p>
<blockquote>
<p>I am brand new to Zig, Roc, and platforms.  nearly all of my direct experience is with scripts against runtimes (shell, ruby, elixir, etc).  but I've long had an itch for gradual-strong typing (to enforce correctness without being a huge PITA) and deployable artifacts (no runtime)<br>
I guess what I'm getting at is that I started with roc-alpha-4 and C, so I needed a Makefile (ugh!).  then I adopted Just (yay!).  but now that I'm basing my host on Zig, there is a world of Zig tooling that I'm totally unaware of, analogous but not exactly comparable to the C ecosystem (a good thing!)</p>
</blockquote>
<p>I was building a zig/rust hybrid project the other day, this is a section of my zig build file</p>
<div class="codehilite"><pre><span></span><code>    // =========================================================================
    // Step 1: Build Rust Library
    // =========================================================================
    const cargo_build = b.addSystemCommand(&amp;[_][]const u8{
        &quot;cargo&quot;,
        &quot;build&quot;,
        &quot;--release&quot;,
        &quot;--lib&quot;,
        &quot;--features&quot;,
        &quot;gtk&quot;,
    });
    cargo_build.cwd = b.path(&quot;.&quot;);
</code></pre></div>



<a name="568547361"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568547361" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568547361">(Jan 17 2026 at 01:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/568499712">said</a>:</p>
<blockquote>
<p>Just does not come pre-installed on github CI, that's already adding more friction than I would like. Also, I would like to convert the sh scripts to Roc scripts once basic-cli is ported for the new compiler and works well enough. Roc does not come pre-installed on CI but it's good to test our own stuff in the real world :)</p>
</blockquote>
<p>Yeah -- basic cli was such a nice cross-platform scripting setup. We'll be back there soon <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="568549344"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568549344" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan G Knutson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568549344">(Jan 17 2026 at 01:58)</a>:</h4>
<p>a <code>/scripts</code> dir full of <code>.roc</code> files would let you claim to be partially self-hosted</p>



<a name="568554717"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554717" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554717">(Jan 17 2026 at 03:36)</a>:</h4>
<p>I ran into a very confusing issue where my <code>platform/host.zig</code> has <code>hosted_function_ptrs</code> with a specific order, and when I removed some modules from my <code>exposes</code> in <code>platform/main.roc</code> for troubleshooting, the wrong functions were being called.  this coupling seems difficult to validate and troubleshoot.  have people run into this before?</p>



<a name="568554839"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554839" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554839">(Jan 17 2026 at 03:37)</a>:</h4>
<p>The hosted functions are those exposed by the platform... so this makes sense in that it's the platform authors responsibility to ensure the function pointers are in the correct order.</p>



<a name="568554884"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554884" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554884">(Jan 17 2026 at 03:38)</a>:</h4>
<p>This statement probably doesn't help you much though. I think you and I may be the only people who have written a platform in the new compiler <span class="user-mention" data-user-id="780900">@Rick Hull</span> <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="568554906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554906">(Jan 17 2026 at 03:39)</a>:</h4>
<p>The order is alphabetical based on fully qualified name if I recall.</p>



<a name="568554962"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554962" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554962">(Jan 17 2026 at 03:40)</a>:</h4>
<p>I'd like to mention also... that the intended design for platform authors is to use <code>roc glue</code> instead of rolling all these manually. We are just in that awkward place in time where the <code>glue</code> subcommand isn't implemented yet for the new compiler so it's all manual</p>



<a name="568554999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568554999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568554999">(Jan 17 2026 at 03:40)</a>:</h4>
<p>All quite sensible, thanks!</p>



<a name="568555035"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568555035" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568555035">(Jan 17 2026 at 03:41)</a>:</h4>
<p><code>roc glue path/to/generate_c_platform.roc path/to/my/platform/main.roc</code> or something like that and it scaffolds out literally everything you need with a nice type safe (maybe not in C <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> ) implementation.</p>



<a name="568555076"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568555076" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568555076">(Jan 17 2026 at 03:42)</a>:</h4>
<p>i'm so happy with the zig template and the zig DX, compared to trying make a platform from scratch in C as my "hello world" LOL.  i don't mind a little less magic at this stage.</p>
<p>I literally could not have done it without extensive help from Claude code (<a href="http://z.ai">z.ai</a> models, cheaper) and a little bit of Gemini CLI (free)</p>



<a name="568555857"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568555857" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568555857">(Jan 17 2026 at 03:59)</a>:</h4>
<p>On of the assumptions we have for the future is that platforms will be abundant and should be easy to fork and modify to meet individual needs. It's good to know that LLM's can help with that and the tools should only make that even easier I think. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="568591212"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568591212" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan G Knutson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568591212">(Jan 17 2026 at 14:29)</a>:</h4>
<p>re: justfile, one thing I do sometimes is add one for just myself (like a script for installing), and then put it in <code>.git/info/exclude</code>. In the case of the roc repo, they already ignore extra files with no extensions, so you just need to be careful to not delete it. I think just also has some walk-up-the-tree feature that would let you keep your personal scripts for a repo outside the repo (or you could symlink it)</p>



<a name="568622583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568622583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568622583">(Jan 17 2026 at 23:18)</a>:</h4>
<p>the way I have decided to structure my project for now, is I have <code>examples/</code> and <code>test/</code>;  I have <code>test/host.roc</code> and <code>test/host.zig</code>, targeting <code>platform/Host.roc</code> and <code>platform/host.zig</code> respectively.  I can use the roc and zig test runners, but I am using Just as "my metalayer" to tie everything together and support "complex workflows" like edit-build-test (heh)</p>
<p>for a scripts-on-runtime-person, i am used to executing things immediately, and i don't automatically know to e.g. <code>zig build test</code> but Just helps me with that</p>



<a name="568622889"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568622889" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568622889">(Jan 17 2026 at 23:25)</a>:</h4>
<p>also, I think zig has a feature, or is this roc?, where you put the tests in the implementation file, at the toplevel.   maybe I should use that more?</p>



<a name="568632950"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568632950" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568632950">(Jan 18 2026 at 03:33)</a>:</h4>
<p>to answer my question, zig supports inline tests at the toplevel, but these have a restricted "scope" -- they should be used like unit tests for pure-ish functions defined within the file.</p>
<p>roc supports inline tests at the toplevel, what I am calling <code>comptime</code> tests.  these use the <code>expect</code> keyword invoked by <code>roc test</code>.  or you can make a "test script" that calls <code>expect</code> within a main function.  these are <code>runtime</code> tests invoked by <code>roc</code>.</p>
<p>Is this accurate?</p>



<a name="568635456"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568635456" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568635456">(Jan 18 2026 at 04:32)</a>:</h4>
<p>Separately, all host functions are impure by definition, and pure functions cannot call impure functions.  so if my application is purely functional, then I cannot call any platform functions?</p>
<p>I know I have a misunderstanding somewhere, just not sure where</p>



<a name="568635909"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568635909" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568635909">(Jan 18 2026 at 04:36)</a>:</h4>
<p><code>expect</code> at the top level is a unit test - these are run with <code>roc test</code><br>
<code>expect</code> within an expression (like a block expression) is an assertion - these throw a runtime error if not true.</p>



<a name="568636676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568636676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568636676">(Jan 18 2026 at 04:52)</a>:</h4>
<p>this confirms, but gives me better language.  unit test vs assertion</p>



<a name="568639454"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568639454" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568639454">(Jan 18 2026 at 05:41)</a>:</h4>
<p>important detail: unlike assertions, <code>expect</code> never stops execution</p>



<a name="568639482"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568639482" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568639482">(Jan 18 2026 at 05:42)</a>:</h4>
<p>it will cause a test to fail, and it will <em>report</em> an error, but program execution always continues normally no matter what happens with them</p>



<a name="568639536"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568639536" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568639536">(Jan 18 2026 at 05:43)</a>:</h4>
<p>The platform host has a special handler it provides Roc <code>roc_expect_failed</code> or similar which is called when these fail right?</p>



<a name="568639548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568639548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568639548">(Jan 18 2026 at 05:44)</a>:</h4>
<p>So the platform author is responsible for deciding what to do with that</p>



<a name="568639616"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568639616" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568639616">(Jan 18 2026 at 05:46)</a>:</h4>
<p>true, but in <code>--optimize</code> builds the <code>expect</code>s are removed, so the semantics of that function are supposed to match - just report, don't end the program</p>



<a name="568660162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568660162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568660162">(Jan 18 2026 at 12:25)</a>:</h4>
<p>ah, good point.  in a test suite, keep going.  but a failed runtime assertion should halt.  so expect is not ideal in a "runtime test suite"</p>



<a name="568660393"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568660393" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568660393">(Jan 18 2026 at 12:28)</a>:</h4>
<p>Still wondering, if all host functions are impure by definition, and pure functions cannot call impure functions, so if my application is purely functional, then I cannot call any platform functions?   This doesn't seem quite right.</p>



<a name="568661510"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568661510" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568661510">(Jan 18 2026 at 12:48)</a>:</h4>
<blockquote>
<p>so expect is not ideal in a "runtime test suite"</p>
</blockquote>
<p>yeah, if you want the program to halt, that's what <code>crash</code> is for</p>



<a name="568662535"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568662535" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568662535">(Jan 18 2026 at 13:06)</a>:</h4>
<p>oh, good clarification.  runtime expect throws an error (which would interrupt a typical test suite) but does not automatically halt</p>



<a name="568664162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568664162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568664162">(Jan 18 2026 at 13:37)</a>:</h4>
<p>it doesn't interrupt the test suite, it adds to a list of failed expectations</p>



<a name="568664171"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568664171" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568664171">(Jan 18 2026 at 13:38)</a>:</h4>
<p>and then at the end of the suite, they all get aggregated and reported together</p>



<a name="568666048"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568666048" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568666048">(Jan 18 2026 at 14:09)</a>:</h4>
<p>that's only the comptime <code>expect</code> at the toplevel, as executed by <code>roc test</code>, right?   and what i'm calling runtime <code>expect</code>, within a block, would throw a runtime error if it fails, and this error would typically interrupt a naive test suite that is just a series of assertions.  that is: a test suite which is not prepared to handle the error thrown by expect.  or would such a test suite be forced to handle the error?  i'm still trying to figure this stuff out but I'm sure it will become obvious to me with more usage</p>



<a name="568666370"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568666370" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568666370">(Jan 18 2026 at 14:14)</a>:</h4>
<p>the number one rule of <code>expect</code> is that it never affects control flow in any way</p>



<a name="568666375"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568666375" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568666375">(Jan 18 2026 at 14:15)</a>:</h4>
<p>no matter where it is used</p>



<a name="568666397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568666397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568666397">(Jan 18 2026 at 14:15)</a>:</h4>
<p>it is a harmless report</p>



<a name="568666495"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568666495" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568666495">(Jan 18 2026 at 14:16)</a>:</h4>
<p>maybe a better way to think of it is "debug print that an expectation was false, and then mark this test as 'must fail' when it finishes running"</p>



<a name="568667919"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568667919" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568667919">(Jan 18 2026 at 14:38)</a>:</h4>
<p>Thanks!  Big fan of the podcast, and I made my introduction here about a year ago, but my focus shifted.  Glad to be back</p>



<a name="568779099"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568779099" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568779099">(Jan 19 2026 at 11:29)</a>:</h4>
<blockquote>
<p>zig4lyfe</p>
</blockquote>
<p>That would be cool for a tattoo :p <br>
Fun fact: a former contributor has a tattoo of the Roc logo <img alt=":roc:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/5f42d943.png" title="roc"></p>



<a name="568873294"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568873294" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568873294">(Jan 19 2026 at 19:39)</a>:</h4>
<p>what are some guidelines for "platform modules" under roc-nightly?  I know that they must contain at least one Type with the same name.  I was going to make <code>platform/Crypto.roc</code> with nominal tag unions: <code>SecretKey</code> <code>PublicKey</code> <code>Signature</code> <code>Digest</code> but this isn't allowed</p>



<a name="568931220"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568931220" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rachael Sexton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568931220">(Jan 20 2026 at 02:27)</a>:</h4>
<p>I have a strange(?) question...</p>
<p>Most of the best functional workflows I've ever used were for Data science, and I'm seriously looking into how to get e.g. Arrow, BLAS, etc. bindings working in Roc. </p>
<p>My understanding right now is that those kinds of I/O would be done via a platform, right? So there might be an "arrow" platform, or a "BLAS" platform. But the problem I'm running into is ... I would never want to use _only_ BLAS, or _only_ Arrow, rather I would use them to accomplish something in the context of another platform (e.g.  a basic-cli tool)</p>
<p>But I'm seeing the documentation tutorial says every app has "exactly one platform". What is considered "one platform"? In a declaration like: </p>
<p><code>app [main!] { cli: platform "https://github.com/roc-lang/basic-cli/releases/download/0.20.0/X73hGh05nNTkDHU06FHC0YfFaQB1pimX7gncRcao5mU.tar.br" }</code></p>
<p>is the platform only "cli" or is it the whole record? Can I have multiple keys in the platform declaration record?</p>



<a name="568932358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568932358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568932358">(Jan 20 2026 at 02:46)</a>:</h4>
<p>my take, as newbie but also a platform developer, is that you would incorporate all features into the platform.  you can have a "BLAS" module or "arrow" module, and maybe a platform specific to each.  but if you want both, you can have both, if you work to make them live together which is usually not difficult</p>



<a name="568932523"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568932523" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568932523">(Jan 20 2026 at 02:49)</a>:</h4>
<p>what is exactly considered one platform?  <code>basic-cli</code> is an amazing resource.  it has way more features than I would imagine for a <code>basic-cli</code>, but it also stays simple and approachable</p>



<a name="568932585"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568932585" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568932585">(Jan 20 2026 at 02:50)</a>:</h4>
<p>clone this <a href="https://github.com/roc-lang/basic-cli">https://github.com/roc-lang/basic-cli</a> and poke around</p>



<a name="568932648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568932648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568932648">(Jan 20 2026 at 02:51)</a>:</h4>
<p>it looks like you are targeting the documented Roc, which I would call <code>roc-alpha-4</code>, aka the  "old Rust compiler".   Keep in mind, there is a "new Zig compiler" and the language is changing; I personally target <code>roc-nightly</code>, based on the new compiler (and it's a different language).</p>



<a name="568933968"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568933968" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rachael Sexton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568933968">(Jan 20 2026 at 03:14)</a>:</h4>
<p>Ah, but then how would someone else reuse my "blas platform" code? They would have to build their own platform that combines my BLAS I/O with their own platform?</p>



<a name="568939056"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568939056" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568939056">(Jan 20 2026 at 04:25)</a>:</h4>
<p>so BLAS and LAPACK have been two longstanding questions in this area - but this is the first I'm hearing of Arrow! (I know almost nothing about data science; I only know about these libraries because of people asking about them in the context of Roc! <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span>)</p>



<a name="568951803"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568951803" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568951803">(Jan 20 2026 at 06:48)</a>:</h4>
<p><span class="user-mention" data-user-id="1017059">@Rachael Sexton</span> I think the running hypothesis is that platforms will evolve around a domain. So if you are working on a particular kind of software, and having these kind of libraries is necessary for e.g. performance reasons, then I would expect the platform author to think of a good API to integrate those. However I'm not sure they will be exposing the functionality 1-1 with those library APIs but maybe wrapping them in a more ergonomic or idiomatic way. So under the hood a platform may be using a particular library but this isn't a detail an application author would be concerned with.</p>



<a name="568973712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/568973712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#568973712">(Jan 20 2026 at 09:16)</a>:</h4>
<p>A data science platform sounds like the way to go.</p>



<a name="569015556"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569015556" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569015556">(Jan 20 2026 at 12:49)</a>:</h4>
<p>that's probably the way to go for now</p>



<a name="569015643"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569015643" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569015643">(Jan 20 2026 at 12:49)</a>:</h4>
<p>personally I think the most promising long-term direction is using an LLM to port BLAS/LAPACK/etc. to pure Roc</p>



<a name="569015802"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569015802" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569015802">(Jan 20 2026 at 12:50)</a>:</h4>
<p>they're all pure functions and our (currently non-SIMD) numeric code can optimize to the same things that LLVM optimizes to</p>



<a name="569023037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569023037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569023037">(Jan 20 2026 at 13:20)</a>:</h4>
<p>what are some guidelines for "platform modules" using the new compiler? I know that they must contain at least one type with the same name. I was going to make <code>platform/Crypto.roc</code> with nominal tag unions: <code>SecretKey</code> <code>PublicKey</code> <code>Signature</code> <code>Digest</code> but this isn't allowed</p>



<a name="569023372"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569023372" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569023372">(Jan 20 2026 at 13:22)</a>:</h4>
<p>If I just named it <code>Signature.roc</code> would that be expected to work?  I am not sure about visibility / scoping.  I ran in to not being able to resolve e.g. <code>Digest</code> from a test file</p>



<a name="569032852"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569032852" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569032852">(Jan 20 2026 at 13:59)</a>:</h4>
<p>Let me take a moment to try some stuff</p>



<a name="569049476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569049476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rachael Sexton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569049476">(Jan 20 2026 at 14:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569015643">said</a>:</p>
<blockquote>
<p>personally I think the most promising long-term direction is using an LLM to port BLAS/LAPACK/etc. to pure Roc</p>
</blockquote>
<p>Interesting. So, what about cases where a lightweight c library exists already, is it idiomatic for module/library authors to depend on c functions right now? E.g. <a href="https://arrow.apache.org/nanoarrow/latest/index.html">nano arrow</a> should make porting arrow to roc very easy, if so.</p>
<p>Similarly, I wouldn't want to reimplement e.g. <a href="http://pola.rs">pola.rs</a> in roc myself, but it is a rust library that already gets used in node, r, python, and I believe available natively in Nushell</p>



<a name="569051476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569051476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569051476">(Jan 20 2026 at 15:04)</a>:</h4>
<p>The platform can depend on C functions, Luke's <a href="https://github.com/lukewilliamboswell/roc-ray/tree/new-compiler">raylib</a> is basically a complex demonstration of how you can set something like that up.</p>



<a name="569060255"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569060255" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569060255">(Jan 20 2026 at 15:35)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> (platform module resolution) <a href="https://gist.github.com/rickhull/68f3fbf668db9f61598628b29ba0feb0">https://gist.github.com/rickhull/68f3fbf668db9f61598628b29ba0feb0</a></p>



<a name="569060814"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569060814" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569060814">(Jan 20 2026 at 15:37)</a>:</h4>
<p>Thanks Rick, I will try to make that work or make an issue</p>



<a name="569066478"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569066478" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569066478">(Jan 20 2026 at 15:59)</a>:</h4>
<p>oh whoops, you'll need Signature.roc; <del>updating</del> UPDATED</p>
<p>My presumption is that I'm <strong>Doing It Wrong (tm)</strong></p>



<a name="569069490"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569069490" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569069490">(Jan 20 2026 at 16:08)</a>:</h4>
<blockquote>
<p>Similarly, I wouldn't want to reimplement e.g. <a href="http://pola.rs/">pola.rs</a> in roc myself, but it is a rust library that already gets used in node, r, python, and I believe available natively in Nushell</p>
</blockquote>
<p>I think <a href="http://pola.rs">pola.rs</a> is a good model for what I'm talking about - the <a href="http://pola.rs">pola.rs</a> folks didn't do FFI to the C code underlying the already-popular pandas, they built a new library in pure Rust <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="569069641"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569069641" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569069641">(Jan 20 2026 at 16:09)</a>:</h4>
<p>building new things can be done, and I think there's a lot of precedent for it being the way to get the best outcome!</p>



<a name="569077267"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569077267" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569077267">(Jan 20 2026 at 16:40)</a>:</h4>
<p>To further this idea, I am writing <code>nostr-platform</code>, mainly so I can build on top of libsecp256k1.  I could implement Schnorr signatures in Roc -- I've already done it <a href="https://github.com/rickhull/schnorr_sig">in Ruby</a>, maybe the repo I am most proud of, done entirely without LLM <del>assistance</del> agents or code.  (I used a lot of LLM assistance for understanding elliptic curve crypto.  See the README.md -- it's great, and written by me!)</p>
<p>But in this case, it makes much more sense to rely on a battle-tested lib (Bitcoin!) for important crypto stuff.</p>



<a name="569077662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569077662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569077662">(Jan 20 2026 at 16:42)</a>:</h4>
<blockquote>
<p>for important crypto stuff.</p>
</blockquote>
<p>Yeah in that case you want to use the original lib indeed</p>



<a name="569079841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569079841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569079841">(Jan 20 2026 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> for the platform module, I can access <code>Signature.Digest</code> but not <code>Digest</code>.  so the module acts as a namespace.  I would like to name it <code>Crypto.roc</code> and I'd be fine with <code>Crypto.Signature</code> but I have to expose a "Crypto type".  is this a misfeature?</p>



<a name="569080159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569080159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569080159">(Jan 20 2026 at 16:52)</a>:</h4>
<p>No, I think that is as intended</p>



<a name="569080635"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569080635" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569080635">(Jan 20 2026 at 16:54)</a>:</h4>
<p>So if I just want a Crypto namespace, what should a trivial Crypto type look like?  or maybe I will have a real type?  for what?</p>



<a name="569080963"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569080963" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569080963">(Jan 20 2026 at 16:56)</a>:</h4>
<p>alternatively, I could have Digest.roc PublicKey.roc etc.  that seems fine, if maybe a bit chatty.  Is that more along the intent of platform modules?</p>



<a name="569081017"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569081017" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569081017">(Jan 20 2026 at 16:56)</a>:</h4>
<p>For the trivial type you can do <code>Crypto := [].{}</code></p>



<a name="569081143"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569081143" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569081143">(Jan 20 2026 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> may have useful thoughts here</p>



<a name="569083251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569083251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569083251">(Jan 20 2026 at 17:06)</a>:</h4>
<p>with more testing, I am thinking I should have these nominal tag unions be their own module.  it just seems like less friction.  but i am continuing to test.</p>



<a name="569084400"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569084400" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569084400">(Jan 20 2026 at 17:11)</a>:</h4>
<p><a href="https://gist.github.com/rickhull/c5f63e552465180f4e3c76b99e460f57">https://gist.github.com/rickhull/c5f63e552465180f4e3c76b99e460f57</a>   (generated via: <code>./rocgist.sh test/signature.roc platform/Crypto.roc</code>)</p>



<a name="569084744"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569084744" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569084744">(Jan 20 2026 at 17:12)</a>:</h4>
<p>this tells me that the trivial type as namespace is flawed.  i am going to put the nominal tag unions as their own modules and move on</p>



<a name="569109519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569109519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569109519">(Jan 20 2026 at 19:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569081017">said</a>:</p>
<blockquote>
<p>For the trivial type you can do <code>Crypto := [].{}</code></p>
</blockquote>
<p>We had a builtin named the same, though I guess now these crypto stuff would just live under <code>Builtin</code> now so that namespace is free to use if people want to roll thier own. </p>
<p>We decided that most of the core cryptographic algorithms should ge implemented by Roc so we can garuntee they are secure and avoid timing attacks. At least that is what I recall, I would need to dig out the zulip thread to refresh myself. We haven't implemented any crypto in the new builtins yet.</p>



<a name="569109932"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569109932" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569109932">(Jan 20 2026 at 19:19)</a>:</h4>
<p>See <a href="https://github.com/roc-lang/roc/pull/6977">https://github.com/roc-lang/roc/pull/6977</a></p>



<a name="569110316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569110316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569110316">(Jan 20 2026 at 19:22)</a>:</h4>
<p>I dont see any issue with implementing algorthims in pure Roc for learning etc, but just wanted to mention this as we haven't talked about it in a while.</p>



<a name="569113186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569113186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569113186">(Jan 20 2026 at 19:37)</a>:</h4>
<p>Interesting.  I have rolled my own crypto systems before, but always for test, not production, stuff like 3DES EDE-CBC; not a crypto engineer; I implemented schnorr sig as an exercise in learning elliptic curve crypto and to enable a pure ruby nostr impl.  I don't think I was hitting a name clash with my Roc attempts.  I have now abandoned the name "Crypto" in my current platform impl.</p>



<a name="569570145"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569570145" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569570145">(Jan 22 2026 at 19:10)</a>:</h4>
<p>I am working on <a href="https://gist.github.com/rickhull/eb8553868ed70b6731b8a31054bda3c0"><code>ZIG_PLATFORM_GUIDE.md</code></a>.  This is a different document than what was here, earlier.  This has a better starting basis, written mostly by me (!), and will be augmented.</p>
<p>I am using claude's help, and this is a little bit of the blind leading the blind, so please highlight any mistakes, errors, misconceptions, or needed fixes.</p>



<a name="569599548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569599548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569599548">(Jan 22 2026 at 22:23)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> ^^ if you get a chance</p>



<a name="569599952"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569599952" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569599952">(Jan 22 2026 at 22:25)</a>:</h4>
<p>It's very meh... there is some detail that is mostly right, and others that is overly specific to the zig template.</p>



<a name="569600027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600027">(Jan 22 2026 at 22:26)</a>:</h4>
<p>I wouldn't want to share something like that as an authoritative guide or anything as it would probably mostly confuse people</p>



<a name="569600139"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600139" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600139">(Jan 22 2026 at 22:27)</a>:</h4>
<p>Regarding platform documentation -- I think we are intentionally leaving this undocumented for now.</p>



<a name="569600263"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600263" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600263">(Jan 22 2026 at 22:27)</a>:</h4>
<p>There are higher priorities, and platform development requires a much higher level of knowledge and experience than application development.</p>



<a name="569600403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600403">(Jan 22 2026 at 22:28)</a>:</h4>
<p>There are many details that are still being validated with the new calling convention. I think it <em>should</em> be stable but there are still a lot of things that just haven't been built yet and so some things may need to change</p>



<a name="569600417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600417">(Jan 22 2026 at 22:28)</a>:</h4>
<p>Good to know.  I am basically documenting what I learned about the Zig template.  it sounds like <code>basic-cli</code> can be used now?  I didn't totally realize that -- it just needs building from source?</p>



<a name="569600498"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600498" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600498">(Jan 22 2026 at 22:29)</a>:</h4>
<p>E.g. we probably need to sort out the Windows linking story -- but that is hard when we don't have any super experienced Windows devs contributing right now, so it just takes a long time to do anything related with that. I take bites at it every now and then because I'd love to see it happen (for the Windows developers out there) but it can be a slog</p>



<a name="569600537"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600537" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600537">(Jan 22 2026 at 22:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569600417">said</a>:</p>
<blockquote>
<p>Good to know.  I am basically documenting what I learned about the Zig template.  it sounds like <code>basic-cli</code> can be used now?  I didn't totally realize that -- it just needs building from source?</p>
</blockquote>
<p>Yeah it's working nicely</p>



<a name="569600654"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600654" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600654">(Jan 22 2026 at 22:30)</a>:</h4>
<p>i want to get <code>basic-cli</code> going now -- what's step 1, just poke around the repo <code>HEAD</code>?</p>



<a name="569600871"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600871" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600871">(Jan 22 2026 at 22:32)</a>:</h4>
<p>I have a windows box, and if there is a way to script builds on windows, i can poke around a bit.  but i'm guessing it would be a huge PITA to get a semblance of a build environment going on a typical windows desktop</p>



<a name="569600898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600898">(Jan 22 2026 at 22:32)</a>:</h4>
<p>Clone <code>https://github.com/roc-lang/basic-cli</code> then <code>git checkout migrate-zig-compiler</code> then <code>./build.sh</code></p>



<a name="569600931"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569600931" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569600931">(Jan 22 2026 at 22:32)</a>:</h4>
<p>You will then be able to run the examples using the platform locally</p>



<a name="569601210"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569601210" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569601210">(Jan 22 2026 at 22:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="780900">Rick Hull</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569600871">said</a>:</p>
<blockquote>
<p>I have a windows box, and if there is a way to script builds on windows, i can poke around a bit.  but i'm guessing it would be a huge PITA to get a semblance of a build environment going on a typical windows desktop</p>
</blockquote>
<p>It's not a huge PITA or anything... it's just that it requires a fairly deep level of expertise in linking and low level things. Not an area the LLMs are able to provide much assistance... it feels more like voodoo science than engineering</p>



<a name="569601353"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569601353" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569601353">(Jan 22 2026 at 22:35)</a>:</h4>
<p>that's like taking the One Ring from gollum <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="569601837"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569601837" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569601837">(Jan 22 2026 at 22:39)</a>:</h4>
<p>I've reframed that doc as <code>ZIG_PLATFORM_GUIDE.md</code> and it lives in <code>roc-init</code> for now.  I think it's ok to have "rough guides" that are not official docs to be relied upon</p>



<a name="569603657"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569603657" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nandi <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569603657">(Jan 22 2026 at 22:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569600898">said</a>:</p>
<blockquote>
<p>Clone <code>https://github.com/roc-lang/basic-cli</code> then <code>git checkout migrate-zig-compiler</code> then <code>./build.sh</code></p>
</blockquote>
<p>I've been working on my own branch, didn't realize this already existed lol</p>



<a name="569604836"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/569604836" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#569604836">(Jan 22 2026 at 23:07)</a>:</h4>
<p>I would say the basic-cli migration is like 3/4 done -- all the <em>hard</em> stuff is behind us, we have resolved all the known bugs that were holding it back now, and we have CI working for all the supported targets. It's only got these modules implemented <code>Cmd, Dir, Env, File, Path, Random, Sleep, Stdin, Stdout, Stderr, Utc</code> so missing things like <code>Http</code> etc... and the implementation of the se modules is definitely a WIP as we need to do a few passes to make these more idiomatic with the new static dispatch approach.</p>



<a name="571784052"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571784052" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Romain Lepert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571784052">(Feb 03 2026 at 23:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/569015802">said</a>:</p>
<blockquote>
<p>they're all pure functions and our (currently non-SIMD) numeric code can optimize to the same things that LLVM optimizes to</p>
</blockquote>
<p>Here is the kind of code that needs to be written in Mojo to write efficient matmul<br>
<a href="https://github.com/jon-chuang/mojo/blob/422256e2490a1899b204e7b3a9cae2c6007433e8/examples/matmul.mojo">https://github.com/jon-chuang/mojo/blob/422256e2490a1899b204e7b3a9cae2c6007433e8/examples/matmul.mojo</a></p>
<p>It is all about tiling SIMD vectors and doing ops on them. The best tiling strategy depends on the matrix dimensions (which is usually only known at runtime) and the host architecture. Numpy dispatches to the best kernel at runtime. Mojo compiles the exact best kernel only through comptime parametrization. Python using Mojo would JIT compile specialized kernels for the current matrices.</p>
<p>Even then you don't exactly meet numpy(OpenBLAS) performance. <a href="https://github.com/modular/modular/pull/3248">https://github.com/modular/modular/pull/3248</a> (NB: unreliable benchmarking).</p>
<p>These are the kind of challenges that roc would have to enable to reimplement BLAS/LAPACK libraries</p>



<a name="571807067"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571807067" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571807067">(Feb 04 2026 at 02:48)</a>:</h4>
<p>whoa, this is super helpful <span class="user-mention" data-user-id="680911">@Romain Lepert</span> , thank you so much! <span aria-label="star struck" class="emoji emoji-1f929" role="img" title="star struck">:star_struck:</span> </p>
<p><span class="user-mention silent" data-user-id="680911">Romain Lepert</span> <a href="#narrow/channel/231634-beginners/topic/Platform.20basics/near/571784052">said</a>:</p>
<blockquote>
<p>The best tiling strategy depends on the matrix dimensions (which is usually only known at runtime) and the host architecture. Numpy dispatches to the best kernel at runtime. Mojo compiles the exact best kernel only through comptime parametrization. Python using Mojo would JIT compile specialized kernels for the current matrices.</p>
</blockquote>
<p>just to check my understanding: the "kernel" in this case refers to the tiling strategy?</p>
<p>I think from a comptime perspective we'd be on par with mojo, since if the matrices are statically known, we'd do the dispatch at comptime too (since these are all pure functions).</p>
<p>that said, I don't know if any of the tricks they used to get <a href="https://github.com/modular/modular/pull/3250#issuecomment-2229251647">3x the perf of numpy</a> (with the extreme caveat that the numpy benchmarks they're comparing to have been really inconsistent, and an earlier run would have had the reverse outcome - numpy being 3x the perf of mojo instead of the other way around) require using memory-unsafe APIs, which would be the main concern I'd have about achieving perf parity there</p>



<a name="571807076"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571807076" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571807076">(Feb 04 2026 at 02:48)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span></p>



<a name="571807109"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571807109" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571807109">(Feb 04 2026 at 02:48)</a>:</h4>
<p>we don't have any SIMD APIs currently, and a major reason for that is my not knowing what to target <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="571807183"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571807183" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571807183">(Feb 04 2026 at 02:49)</a>:</h4>
<p>but if we had a realistic target of "be able to compete with numpy using only memory-safe pure Roc APIs" that would be excellent for unblocking that design work! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="571809648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571809648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571809648">(Feb 04 2026 at 03:23)</a>:</h4>
<p>Haha, that GitHub diff is so useless. Looks to be showing lots of random changes from main rather than just the example changes</p>



<a name="571810594"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571810594" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571810594">(Feb 04 2026 at 03:36)</a>:</h4>
<p>Yeah, so what is missing for roc to do that:</p>
<ol>
<li>Simd instructions. Preferably with explicit load and store, but not strictly required. Without explicit load store, you depend on roc (and minorly llvm), to properly remove all refcounting and bounds checking.</li>
<li>Explicit loop unrolling.</li>
<li>Vectorize is just a convenience and I don't think is needed.</li>
<li>Multithreaded work queuing/distribution</li>
<li>Comptime integer parameters and the ability to do math on them. Not technically required but really required if you want a usable API. Otherwise you need every matrix size to be a different type and to explicitly be managed. It just isn't practical with large matrices.</li>
<li>System information exposed to roc at compile time so it can specialize to hardware</li>
<li>GPU/XPU support if you want the full magic of mojo.</li>
</ol>



<a name="571827241"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571827241" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571827241">(Feb 04 2026 at 06:42)</a>:</h4>
<p>isn't loop unrolling also a convenience?</p>



<a name="571833413"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571833413" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571833413">(Feb 04 2026 at 07:28)</a>:</h4>
<p>Sadly not. It can be fundamental for performance</p>



<a name="571833470"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571833470" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571833470">(Feb 04 2026 at 07:29)</a>:</h4>
<p>Of course when everything goes right llvm can do it.</p>



<a name="571833648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571833648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571833648">(Feb 04 2026 at 07:30)</a>:</h4>
<p>But sometimes you need to fully unroll or even partially unroll to get better utilization. Balancing code bloat/instruction cache size vs number of branch checks (even if fully predicted it can cause issues)</p>



<a name="571968256"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/571968256" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#571968256">(Feb 04 2026 at 17:18)</a>:</h4>
<p>regarding comptime type parameters with arithmetic - I'm surprised that would be considered a requirement for ergonomics. Lots of languages support these use cases from a perf perspective, but which ones actually have that feature? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
<p>is it that dynamic languages like Python don't need to care about the static type implications of the APIs, so those ergonomics are out of scope?</p>



<a name="572003435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/572003435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Romain Lepert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#572003435">(Feb 04 2026 at 20:30)</a>:</h4>
<p>In Mojo you write</p>
<div class="codehilite" data-code-language="Mojo"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">matmul</span><span class="p">[</span><span class="n">M</span><span class="p">:</span><span class="w"> </span><span class="nb">Int</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">:</span><span class="w"> </span><span class="nb">Int</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">:</span><span class="w"> </span><span class="nb">Int</span><span class="p">](</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nb">Tensor</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nb">Tensor</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="nb">Tensor</span><span class="p">)</span>
</code></pre></div>
<p>and inside you might need to do some arithmetic on the M, N, K comptime type parameters </p>
<ul>
<li><code>M / tile</code></li>
<li><code>M % vectorWidth</code></li>
<li><code>ceilDiv(M, blockSize)</code></li>
<li><code>min(M, 128)</code></li>
</ul>
<p>in C++ you don't have comptime type parameters so you have to use template for that which has a lot worse development ergonomics</p>
<div class="codehilite" data-code-language="C++"><pre><span></span><code><span class="k">template</span><span class="o">&lt;</span><span class="kt">int</span><span class="w"> </span><span class="n">M</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">K</span><span class="o">&gt;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">matmul</span><span class="p">(</span><span class="n">Tensor</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">Tensor</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">Tensor</span><span class="o">&amp;</span><span class="p">);</span>
</code></pre></div>
<p>in python you don't care because you delegate to a precompiled library that would look like this in C++</p>
<div class="codehilite" data-code-language="C++"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">matmul</span><span class="p">(</span><span class="n">Tensor</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Tensor</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">Tensor</span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="w">    </span><span class="c1">// Example: a small hand-picked set of fast kernels</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">M</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">256</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">matmul</span><span class="o">&lt;</span><span class="mi">128</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">M</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">256</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">matmul</span><span class="o">&lt;</span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">M</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">256</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">matmul</span><span class="o">&lt;</span><span class="mi">128</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// fallback</span>
<span class="w">    </span><span class="n">matmul_generic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>



<a name="572031173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Platform%20basics/near/572031173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Platform.20basics.html#572031173">(Feb 04 2026 at 23:34)</a>:</h4>
<p>Yeah, Romain has the right basis. Fundamentally, when python calls the high performance libaries, the first step is to dispatch based on the shape to an optimized kernel for the shape. When you do this, you end up having N different kernels for various kinds of shapes. This is the standard way to deal with dynamism. It actually limits reaching peak performance in some case.</p>
<p>If you are to go to the very extreme like is seen with max graphs:</p>
<ol>
<li>Every kernel  shape can be specialized and custom compiled for.  That said, for exceptionally dynamic dimensions you still do the mapping form essentially infinite options to N kernel choices.</li>
<li>Back to back or neighboring operations can often be fused to really push performance. So instead of having a matmul kernel and a relu kernel. You have one super kernel that does matmul + relu. This kernel has all the matmul specialization from 1. It also halves the number of loads and stores by merging the relu operation into the matmul operations.</li>
</ol>
<hr>
<p>I don't expect roc to compete in this space. I don't think it needs to in general. That sad, I do think it should be able to compete with numpy or blas or lapack with the right user guiding it. Those libraries tend to have hand rolled loops but minimal extreme specialization. They tend to still treat shapes fully dynamically.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>New compiler: multiline strings · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html">New compiler: multiline strings</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="561554971"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561554971" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561554971">(Dec 03 2025 at 03:00)</a>:</h4>
<p>Are multiline strings supported yet?</p>
<p>This code runs but prints nothing:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">app</span><span class="w"> </span><span class="o">[</span><span class="n">main!</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="ss">pf</span><span class="p">:</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="s2">"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/7iDKk44no3gF9Nrh2VyF8Y5yvy1jUBhrbhHURN1WQptB.tar.zst"</span><span class="w"> </span><span class="p">}</span>

<span class="n">import</span><span class="w"> </span><span class="n">pf</span><span class="o">.</span><span class="n">Stdout</span>

<span class="n">data</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s2">"""</span>
<span class="s2">    This is a multiline</span>
<span class="s2">    string.</span>
<span class="s2">    """</span>


<span class="n">main!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">_args</span><span class="o">|</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="no">Stdout</span><span class="o">.</span><span class="n">line!</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="w">    </span><span class="no">Ok</span><span class="p">({})</span>
<span class="p">}</span>
</code></pre></div>
<p>For what it's worth, I initially got a compiler crash when the multiline string was too long (4000+ lines = my AoC day 1 input), and no output when the string was shorter. But then I recompiled the compiler and there's no longer a compiler crash, just no output.</p>



<a name="561555555"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561555555" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561555555">(Dec 03 2025 at 03:09)</a>:</h4>
<p>yes, we changed the syntax - now it's</p>
<div class="codehilite" data-code-language="Zig"><pre><span></span><code><span class="n">data</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="sh">\\This is a multiline</span>
<span class="w">    </span><span class="sh">\\string.</span>
</code></pre></div>



<a name="561555563"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561555563" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561555563">(Dec 03 2025 at 03:10)</a>:</h4>
<p>(same as Zig's syntax)</p>



<a name="561555579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561555579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561555579">(Dec 03 2025 at 03:10)</a>:</h4>
<p>Oh cool, like in Zig, love it.</p>



<a name="561555604"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561555604" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561555604">(Dec 03 2025 at 03:10)</a>:</h4>
<p>Perhaps using """ should give a helpful warning / error</p>



<a name="561555729"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561555729" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561555729">(Dec 03 2025 at 03:13)</a>:</h4>
<p>Fixed. However, although the program runs normally now, it ends with:</p>
<p>error(gpa): memory address 0x103200000 leaked:<br>
Unable to print stack trace: Unable to open debug info: MissingDebugInfo</p>



<a name="561556144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556144">(Dec 03 2025 at 03:20)</a>:</h4>
<p>I'm trying to print the number of bytes in my input string:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="o">[...]</span>
<span class="n">main!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">_args</span><span class="o">|</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">to_utf8</span><span class="p">()</span>
<span class="w">    </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>
<span class="w">    </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="o">.</span><span class="n">to_str</span><span class="p">()</span>
<span class="w">    </span><span class="no">Stdout</span><span class="o">.</span><span class="n">line!</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="w">    </span><span class="no">Ok</span><span class="p">({})</span>
<span class="p">}</span>
</code></pre></div>
<p>I get this runtime error:</p>
<div class="codehilite"><pre><span></span><code>thread 37216187 panic: incorrect alignment
???:?:?: 0x102a59233 in ??? (roc_run_994723065)
???:?:?: 0x102959e63 in ??? (roc_run_994723065)
???:?:?: 0x10290a7a3 in ??? (roc_run_994723065)
???:?:?: 0x1028e1d1f in ??? (roc_run_994723065)
???:?:?: 0x1028df6a7 in ??? (roc_run_994723065)
???:?:?: 0x1028df10b in ??? (roc_run_994723065)
???:?:?: 0x1028d8913 in ??? (roc_run_994723065)
???:?:?: 0x19fd42b97 in ??? (???)
???:?:?: 0x0 in ??? (???)
error: Child process /Users/ageron/Library/Caches/roc/73212f0613ff7600bbf5b003b36e3cfa/temp/roc-tmp-EMJa9WuLIKioAEl7KAWvrpfkyRJeNXN3/roc_run_994723065 killed by signal: 6
error: Child process aborted (SIGABRT)
</code></pre></div>



<a name="561556147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556147">(Dec 03 2025 at 03:20)</a>:</h4>
<p>Can you please share the full .roc code that does that</p>



<a name="561556159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556159">(Dec 03 2025 at 03:20)</a>:</h4>
<p>Which platform URL are you using</p>



<a name="561556203"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556203" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556203">(Dec 03 2025 at 03:21)</a>:</h4>
<p>This is the latest (v 0.3) I just pushed earlier today </p>
<div class="codehilite"><pre><span></span><code>https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.3/98T93wthPgoBRLYtPTT4RBBsQunrfDG94gihPf1zYYmE.tar.zst
</code></pre></div>



<a name="561556237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556237">(Dec 03 2025 at 03:22)</a>:</h4>
<p>Sure, same as above:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">app</span><span class="w"> </span><span class="o">[</span><span class="n">main!</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="ss">pf</span><span class="p">:</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="s2">"https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/7iDKk44no3gF9Nrh2VyF8Y5yvy1jUBhrbhHURN1WQptB.tar.zst"</span><span class="w"> </span><span class="p">}</span>

<span class="n">import</span><span class="w"> </span><span class="n">pf</span><span class="o">.</span><span class="n">Stdout</span>

<span class="n">data</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="p">\\</span><span class="no">L4</span>
<span class="w">    </span><span class="p">\\</span><span class="no">R49</span>
<span class="w">    </span><span class="p">\\</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">(</span><span class="n">very</span><span class="w"> </span><span class="n">long</span><span class="p">,</span><span class="w"> </span><span class="mi">4000</span><span class="o">+</span><span class="w"> </span><span class="n">lines</span><span class="p">)</span><span class="w"> </span><span class="o">...</span>


<span class="n">main!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">_args</span><span class="o">|</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">to_utf8</span><span class="p">()</span>
<span class="w">    </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>
<span class="w">    </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="o">.</span><span class="n">to_str</span><span class="p">()</span>
<span class="w">    </span><span class="no">Stdout</span><span class="o">.</span><span class="n">line!</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="w">    </span><span class="no">Ok</span><span class="p">({})</span>
<span class="p">}</span>
</code></pre></div>



<a name="561556262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556262">(Dec 03 2025 at 03:22)</a>:</h4>
<p>Oh ok, thanks, I'll give this a try</p>



<a name="561556346"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556346" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556346">(Dec 03 2025 at 03:23)</a>:</h4>
<p>Yes, this fixed the issue, thanks! There's still a memory leak though, but at least the program runs normally:</p>
<div class="codehilite"><pre><span></span><code>4373823488
error(gpa): memory address 0x104d20000 leaked:
Unable to print stack trace: Unable to open debug info: MissingDebugInfo
</code></pre></div>



<a name="561556380"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556380" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556380">(Dec 03 2025 at 03:24)</a>:</h4>
<p>Could you upload the full .roc file somewhere so I can hunt down the leak</p>



<a name="561556503"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561556503" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561556503">(Dec 03 2025 at 03:26)</a>:</h4>
<p>Sure:<br>
<a href="https://gist.github.com/ageron/1f8fc1e302d772b23c2a5acc3b800f40">https://gist.github.com/ageron/1f8fc1e302d772b23c2a5acc3b800f40</a></p>



<a name="561559224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561559224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561559224">(Dec 03 2025 at 04:01)</a>:</h4>
<p>Fixed in <a href="https://github.com/roc-lang/roc/pull/8552">https://github.com/roc-lang/roc/pull/8552</a></p>



<a name="561559256"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561559256" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aurélien Geron <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561559256">(Dec 03 2025 at 04:01)</a>:</h4>
<p>Cool, thanks <span class="user-mention" data-user-id="515757">@Luke Boswell</span></p>



<a name="561598162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/New%20compiler%3A%20multiline%20strings/near/561598162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/New.20compiler.3A.20multiline.20strings.html#561598162">(Dec 03 2025 at 09:33)</a>:</h4>
<p>fyi I have <a href="https://github.com/Anton-4/roc-platform-template-zig/tree/fix-questionmarks-leak-trace">a branch</a> that fixes the <code>???</code> in the traces but I still need to review it thoroughly.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
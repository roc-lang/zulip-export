<html>
<head><meta charset="utf-8"><title>Why no syntax for extending records · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html">Why no syntax for extending records</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="506548582"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Why%20no%20syntax%20for%20extending%20records/near/506548582" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Larsson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html#506548582">(Mar 18 2025 at 18:11)</a>:</h4>
<p>One thing I find strange that Roc does not have is a way to extend a record. </p>
<p>For example:</p>
<div class="codehilite"><pre><span></span><code>get_token! : {key: Str} =&gt; {key: Str, token: Str}
get_token! = |conf|
    token = get!(conf.key)
    {conf  extend session: token}
</code></pre></div>
<p>This is a pattern I use all the time in Clojure and Javascript to build up more complex structures. Is there a reason we only have the &amp; in Roc to change values in a record but not extending a record?</p>



<a name="506550038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Why%20no%20syntax%20for%20extending%20records/near/506550038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html#506550038">(Mar 18 2025 at 18:19)</a>:</h4>
<p>I think we chose not to support extending like this because it could be really bad for performance. The old record has to be copied over entirely to a new spot in memory.</p>



<a name="506551358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Why%20no%20syntax%20for%20extending%20records/near/506551358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Larsson <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html#506551358">(Mar 18 2025 at 18:27)</a>:</h4>
<p>Ok good to know the reason but its to bad, I really love that pattern in untyped languages paired with the pipe syntax.</p>



<a name="506553135"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Why%20no%20syntax%20for%20extending%20records/near/506553135" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html#506553135">(Mar 18 2025 at 18:36)</a>:</h4>
<p>Yeah, I think the recommended alternative would be to use a tag union: <code>[NoToken, Token(Str)]</code></p>



<a name="506583148"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Why%20no%20syntax%20for%20extending%20records/near/506583148" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Why.20no.20syntax.20for.20extending.20records.html#506583148">(Mar 18 2025 at 21:19)</a>:</h4>
<p>As a note, we plan to support extending records in the future, but it is pretty low on the backlog.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
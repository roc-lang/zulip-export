<html>
<head><meta charset="utf-8"><title>string format type · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html">string format type</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="444991747"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444991747" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444991747">(Jun 16 2024 at 16:24)</a>:</h4>
<p>Is it possible to define a string type that only contain strings of some format? Such as a RFC3339 timestamp</p>



<a name="444991826"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444991826" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444991826">(Jun 16 2024 at 16:24)</a>:</h4>
<p>The same question goes to: is it possible to define range types such as only integers &gt; 10</p>



<a name="444991898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444991898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444991898">(Jun 16 2024 at 16:25)</a>:</h4>
<p>Kinda, but indirectly</p>



<a name="444991930"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444991930" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444991930">(Jun 16 2024 at 16:25)</a>:</h4>
<p>You would use an opaque type and force the opaque type constructor to enforce the rules</p>



<a name="444991931"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444991931" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444991931">(Jun 16 2024 at 16:25)</a>:</h4>
<p>Can you give me an example?</p>



<a name="444992031"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992031" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992031">(Jun 16 2024 at 16:26)</a>:</h4>
<p>This is useful when I deal with cryptographic strings that has to follow certain format</p>



<a name="444992092"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992092" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992092">(Jun 16 2024 at 16:27)</a>:</h4>
<p>I only want to validate them once after the IO and use the correct type afterwards</p>



<a name="444992100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992100">(Jun 16 2024 at 16:27)</a>:</h4>
<p>A niche use case for sure</p>



<a name="444992272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992272">(Jun 16 2024 at 16:29)</a>:</h4>
<p>So for the integer you would make an opaque type</p>
<div class="codehilite"><pre><span></span><code>AboveTenInt := I64
</code></pre></div>
<p>Then you would only expose a constructor that ensures it's valid</p>
<div class="codehilite"><pre><span></span><code>create: I64 -&gt; Result AboveTenInt [NotAboveTen]
create = \i -&gt;
    if i &gt; 10 then
        Ok (@AboveTenInt i)
    else
        Err NotAboveTen
</code></pre></div>



<a name="444992323"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992323" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992323">(Jun 16 2024 at 16:29)</a>:</h4>
<p>Then make sure any functions that modify an above ten int also deal with keeping it above ten or returning an error.</p>



<a name="444992339"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992339" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992339">(Jun 16 2024 at 16:29)</a>:</h4>
<p>Is <code>create</code> a special function?</p>



<a name="444992476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992476">(Jun 16 2024 at 16:30)</a>:</h4>
<p>Not particularly. It just has to be in the same module where <code>AboveTenInt</code> is defined so it can access the wrapper function <code>@AboveTenInt</code>.</p>



<a name="444992509"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992509" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992509">(Jun 16 2024 at 16:31)</a>:</h4>
<p>So you protect wrapping and unwrapping of opaque types using the module boundary</p>



<a name="444992554"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992554" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992554">(Jun 16 2024 at 16:31)</a>:</h4>
<p>As long as you have correct functions within the module, nothing outside the module can break the opaque type. They will only be able to modify it by calling those special opaque type functions.</p>



<a name="444992752"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992752" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992752">(Jun 16 2024 at 16:33)</a>:</h4>
<p>some kind of like public/private functions in a imperative language</p>



<a name="444992763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992763">(Jun 16 2024 at 16:33)</a>:</h4>
<p>Essentially</p>



<a name="444992834"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992834" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992834">(Jun 16 2024 at 16:34)</a>:</h4>
<p>anything that can produce an AboveTenInt is defined in the module</p>



<a name="444992876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444992876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444992876">(Jun 16 2024 at 16:34)</a>:</h4>
<p>What if I just declare a literal as AboveTenInt outside the module?</p>



<a name="444993296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444993296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444993296">(Jun 16 2024 at 16:38)</a>:</h4>
<p>Would have to go through <code>create</code>. Though you could also make a version that panics instead of returns an error. That would be greater for constants, but dangerous otherwise.</p>
<p>Long term we want better support for compile time eval that could fold away and unwrap constants (with compile time asserts that they unwrap safely)</p>



<a name="444994207"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444994207" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444994207">(Jun 16 2024 at 16:48)</a>:</h4>
<p>more like Rust macro or Zig comptime?</p>



<a name="444994221"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444994221" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444994221">(Jun 16 2024 at 16:48)</a>:</h4>
<p>or just a built-in compiler feature?</p>



<a name="444995311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/string%20format%20type/near/444995311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/string.20format.20type.html#444995311">(Jun 16 2024 at 16:59)</a>:</h4>
<p>Probably like zig comptime, but less powerful (no metaprogramming via passing around and manipulating types). So really just evaluation of constants and functions that have all inputs know at compile time.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
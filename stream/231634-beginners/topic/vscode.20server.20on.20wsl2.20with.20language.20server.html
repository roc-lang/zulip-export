<html>
<head><meta charset="utf-8"><title>vscode server on wsl2 with language server · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html">vscode server on wsl2 with language server</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="509024527"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509024527" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509024527">(Mar 30 2025 at 13:11)</a>:</h4>
<p>New to roc, just setting it up in a WSL image no my windows box.<br>
Vscode works fine with the remote server behavior and the extension seems fine.  The language server does not work seeing the errors below in the log.<br>
Is this expected at the moment?<br>
I can understand roc being new and maybe the extension for vscode can't do the remote dance yet.</p>
<div class="codehilite"><pre><span></span><code>You are ready to Roc![Error - 11:07:17 PM] Client roc-lang: connection to server is erroring.
write EPIPE
Shutting down server.
</code></pre></div>



<a name="509135421"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509135421" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509135421">(Mar 31 2025 at 08:42)</a>:</h4>
<p>Hi Robin,<br>
In the settings of the roc-lang-unofficial extension you need to provide the path to the roc language server binary (included in the alpha or nightly archive) or did you already do that?</p>



<a name="509137841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509137841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509137841">(Mar 31 2025 at 08:53)</a>:</h4>
<p>Yes followed the instructions.<br>
NOTE: I am running vscode on my windows desktop and it connects to vscdoe server in the WSL.  I thought this might complicate it.<br>
Though it has worked for most any other addons ive used over the years.</p>



<a name="509138665"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509138665" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509138665">(Mar 31 2025 at 08:56)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> I'll try to reproduce this on my pc and investigate (probably today)</p>



<a name="509139048"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509139048" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509139048">(Mar 31 2025 at 08:58)</a>:</h4>
<p>I'm not sure how much you know about wsl2.<br>
but just running "code" in wsl shell will setup the vscode server for you in the wsl linux and start vscode on desktop and it connects automatically.</p>



<a name="509140388"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509140388" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509140388">(Mar 31 2025 at 09:04)</a>:</h4>
<p>I didn't know that, I'll try it like that</p>



<a name="509198122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509198122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Domurad <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509198122">(Mar 31 2025 at 13:16)</a>:</h4>
<p>I used Roc this way for couple of months.<br>
VSCode on windows and the Roc code was on WSL2 Ubuntu. <br>
Everything worked OK.<br>
My roc language server was on WSL - not on windows. That might be worth checking.</p>



<a name="509203566"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509203566" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509203566">(Mar 31 2025 at 13:36)</a>:</h4>
<p>my roc servers is inside the wsl image.</p>



<a name="509203636"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509203636" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509203636">(Mar 31 2025 at 13:37)</a>:</h4>
<p>I run debian, but there are no other errors.<br>
But I will try ubuntu tomorrow to see.</p>



<a name="509208938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509208938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509208938">(Mar 31 2025 at 13:56)</a>:</h4>
<p>Can you share your debian version? That way I can use it for the reproduction</p>



<a name="509212723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509212723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509212723">(Mar 31 2025 at 14:09)</a>:</h4>
<p>I've just retried in Ubuntu-22.04 <br>
Did an apt update &amp;&amp; apt upgrade.<br>
Installe roc into /home/rluiten/.local/bin/roc_nightly-linux_x86_64-2025-03-22-c47a8e9<br>
Added that to path in .bashrc.<br>
so <code>roc version</code> works.<br>
Lauched vscode with 'code .' in a folder with trivial main.roc in it.<br>
The installed "Roc (Unofficial)".<br>
Set the Roc-lang &gt; Languae-server: Exe fild in exension to<br>
/home/rluiten/.local/bin/roc_nightly-linux_x86_64-2025-03-22-c47a8e9</p>
<p>Getting same error as follows. (not set path of roc lsp)</p>
<p>LS executable path: Some(/home/rluiten/.local/bin/roc_nightly-linux_x86_64-2025-03-22-c47a8e9)<br>
LS debug executable path: None<br>
You are ready to Roc![Error - 12:06:12 AM] Client roc-lang: connection to server is erroring.<br>
write EPIPE<br>
Shutting down server.</p>



<a name="509212815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509212815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509212815">(Mar 31 2025 at 14:10)</a>:</h4>
<p>turns out i didnt go to bed when i should have lol :)</p>



<a name="509213014"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509213014" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509213014">(Mar 31 2025 at 14:10)</a>:</h4>
<p>That is the alpha3 rolling version.</p>



<a name="509213292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509213292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509213292">(Mar 31 2025 at 14:11)</a>:</h4>
<p>I even remembered to check my firewall logs just in case.<br>
Never had it triggered by WSL stuff before, but its clean, but I also have it off anyway no difference.</p>
<p>My Ubuntu image is in WSL v2 mode - just realised may not have stated that before.</p>



<a name="509217139"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509217139" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509217139">(Mar 31 2025 at 14:26)</a>:</h4>
<p>Thanks for all the details, I'll try in a bit</p>



<a name="509219137"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509219137" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509219137">(Mar 31 2025 at 14:33)</a>:</h4>
<p>Given Artur's comment above. I am very surprised it doesn't just work.</p>



<a name="509219216"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509219216" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509219216">(Mar 31 2025 at 14:33)</a>:</h4>
<p>I'm off to bed starting to brain fade :)</p>



<a name="509228516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509228516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509228516">(Mar 31 2025 at 15:07)</a>:</h4>
<blockquote>
<p>Set the Roc-lang &gt; Languae-server: Exe file in exension to<br>
/home/rluiten/.local/bin/roc_nightly-linux_x86_64-2025-03-22-c47a8e9</p>
</blockquote>
<p>This needs to be the path to the binary, not the folder that contains the binary, so: <code>/home/rluiten/.local/bin/roc_nightly-linux_x86_64-2025-03-22-c47a8e/roc_language_server</code></p>



<a name="509230653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509230653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Domurad <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509230653">(Mar 31 2025 at 15:15)</a>:</h4>
<p>I  have just tried with a clean WSL2 Ubuntu on clean Windows installation without vscode, etc. <br>
I had the same problem for a moment.<br>
When I was doing</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>code<span class="w"> </span>.
</code></pre></div>
<p>My vscode was launching not connected to WSL. I could see my wsl files, but vscode could not launch wsl programs.<br>
The roc lang server started working for me only after I have installed the WSL extension in vscode and restarted wsl. Just clicked in the bottom left corner and selected "connect to WSL" and it installed automatically. Then close vscode and open it from WSL again.<br>
Make sure you have something like this in the bottom left corner:<br>
<a href="/user_uploads/22008/ZDP4McVvgX1ZpBNGHvhXugfi/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/ZDP4McVvgX1ZpBNGHvhXugfi/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="374x207" src="/user_uploads/thumbnail/22008/ZDP4McVvgX1ZpBNGHvhXugfi/image.png/840x560.webp"></a></div>



<a name="509232603"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509232603" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509232603">(Mar 31 2025 at 15:22)</a>:</h4>
<p>Yes, confirmed, that works, thanks <span class="user-mention" data-user-id="634290">@Artur Domurad</span> :)</p>



<a name="509324774"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509324774" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509324774">(Mar 31 2025 at 23:48)</a>:</h4>
<p>Thank you that works.<br>
Oh duh... how did i miss that... sorry for my goof</p>



<a name="509354307"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509354307" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509354307">(Apr 01 2025 at 04:13)</a>:</h4>
<p>Just had a thought since the document says to add the folder to path for command line usage, is there a reason the plugin cant' assume its on path and just run someting like a <code>roc_language_server version</code> command.<br>
NOTE: assuming it has a version thing or equivalent.</p>



<a name="509354322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509354322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509354322">(Apr 01 2025 at 04:13)</a>:</h4>
<p>self configuring then?</p>



<a name="509634335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/vscode%20server%20on%20wsl2%20with%20language%20server/near/509634335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/vscode.20server.20on.20wsl2.20with.20language.20server.html#509634335">(Apr 02 2025 at 08:36)</a>:</h4>
<p>There is an <a href="https://github.com/ivan-demchenko/roc-vscode-unofficial/issues/29">issue for this</a></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
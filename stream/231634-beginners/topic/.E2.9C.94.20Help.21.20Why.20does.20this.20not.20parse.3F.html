<html>
<head><meta charset="utf-8"><title>✔ Help! Why does this not parse? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Help.21.20Why.20does.20this.20not.20parse.3F.html">✔ Help! Why does this not parse?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="304313038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Help%21%20Why%20does%20this%20not%20parse%3F/near/304313038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michał Łępicki <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Help.21.20Why.20does.20this.20not.20parse.3F.html#304313038">(Oct 16 2022 at 14:06)</a>:</h4>
<div class="codehilite"><pre><span></span><code>main : Program
main = Program.noArgs (Task.attempt mainTask \result -&gt;
    exitCode = when result is
        Ok {} -&gt; 0
        Err _ -&gt; 1
    Task.succeed {} |&gt; Program.exit exitCode
    )

mainTask =
    Task.await
        (File.readUtf8 (Path.fromStr &quot;../../1&quot;))
        \contents -&gt;
            x = if contents == &quot;asdf&quot; then 1 else 2

            Num.toStr x
            |&gt; Stdout.line
</code></pre></div>
<p>I'm getting this error, but <code>{}</code> is a pattern, no?</p>
<div class="codehilite"><pre><span></span><code>I was partway through parsing a when expression, but I got stuck here:

9│          Ok {} -&gt; 0
              ^

I was expecting to see a pattern next
</code></pre></div>



<a name="304315656"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Help%21%20Why%20does%20this%20not%20parse%3F/near/304315656" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Help.21.20Why.20does.20this.20not.20parse.3F.html#304315656">(Oct 16 2022 at 14:33)</a>:</h4>
<p>I think the issue is tabbing. I am not exactly sure how this part of the parser works, what happens if you write:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">exitCode</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="k">when</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">is</span><span class="w"></span>
<span class="w">        </span><span class="nx">Ok</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="nx">Err</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
</code></pre></div>



<a name="304315704"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Help%21%20Why%20does%20this%20not%20parse%3F/near/304315704" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michał Łępicki <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Help.21.20Why.20does.20this.20not.20parse.3F.html#304315704">(Oct 16 2022 at 14:33)</a>:</h4>
<p>It works! Thank you!</p>



<a name="304315710"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20Help%21%20Why%20does%20this%20not%20parse%3F/near/304315710" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20Help.21.20Why.20does.20this.20not.20parse.3F.html#304315710">(Oct 16 2022 at 14:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="543952">Michał Łępicki</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>record builder syntax · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html">record builder syntax</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="490797431"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490797431" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490797431">(Dec 25 2024 at 18:04)</a>:</h4>
<p>Hey folks - I'm trying to use the record builder syntax but I think there is something outdated between builtin docs and the tutorial.</p>
<p>Ref:<br>
<a href="https://www.roc-lang.org/tutorial#record-builder">https://www.roc-lang.org/tutorial#record-builder</a><br>
<a href="https://www.roc-lang.org/builtins/Task#batch">https://www.roc-lang.org/builtins/Task#batch</a></p>
<p>How would I use the record builder syntax these days with a Task?</p>
<p>My code as example using the <a href="mailto:basic-webserver@0.10">basic-webserver@0.10</a> platform:</p>
<div class="codehilite"><pre><span></span><code>{ Task.ok &lt;-
    a: Env.var &quot;A&quot;,
    b: Env.var &quot;B&quot;
}
</code></pre></div>



<a name="490799022"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799022" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799022">(Dec 25 2024 at 18:30)</a>:</h4>
<p>Oh, sorry, that's out of date yes</p>



<a name="490799190"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799190" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799190">(Dec 25 2024 at 18:33)</a>:</h4>
<p>Record builders used to be built with <a href="https://adueck.github.io/blog/functors-applicatives-and-monads-with-pictures-in-typescript/">applicative functors</a></p>



<a name="490799195"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799195" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799195">(Dec 25 2024 at 18:33)</a>:</h4>
<p>Which was a complex tool for beginners to grok</p>



<a name="490799264"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799264" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799264">(Dec 25 2024 at 18:34)</a>:</h4>
<p>So now we just accept any function that takes two things and combines them</p>



<a name="490799286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799286">(Dec 25 2024 at 18:35)</a>:</h4>
<p>So <code>Task.batch</code> is for the old style, and we don't have a function for the new style</p>



<a name="490799311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799311">(Dec 25 2024 at 18:35)</a>:</h4>
<p>Oh wow! Yeah - I was still under the impression it was related to applicatives.</p>



<a name="490799405"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799405" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799405">(Dec 25 2024 at 18:36)</a>:</h4>
<p>The tutorial needs some love</p>



<a name="490799435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799435">(Dec 25 2024 at 18:37)</a>:</h4>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">combineTasks</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Task</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">err</span><span class="p">,</span><span class="w"> </span><span class="kt">Task</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">err</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Task</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">err</span>
<span class="nv">combineTasks</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">leftTask</span><span class="p">,</span><span class="w"> </span><span class="nv">rightTask</span><span class="p">,</span><span class="w"> </span><span class="nv">combiner</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">left</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">leftTask</span><span class="err">!</span>
<span class="w">    </span><span class="nv">right</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">rightTask</span><span class="err">!</span>

<span class="w">    </span><span class="kt">Task</span><span class="nf">.</span><span class="nv">ok</span><span class="w"> </span><span class="p">(</span><span class="nv">combiner</span><span class="w"> </span><span class="nv">left</span><span class="w"> </span><span class="nv">right</span><span class="p">)</span>
</code></pre></div>



<a name="490799482"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799482" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799482">(Dec 25 2024 at 18:37)</a>:</h4>
<p>This function should be a userspace record builder combiner</p>



<a name="490799577"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799577" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799577">(Dec 25 2024 at 18:38)</a>:</h4>
<p>With Purity Inference, you shouldn't really need this</p>



<a name="490799766"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490799766" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490799766">(Dec 25 2024 at 18:41)</a>:</h4>
<p>But you could do this:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">combine</span><span class="err">!</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">({}</span><span class="w"> </span><span class="nf">=&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">err</span><span class="p">),</span><span class="w"> </span><span class="p">({}</span><span class="w"> </span><span class="nf">=&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">err</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span><span class="w"> </span><span class="nf">=&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">err</span>
<span class="nv">combine</span><span class="err">!</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">leftGen</span><span class="p">,</span><span class="w"> </span><span class="nv">rightGen</span><span class="p">,</span><span class="w"> </span><span class="nv">combiner</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">left</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">try</span><span class="w"> </span><span class="nv">leftGen</span><span class="err">!</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="nv">right</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">try</span><span class="w"> </span><span class="nv">rightGen</span><span class="err">!</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kt">Ok</span><span class="w"> </span><span class="p">(</span><span class="nv">combiner</span><span class="w"> </span><span class="nv">left</span><span class="w"> </span><span class="nv">right</span><span class="p">)</span>
</code></pre></div>



<a name="490800122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800122">(Dec 25 2024 at 18:45)</a>:</h4>
<p>Why does it need to be a userspace function? Shouldn't it be part of the <code>Task</code> module?</p>



<a name="490800186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800186">(Dec 25 2024 at 18:46)</a>:</h4>
<p>It should, but Task is going the way of the dodo pretty soon</p>



<a name="490800233"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800233" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800233">(Dec 25 2024 at 18:46)</a>:</h4>
<p>Maybe I'm misinterpreting what userspace means <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="490800239"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800239" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800239">(Dec 25 2024 at 18:46)</a>:</h4>
<p>I guess I could add that just as a stopgap</p>



<a name="490800248"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800248" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800248">(Dec 25 2024 at 18:46)</a>:</h4>
<p>Ohhh right - with the purity inference thing</p>



<a name="490800258"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800258" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800258">(Dec 25 2024 at 18:46)</a>:</h4>
<p>Not sure what the right name is.</p>



<a name="490800264"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800264" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800264">(Dec 25 2024 at 18:46)</a>:</h4>
<ul>
<li>Task.combine</li>
<li>Task.chain</li>
<li>Task.serialize</li>
<li>Task.sequence</li>
</ul>



<a name="490800297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490800297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490800297">(Dec 25 2024 at 18:46)</a>:</h4>
<p>What would you prefer?</p>



<a name="490801814"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490801814" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490801814">(Dec 25 2024 at 19:08)</a>:</h4>
<p><code>combine</code> makes sense to me! I like that it seems like a reusable name for the pattern to be used in different modules.</p>



<a name="490801841"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490801841" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490801841">(Dec 25 2024 at 19:09)</a>:</h4>
<p>I'll make a PR, then</p>



<a name="490805121"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490805121" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490805121">(Dec 25 2024 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="364014">@Georges Boris</span> could you look at <a href="https://github.com/roc-lang/roc/pull/7413">https://github.com/roc-lang/roc/pull/7413</a> if you get a chance and tell me if the docs make sense to you?</p>



<a name="490805160"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490805160" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490805160">(Dec 25 2024 at 20:02)</a>:</h4>
<p>It's pretty simple</p>



<a name="490806587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490806587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490806587">(Dec 25 2024 at 20:29)</a>:</h4>
<p>Looks good to me!</p>
<p>I wonder if it wouldn't be better to remove the previous <code>batch</code> example as a whole since that code doesn't compile anymore.</p>



<a name="490806599"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490806599" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490806599">(Dec 25 2024 at 20:29)</a>:</h4>
<p>Yeah, probably the right move</p>



<a name="490806678"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/record%20builder%20syntax/near/490806678" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/record.20builder.20syntax.html#490806678">(Dec 25 2024 at 20:30)</a>:</h4>
<p>done</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Roc Language Server maxing out CPU usage · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html">Roc Language Server maxing out CPU usage</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="438421879"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/438421879" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#438421879">(May 13 2024 at 18:19)</a>:</h4>
<p>Anyone else experience this? I've had to kill the language server repeatedly cuz it keeps tanking my CPU over the last 24 hours...<br>
<a href="/user_uploads/22008/CBnjRYm2qjYmT2sGp07WkDf_/Screenshot-2024-05-13-at-08.45.19.png">Screenshot-2024-05-13-at-08.45.19.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/CBnjRYm2qjYmT2sGp07WkDf_/Screenshot-2024-05-13-at-08.45.19.png" title="Screenshot-2024-05-13-at-08.45.19.png"><img src="/user_uploads/22008/CBnjRYm2qjYmT2sGp07WkDf_/Screenshot-2024-05-13-at-08.45.19.png"></a></div>



<a name="438442251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/438442251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#438442251">(May 13 2024 at 20:29)</a>:</h4>
<p>how recently have you updated? <span class="user-mention" data-user-id="651372">@Eli Dowling</span> shipped an update related to preventing that a few weeks ago</p>



<a name="438447906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/438447906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#438447906">(May 13 2024 at 21:03)</a>:</h4>
<p>My roc version is May 13</p>



<a name="438448211"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/438448211" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#438448211">(May 13 2024 at 21:05)</a>:</h4>
<p>Lang server should be updated side-by-side... I'm using the tarball and not the git repo, but I don't think that should matter...</p>



<a name="438448359"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/438448359" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#438448359">(May 13 2024 at 21:06)</a>:</h4>
<p>output from <code>roc version</code>:</p>
<div class="codehilite"><pre><span></span><code>roc nightly pre-release, built from commit e5ea6dc4617 on Mon May 13 10:47:45 UTC 2024
</code></pre></div>



<a name="445697351"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445697351" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445697351">(Jun 19 2024 at 20:34)</a>:</h4>
<p><a href="/user_uploads/22008/Joicihw0y1fssfW4eEmdk7G_/Screenshot-2024-06-19-at-15.32.24.png">Screenshot-2024-06-19-at-15.32.24.png</a><br>
<a href="/user_uploads/22008/eboPPI30Mz_iuqeRFswEXsAp/Screenshot-2024-06-19-at-15.32.33.png">Screenshot-2024-06-19-at-15.32.33.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/Joicihw0y1fssfW4eEmdk7G_/Screenshot-2024-06-19-at-15.32.24.png" title="Screenshot-2024-06-19-at-15.32.24.png"><img src="/user_uploads/22008/Joicihw0y1fssfW4eEmdk7G_/Screenshot-2024-06-19-at-15.32.24.png"></a></div><div class="message_inline_image"><a href="/user_uploads/22008/eboPPI30Mz_iuqeRFswEXsAp/Screenshot-2024-06-19-at-15.32.33.png" title="Screenshot-2024-06-19-at-15.32.33.png"><img src="/user_uploads/22008/eboPPI30Mz_iuqeRFswEXsAp/Screenshot-2024-06-19-at-15.32.33.png"></a></div>



<a name="445698184"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445698184" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445698184">(Jun 19 2024 at 20:38)</a>:</h4>
<p>I was having this issue a little while back. This PR resolved it <a href="https://github.com/roc-lang/roc/pull/6792">https://github.com/roc-lang/roc/pull/6792</a></p>
<p>From the notes, it mentions we default to <code>main.roc</code>, just wondering if maybe that could be related? </p>
<p>Or maybe the latest nightly doesn't include this change?</p>



<a name="445698490"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445698490" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445698490">(Jun 19 2024 at 20:40)</a>:</h4>
<p>Ooh, whoops, I see I don't have the latest nightly. Just pulled that in...</p>



<a name="445698509"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445698509" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445698509">(Jun 19 2024 at 20:40)</a>:</h4>
<p>I believe there are other issues that cause lang server hangs, but that PR fixed one of the most common</p>



<a name="445698605"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445698605" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445698605">(Jun 19 2024 at 20:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage/near/445698184">said</a>:</p>
<blockquote>
<p>From the notes, it mentions we default to <code>main.roc</code>, just wondering if maybe that could be related? </p>
</blockquote>
<p>If it doesn't find <code>main.roc</code>, it will show an error instead of hanging</p>



<a name="445699605"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445699605" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445699605">(Jun 19 2024 at 20:45)</a>:</h4>
<p>Yeah, I was on the June 1 build. I think the PR came in about a week later. I did run a roc check on a Module prior to noticing my computer performance take a nose dive (and then realize the language server had hung). So that was almost certainly the cause. I'm assuming that the June 19 nightly I just pulled down incorporates <a href="https://github.com/roc-lang/roc/issues/6792">#6792</a>.</p>



<a name="445700215"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445700215" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445700215">(Jun 19 2024 at 20:49)</a>:</h4>
<p>Side note... I didn't realize till just now that Zulip auto hyperlinks <code>#number</code> to the corresponding issue/PR on the roc repo.</p>



<a name="445704634"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%20Language%20Server%20maxing%20out%20CPU%20usage/near/445704634" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.20Language.20Server.20maxing.20out.20CPU.20usage.html#445704634">(Jun 19 2024 at 21:14)</a>:</h4>
<p>Keep us updated on this, I can definitely do some investigating if it's still an issue :)</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
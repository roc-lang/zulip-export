<html>
<head><meta charset="utf-8"><title>lazy sequence · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html">lazy sequence</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="465276199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465276199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465276199">(Aug 26 2024 at 21:45)</a>:</h4>
<p>Does roc have a "lazy list" or "infinite sequence" or stream, etc? I'm thinking about all the things I normally use for advent of code.</p>



<a name="465278902"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465278902" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465278902">(Aug 26 2024 at 22:13)</a>:</h4>
<p>Nope</p>



<a name="465278938"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465278938" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465278938">(Aug 26 2024 at 22:13)</a>:</h4>
<p>Can be built up in userland, but nothing exists in the standard library or language</p>



<a name="465279262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465279262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465279262">(Aug 26 2024 at 22:17)</a>:</h4>
<p>got it, thanks. i’m guessing this means no package either.</p>



<a name="465279760"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465279760" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465279760">(Aug 26 2024 at 22:22)</a>:</h4>
<p>i may see if i can build one, but i know there are a lot of tricky bits in implementing something like this well</p>



<a name="465280140"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465280140" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465280140">(Aug 26 2024 at 22:25)</a>:</h4>
<p>I think someone was messing around with streams before on Zulip, but no idea the state</p>



<a name="465305095"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465305095" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465305095">(Aug 27 2024 at 02:11)</a>:</h4>
<p>awkward <a href="https://gist.github.com/drewolson/6c1f5157e84a6c387faca0646d91e04a">https://gist.github.com/drewolson/6c1f5157e84a6c387faca0646d91e04a</a></p>



<a name="465305455"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465305455" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465305455">(Aug 27 2024 at 02:14)</a>:</h4>
<p>i solved it!</p>



<a name="465305481"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465305481" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465305481">(Aug 27 2024 at 02:14)</a>:</h4>
<p>my nil definition was typed <code>nil : Stream a</code> but should be <code>nil : Stream _</code></p>



<a name="465306593"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465306593" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465306593">(Aug 27 2024 at 02:24)</a>:</h4>
<p>I'm interested to know why there is a difference there. </p>
<p>My guess is that this might be related to polymorphism or something. Like once you use the top level <code>nil</code> function it's type becomes fixed to whatever it was used as. So maybe you need to make it a thunk like <code>nil: {} -&gt; Steam a</code> for it to work with different types?</p>



<a name="465306632"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465306632" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465306632">(Aug 27 2024 at 02:24)</a>:</h4>
<p>i'll gist this if / when i actually get it working</p>



<a name="465306878"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465306878" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465306878">(Aug 27 2024 at 02:26)</a>:</h4>
<p>yeah i'm running into a few more type issues with this right now</p>



<a name="465316975"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465316975" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465316975">(Aug 27 2024 at 03:51)</a>:</h4>
<p>i'm hitting all sorts of compiler bugs <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="465317518"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465317518" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465317518">(Aug 27 2024 at 03:56)</a>:</h4>
<p>this is what i have so far, it compiles <a href="https://gist.github.com/drewolson/774cc1e16c75510eefb9066a1395f780">https://gist.github.com/drewolson/774cc1e16c75510eefb9066a1395f780</a></p>



<a name="465317537"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465317537" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465317537">(Aug 27 2024 at 03:56)</a>:</h4>
<p>but when i try to use it ... bad things happen to the compiler</p>



<a name="465328395"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465328395" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Vounckx <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465328395">(Aug 27 2024 at 05:30)</a>:</h4>
<p>I was playing around with something similar a few months ago. There should be some things about is on a zulip thread somewhere. I named it Iter, so maybe that helps for looking. If I remember correctly, everything compiled back then as well, but crashed when running</p>



<a name="465341069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465341069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465341069">(Aug 27 2024 at 06:32)</a>:</h4>
<p>Hopefully the new lambdaset changes that have been tested outside of roc and need to be ported to roc will fix a lot of the issues here.</p>



<a name="465472576"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465472576" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465472576">(Aug 27 2024 at 14:43)</a>:</h4>
<p>somewhat related -- is there a good way to catch up on all the "ongoing" stuff around language changes? maybe the answer is "this zullip" <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="465474602"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465474602" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465474602">(Aug 27 2024 at 14:50)</a>:</h4>
<p>The big things are on <a href="https://www.roc-lang.org/plans">this page</a>, <a href="https://github.com/roc-lang/roc/pulls?q=is%3Apr+is%3Aclosed">recently closed PRs</a> could also be a good way to follow. And yeah zulip if you want to follow everything :)</p>



<a name="465475763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465475763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465475763">(Aug 27 2024 at 14:55)</a>:</h4>
<p>The language seems to be shaping up nicely and i'm excited to use it for more stuff (initially advent of code), but things still feel a bit too seg-fault-y to do so, mostly i'm trying to understand when to keep checking back.</p>



<a name="465478144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465478144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465478144">(Aug 27 2024 at 15:03)</a>:</h4>
<blockquote>
<p>but things still feel a bit too seg-fault-y to do so</p>
</blockquote>
<p>Yeah, <a href="#narrow/stream/316715-contributing/topic/Advent.20of.20Code.202024/near/462299920">we are aware</a>. We've been landing a lot of big changes lately, hopefully we'll have more time to focus on reliability in the near future. You can check this <a href="https://github.com/roc-lang/roc/issues?q=is%3Aissue+is%3Aopen+segmentation+fault">github search query</a> to see if the amount of segfaults has reduced :)</p>



<a name="465478654"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465478654" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465478654">(Aug 27 2024 at 15:05)</a>:</h4>
<p>awesome!</p>



<a name="465503012"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465503012" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465503012">(Aug 27 2024 at 16:42)</a>:</h4>
<p>As a note, most of the segfaults I think come from more complex uses of the language (though the compiler can also crash relatively easily, but many of those go away once <code>roc check</code> errors are fixed). So if you do more imperative style of code with less lambdas and deeply captured data (like a lazy sequence), the language tends to be able to do a lot. But yeah....still not hard to break.</p>



<a name="465503412"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465503412" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465503412">(Aug 27 2024 at 16:44)</a>:</h4>
<p>fair. i don’t have a good intuition of what is “complex” right now. a few months ago i segfaulted on arg parsing, but that seems resolved by merging weaver. i swear i’m not trying to be complex for complexity’s sake <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="465505949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465505949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465505949">(Aug 27 2024 at 16:52)</a>:</h4>
<p>Sorry, not trying to call you out.</p>
<p>Generally speaking for Roc today, complex in terms of breaking the compiler tends to be lots of nested lambdas. Parser combinators happen to be that. So do lazy sequences. I think a lot of nice functional programming concepts fall into this category sadly. It also is not clear when things will break. Sometimes these features fully work. Other times they break with something that feels simple.</p>



<a name="465508289"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/lazy%20sequence/near/465508289" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> drew <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/lazy.20sequence.html#465508289">(Aug 27 2024 at 17:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/lazy.20sequence/near/465505949">said</a>:</p>
<blockquote>
<p>Sorry, not trying to call you out.</p>
</blockquote>
<p>Not at all. The perspective is actually very useful. Every new ecosystem has things that are simple or complex based on their current strengths.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
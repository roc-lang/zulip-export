<html>
<head><meta charset="utf-8"><title>decode alternative types in roc-json · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html">decode alternative types in roc-json</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="409585772"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409585772" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Balhoff <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409585772">(Dec 22 2023 at 13:51)</a>:</h4>
<p>I would like to use roc-json to decode some json where an object can represent one of several types, which have different properties. Is there any way to do this? I'd like to write something like this (but this doesn't work):</p>
<div class="codehilite" data-code-language="roc"><pre><span></span><code>app "json-test"
    packages {
        pf: "https://github.com/roc-lang/basic-cli/releases/download/0.7.0/bkGby8jb0tmZYsy2hg1E_B2QrCgcSTxdUlHtETwm5m4.tar.br",
        json: "https://github.com/lukewilliamboswell/roc-json/releases/download/0.6.0/hJySbEhJV026DlVCHXGOZNOeoOl7468y9F9Buhj0J18.tar.br",
    }
    imports [
        pf.Stdout,
        json.Core.{ json },
        Decode.{ fromBytes },
    ]
    provides [main] to pf

jsonStr = Str.toUtf8 "{\"id\": \"http://example.org/A\"}"

Concept : [AtomicConcept { id : Str }, ExistentialRestriction { role : Str }]

result : Result Concept _
result = jsonStr |&gt; Decode.fromBytes json

main =
    Stdout.line (Inspect.toStr result)
</code></pre></div>



<a name="409588213"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409588213" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409588213">(Dec 22 2023 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> could know this</p>



<a name="409594471"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409594471" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409594471">(Dec 22 2023 at 14:51)</a>:</h4>
<p>Unfortunately this isn’t supported right now. The compiler needs to be updated to support decoding into tag unions in general</p>



<a name="409594980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409594980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409594980">(Dec 22 2023 at 14:52)</a>:</h4>
<p>This is the issue <a href="https://github.com/roc-lang/roc/issues/3816">https://github.com/roc-lang/roc/issues/3816</a></p>



<a name="409595123"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409595123" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409595123">(Dec 22 2023 at 14:53)</a>:</h4>
<p>I implemented the first part of it but am not currently working on it</p>



<a name="409595949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/decode%20alternative%20types%20in%20roc-json/near/409595949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Balhoff <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/decode.20alternative.20types.20in.20roc-json.html#409595949">(Dec 22 2023 at 14:57)</a>:</h4>
<p>Ah, okay, thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
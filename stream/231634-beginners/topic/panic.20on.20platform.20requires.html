<html>
<head><meta charset="utf-8"><title>panic on platform requires · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html">panic on platform requires</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="342073132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342073132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342073132">(Mar 15 2023 at 14:27)</a>:</h4>
<p>in platforms, having more than one required function panics with <code>"thread 'main' panicked at 'There were still outstanding Arc references to module_ids', crates/compiler/load_internal/src/file.rs:1842:37"</code></p>
<div class="codehilite"><pre><span></span><code>platform &quot;hello world&quot;
    requires {} { first : arg -&gt; ret, second : arg -&gt; ret}
</code></pre></div>
<p>removing second solves it<br>
am i.. not supposed to have two decls there?</p>



<a name="342074164"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342074164" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342074164">(Mar 15 2023 at 14:30)</a>:</h4>
<p>Just not supported yet. The apps with multiple declarations use a record of declarations. Kinda hacky and not always done correctly. I wonder if we have a tracking bug for this, super old issue.</p>



<a name="342074863"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342074863" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342074863">(Mar 15 2023 at 14:33)</a>:</h4>
<p>oof i wanted it so i could have multiple methods as interop examples</p>
<p>is this a big deal to implement? perhaps i could take a look</p>



<a name="342077525"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342077525" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342077525">(Mar 15 2023 at 14:42)</a>:</h4>
<p>I mean you can have multiple method currently, just via a workaround.</p>



<a name="342077637"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342077637" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342077637">(Mar 15 2023 at 14:43)</a>:</h4>
<p>and no idea on difficulty</p>



<a name="342078008"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342078008" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342078008">(Mar 15 2023 at 14:44)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/blob/2023770ce77756d01b63e67b13846f24fa95879c/examples/gui/breakout/platform/main.roc#L9">https://github.com/roc-lang/roc/blob/2023770ce77756d01b63e67b13846f24fa95879c/examples/gui/breakout/platform/main.roc#L9</a></p>



<a name="342078100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342078100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342078100">(Mar 15 2023 at 14:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342078008">said</a>:</p>
<blockquote>
<p><a href="https://github.com/roc-lang/roc/blob/2023770ce77756d01b63e67b13846f24fa95879c/examples/gui/breakout/platform/main.roc#L9">https://github.com/roc-lang/roc/blob/2023770ce77756d01b63e67b13846f24fa95879c/examples/gui/breakout/platform/main.roc#L9</a></p>
</blockquote>
<p>ohhh now i see what u mean</p>



<a name="342078150"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342078150" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342078150">(Mar 15 2023 at 14:44)</a>:</h4>
<p>nice that's not even that bad</p>



<a name="342078480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342078480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342078480">(Mar 15 2023 at 14:45)</a>:</h4>
<p>There are gotcha on the platform side around implementation depending if those return functions are closures or pure functions with no extra data. If you can make sure they are pure with no extra data it will avoid issues.</p>



<a name="342079342"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342079342" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342079342">(Mar 15 2023 at 14:48)</a>:</h4>
<p>As in this may  cause you problems depending on how you implement the host:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\</span><span class="nx">_</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">someDat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">         </span><span class="nv">getDataForHost</span><span class="o">:</span><span class="w"> </span><span class="err">\</span><span class="nx">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nx">someData</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>vs the below shouldn't have any gotchas:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nv">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\</span><span class="nx">_</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nv">getDataForHost</span><span class="o">:</span><span class="w"> </span><span class="err">\</span><span class="nx">_</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">            </span><span class="nv">someDat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">            </span><span class="nx">someData</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>



<a name="342082149"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342082149" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342082149">(Mar 15 2023 at 14:58)</a>:</h4>
<p>oh yea i think i ran into something like that in another code<br>
ill be careful of that then<br>
tnx</p>



<a name="342169506"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342169506" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342169506">(Mar 15 2023 at 21:24)</a>:</h4>
<p>uhhh the <code>program</code> trick makes it much harder to work with <a href="/user_uploads/22008/IZQAEg1Qu8SJyvS_eyCxF1nl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/IZQAEg1Qu8SJyvS_eyCxF1nl/image.png" title="image.png"><img src="/user_uploads/22008/IZQAEg1Qu8SJyvS_eyCxF1nl/image.png"></a></div>



<a name="342169641"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342169641" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342169641">(Mar 15 2023 at 21:25)</a>:</h4>
<p>now im actually not sure what extern function to expect in the host code</p>



<a name="342169850"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342169850" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342169850">(Mar 15 2023 at 21:26)</a>:</h4>
<p>Did you use <code>as</code> to name each function in the record?</p>



<a name="342170035"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170035" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170035">(Mar 15 2023 at 21:28)</a>:</h4>
<p>oh no i forgot<br>
hold up ill see if it makes it better</p>



<a name="342170098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170098">(Mar 15 2023 at 21:28)</a>:</h4>
<p>Basically do that. They each function will be exposed the same way mainForHost normally is.</p>



<a name="342170144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170144">(Mar 15 2023 at 21:28)</a>:</h4>
<p>As long as they are implement without capture data. They can be called the same way as mainForHost</p>



<a name="342170182"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170182" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170182">(Mar 15 2023 at 21:29)</a>:</h4>
<p>Of course with their own arguments and return type.</p>



<a name="342170209"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170209" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170209">(Mar 15 2023 at 21:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342170144">said</a>:</p>
<blockquote>
<p>As long as they are implement without capture data. They can be called the same way as mainForHost</p>
</blockquote>
<p>capture data in what way?</p>



<a name="342170257"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170257" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170257">(Mar 15 2023 at 21:29)</a>:</h4>
<p>the functions you expose should be top-level functions</p>



<a name="342170259"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170259" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170259">(Mar 15 2023 at 21:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342170098">said</a>:</p>
<blockquote>
<p>Basically do that. They each function will be exposed the same way mainForHost normally is.</p>
</blockquote>
<p>um i see now the names i defined<br>
got some <code>_result_size</code> suffix now</p>



<a name="342170261"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170261" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170261">(Mar 15 2023 at 21:29)</a>:</h4>
<p>Like i showed above with <code>someData</code></p>



<a name="342170357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170357">(Mar 15 2023 at 21:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281543">Folkert de Vries</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342170257">said</a>:</p>
<blockquote>
<p>the functions you expose should be top-level functions</p>
</blockquote>
<p>ohh yea no closures here so we're good</p>



<a name="342170429"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170429" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170429">(Mar 15 2023 at 21:30)</a>:</h4>
<p>um why actually do they get a result_size suffix?</p>



<a name="342170565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170565">(Mar 15 2023 at 21:32)</a>:</h4>
<p>maybe it's something else</p>



<a name="342170587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170587">(Mar 15 2023 at 21:32)</a>:</h4>
<p>I think you should be able to ignore those and just use the same equivalent functions as with mainForHost.</p>



<a name="342170625"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170625" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170625">(Mar 15 2023 at 21:32)</a>:</h4>
<p><a href="/user_uploads/22008/MpHe5wZy9VxQJlGtwlDivwO5/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/MpHe5wZy9VxQJlGtwlDivwO5/image.png" title="image.png"><img src="/user_uploads/22008/MpHe5wZy9VxQJlGtwlDivwO5/image.png"></a></div>



<a name="342170639"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170639" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170639">(Mar 15 2023 at 21:32)</a>:</h4>
<p>It just returns the number of bytes the result is</p>



<a name="342170644"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170644" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170644">(Mar 15 2023 at 21:32)</a>:</h4>
<p>no they're not the same</p>



<a name="342170655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170655">(Mar 15 2023 at 21:32)</a>:</h4>
<p>Which you probably already know</p>



<a name="342170669"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170669" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170669">(Mar 15 2023 at 21:32)</a>:</h4>
<p>at least not named the same</p>



<a name="342170726"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170726" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170726">(Mar 15 2023 at 21:32)</a>:</h4>
<p><code>_1_exposed_generic</code> suffix is only on the program now, see?</p>



<a name="342170733"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170733" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170733">(Mar 15 2023 at 21:32)</a>:</h4>
<p>Can you share your current code</p>



<a name="342170757"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170757" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170757">(Mar 15 2023 at 21:33)</a>:</h4>
<p>Just the platform def</p>



<a name="342170809"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170809" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170809">(Mar 15 2023 at 21:33)</a>:</h4>
<p>Like programForHost type and definition</p>



<a name="342170826"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170826" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170826">(Mar 15 2023 at 21:33)</a>:</h4>
<p>sure</p>
<div class="codehilite"><pre><span></span><code>platform &quot;jvm-interop&quot;
    requires {} { program : _ }
    exposes []
    packages {}
    imports []
    provides [programForHost]

programForHost : {
    interpolateString : Str -&gt; Str as InterpolateString,
    mulArrByScalar : List I32 -&gt; List I32 as MulArrByScalar,
}
programForHost = program
</code></pre></div>



<a name="342170877"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342170877" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342170877">(Mar 15 2023 at 21:33)</a>:</h4>
<p>Put parens around the function types and try again.</p>



<a name="342171229"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171229" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171229">(Mar 15 2023 at 21:36)</a>:</h4>
<p>yes the <code>as</code> here binds only to the return type</p>



<a name="342171304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171304">(Mar 15 2023 at 21:36)</a>:</h4>
<p>(put parens not including the <code>as</code> right?)<br>
does look a bit different<br>
<a href="/user_uploads/22008/aYC6u9t2hLB37mPl2pSyg-4T/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/aYC6u9t2hLB37mPl2pSyg-4T/image.png" title="image.png"><img src="/user_uploads/22008/aYC6u9t2hLB37mPl2pSyg-4T/image.png"></a></div>



<a name="342171313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171313">(Mar 15 2023 at 21:36)</a>:</h4>
<p>it needs to apply to the whole function type, so <code>(Foo -&gt; Bar) as Fx</code></p>



<a name="342171340"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171340" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171340">(Mar 15 2023 at 21:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281543">Folkert de Vries</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342171313">said</a>:</p>
<blockquote>
<p>it needs to apply to the whole function type, so <code>(Foo -&gt; Bar) as Fx</code></p>
</blockquote>
<p>yea that's what i did</p>



<a name="342171422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171422">(Mar 15 2023 at 21:37)</a>:</h4>
<p>is <code>_caller</code> what im after now?</p>



<a name="342171498"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171498" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171498">(Mar 15 2023 at 21:37)</a>:</h4>
<p>yep</p>



<a name="342171526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171526">(Mar 15 2023 at 21:37)</a>:</h4>
<p>nicee thanks guys</p>



<a name="342171667"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171667" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171667">(Mar 15 2023 at 21:38)</a>:</h4>
<p>If this helps at all: <a href="https://github.com/roc-lang/roc/blob/main/examples/gui/breakout/platform/src/roc.rs">https://github.com/roc-lang/roc/blob/main/examples/gui/breakout/platform/src/roc.rs</a></p>



<a name="342171686"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171686" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171686">(Mar 15 2023 at 21:38)</a>:</h4>
<p>Example of use in rust.</p>



<a name="342171761"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171761" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171761">(Mar 15 2023 at 21:39)</a>:</h4>
<p>You can see how the multiple functions all look the same more or less in how they get called. Which is very similar to <code>mainForHost</code> in other apps.</p>



<a name="342171924"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171924" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171924">(Mar 15 2023 at 21:40)</a>:</h4>
<p>Actual call example: <a href="https://github.com/roc-lang/roc/blob/main/examples/gui/breakout/platform/src/roc.rs#L358-L370">https://github.com/roc-lang/roc/blob/main/examples/gui/breakout/platform/src/roc.rs#L358-L370</a></p>



<a name="342171992"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342171992" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342171992">(Mar 15 2023 at 21:40)</a>:</h4>
<p>Though if you have a static result_size, I don't think you need to call that function.</p>



<a name="342172070"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172070" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172070">(Mar 15 2023 at 21:41)</a>:</h4>
<p>so is <code>_1_exposed_generic</code> just for unnamed scenarios?</p>



<a name="342172147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172147">(Mar 15 2023 at 21:41)</a>:</h4>
<p>essentially. Thouhgh it can never have closure capture data.</p>



<a name="342172166"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172166" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172166">(Mar 15 2023 at 21:41)</a>:</h4>
<p>These technically could.</p>



<a name="342172254"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172254" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172254">(Mar 15 2023 at 21:42)</a>:</h4>
<p>Then you would have to call them in a slightly more complex way.</p>



<a name="342172335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172335">(Mar 15 2023 at 21:42)</a>:</h4>
<p>is that implemented?<br>
wonder how you'd do that</p>



<a name="342172419"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172419" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172419">(Mar 15 2023 at 21:43)</a>:</h4>
<p>You call <code>programForHost</code> Then take the closure data that it returns and split it up into the closure data for each function and make sure to give that to each function.</p>



<a name="342172557"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172557" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172557">(Mar 15 2023 at 21:44)</a>:</h4>
<p>If the methods are called more than once, you may also need to deal with refcounts updating, not sure though.</p>



<a name="342172782"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172782" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172782">(Mar 15 2023 at 21:45)</a>:</h4>
<p>This is all of the stuff where fully working glue will be amazing</p>



<a name="342172837"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342172837" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342172837">(Mar 15 2023 at 21:45)</a>:</h4>
<p>Should all be generated correctly for you without needing to know all these details and byte offsets.</p>



<a name="342181083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342181083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342181083">(Mar 15 2023 at 22:45)</a>:</h4>
<p>seems that the _caller symbol offset is.. off<br>
i keep crashing the jvm now</p>
<div class="codehilite"><pre><span></span><code>munmap_chunk(): invalid pointer
fish: Job 1, &#39;java javaSource.Greeter&#39; terminated by signal SIGABRT (Abort)
</code></pre></div>
<p>though actually what happened before (and worked) is that i wrapped the required functions in new functions (because you cant re-export, at least that's what the compiler said) and exposed those<br>
now that we turn over the same, it can't find the functions, ig</p>



<a name="342181287"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342181287" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342181287">(Mar 15 2023 at 22:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="583319">dank</span> <a href="#narrow/stream/231634-beginners/topic/panic.20on.20platform.20requires/near/342170826">said</a>:</p>
<blockquote>
<p>sure</p>
<p><div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">platform</span><span class="w"> </span><span class="s">"jvm-interop"</span>
<span class="w">    </span><span class="nv">requires</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">program</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="nv">exposes</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="nv">packages</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="nv">imports</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="nv">provides</span><span class="w"> </span><span class="p">[</span><span class="nv">programForHost</span><span class="p">]</span>

<span class="nv">programForHost</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">interpolateString</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">(</span><span class="kt">Str</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Str</span><span class="p">)</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kt">InterpolateString</span><span class="p">,</span>
<span class="p">}</span>
<span class="nv">programForHost</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">program</span>
</code></pre></div><br>
</p>
</blockquote>
<p>to make stuff clear, this ^ doesn't work<br>
but this V does</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">platform</span><span class="w"> </span><span class="s">"jvm-interop"</span>
<span class="w">    </span><span class="nv">requires</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">interpolateString</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="nv">arg</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">ret</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="nv">exposes</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="nv">packages</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="nv">imports</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="nv">provides</span><span class="w"> </span><span class="p">[</span><span class="nv">interpolateStringy</span><span class="p">]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="p">(</span><span class="nv">y</span><span class="w"> </span><span class="nv">suffix</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">change</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">convenience</span><span class="p">,</span><span class="w"> </span><span class="nv">updated</span><span class="w"> </span><span class="nv">accordingly</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">host</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="nv">testing</span><span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">doesnt</span><span class="w"> </span><span class="nv">matter</span><span class="p">)</span>

<span class="nv">interpolateStringy</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">arg</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">interpolateString</span><span class="w"> </span><span class="nv">arg</span>
</code></pre></div>



<a name="342181400"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342181400" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342181400">(Mar 15 2023 at 22:47)</a>:</h4>
<p>interesting bug</p>



<a name="342187472"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342187472" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342187472">(Mar 15 2023 at 23:33)</a>:</h4>
<p>It would surprise me if the symbol offsets are wrong. Probably a different root cause</p>



<a name="342188208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342188208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342188208">(Mar 15 2023 at 23:41)</a>:</h4>
<p>well idk. ill call it a night for now but look at it some more tomorrow</p>
<p>at least i found 6 (mostly parser) issues! also learned a shitton on platforms, so that's nice</p>



<a name="342397675"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342397675" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dank <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342397675">(Mar 16 2023 at 18:50)</a>:</h4>
<p>am i mad or does using a record in requires causes a different memory layout<br>
<a href="/user_uploads/22008/iV91D3aryJcojEwl4w_T_gcx/image.png">image.png</a><br>
<a href="/user_uploads/22008/QhWKKDdeqI51r7pdzN5LR28B/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/iV91D3aryJcojEwl4w_T_gcx/image.png" title="image.png"><img src="/user_uploads/22008/iV91D3aryJcojEwl4w_T_gcx/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/22008/QhWKKDdeqI51r7pdzN5LR28B/image.png" title="image.png"><img src="/user_uploads/22008/QhWKKDdeqI51r7pdzN5LR28B/image.png"></a></div>



<a name="342401278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/panic%20on%20platform%20requires/near/342401278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/panic.20on.20platform.20requires.html#342401278">(Mar 16 2023 at 19:08)</a>:</h4>
<p>Best way to tell would be to use <code>--debug</code> and look at the llvm ir.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
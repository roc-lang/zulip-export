<html>
<head><meta charset="utf-8"><title>how  records works in  roc? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html">how  records works in  roc?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="350302179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350302179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350302179">(Apr 16 2023 at 12:07)</a>:</h4>
<p>It seems  that I want to call function recursively, one parameter being a record, I want to alter this record as I pass it down the line (by adding field etc.) like  it was  list. At the  end I wanted to make  certain  action depending  on  pattern matched on specific record produced by this  function. Apparently  entire  scheme is impossible because function seems  to accept  very specific  record and I can't alter that. This  harms  flexibility  since I don't  know  what  kind of  record I need before  running  function. This  restrictions seems artificial, what harm it can cause, to add such capability. How to overcome it using existing  syntax</p>



<a name="350302656"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350302656" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350302656">(Apr 16 2023 at 12:09)</a>:</h4>
<p>you cannot add fields to records. Records are static, you cannot dynamically add fields. Something like a <code>Dict</code> might be a better fit</p>



<a name="350304632"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350304632" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350304632">(Apr 16 2023 at 12:19)</a>:</h4>
<p>ok can I pattern match on dict ?  for example if  it has specific keys in place, if so what is the syntax</p>



<a name="350305076"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350305076" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350305076">(Apr 16 2023 at 12:21)</a>:</h4>
<p>you can match on <code>Dict.get yourDict yourKey</code></p>



<a name="350305122"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350305122" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350305122">(Apr 16 2023 at 12:21)</a>:</h4>
<p>but in a dict, all fields must have the same type, that is a restriction there</p>



<a name="350309880"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350309880" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350309880">(Apr 16 2023 at 12:45)</a>:</h4>
<p>ok  I can use  dict , but I will require tweaking. It seems weird  though, in some other  languages I can throw garbage I have at hand to any structure or  class using  polymorphism, or  if this is not possible, there exist some  kind of  structure  like python dict  working with various  types. Lacking that  capability is  limiting  (in serious  way)  is there any roadmap to create  some  kind of garbage  friendly  structure like  dict in  python?</p>



<a name="350313006"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350313006" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350313006">(Apr 16 2023 at 13:07)</a>:</h4>
<p>No. It sounds like you're used to dynamically typed languages. Statically typed languages require you to learn different ways to write your programs. You can still do everything you can do in dynamic languages, you just need to approach it differently. The reward is faster code and easier refactoring.<br>
As I mentioned in one of the other threads, you can use tagged unions to combine different types into one type. They're covered in the tutorial.</p>



<a name="350316723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350316723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artur Swiderski <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350316723">(Apr 16 2023 at 13:34)</a>:</h4>
<p>ok I used  unions and  it  works but still weird : )</p>



<a name="350317936"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350317936" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350317936">(Apr 16 2023 at 13:42)</a>:</h4>
<p>incidentally, dynamic languages like Python use tags under the hood - they're just syntactically invisible</p>



<a name="350318021"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350318021" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350318021">(Apr 16 2023 at 13:43)</a>:</h4>
<p>like in Python when you write <code>["foo", 5, someBoolean]</code> in Roc you would write <code>[Str "foo", Num 5, Bool someBoolean]</code></p>



<a name="350318241"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350318241" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350318241">(Apr 16 2023 at 13:44)</a>:</h4>
<p>but Python is tagging them behind the scenes; that's <code>type()</code> and <code>isinstance()</code> know at runtime what the type is (they look at the hidden tag)</p>



<a name="350318336"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350318336" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350318336">(Apr 16 2023 at 13:45)</a>:</h4>
<p>whereas in Roc instead of using <code>type()</code> or <code>isinstance()</code> you'd do a pattern match like:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="k">when</span><span class="w"> </span><span class="nx">myListElement</span><span class="w"> </span><span class="o">is</span>
<span class="w">    </span><span class="nx">Str</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="c1"># do something with this string</span>
<span class="w">    </span><span class="nx">Num</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="c1"># do something with this number</span>
<span class="w">    </span><span class="nx">Bool</span><span class="w"> </span><span class="nx">bool</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="c1"># do something with this bool</span>
</code></pre></div>



<a name="350318570"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350318570" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350318570">(Apr 16 2023 at 13:46)</a>:</h4>
<p>the pros/cons as I see them are:</p>
<ul>
<li>the python way is more concise to define the data structure (but usually not more concise to access it, since you'll probably still need to use <code>type()</code> or <code>isinstance()</code> somewhere in order to do something different based on what you had in there)</li>
<li>the Roc way is less concise to define, but in return it gives you exhaustiveness checking; the compiler can tell you if you forgot to handle a particular type that could be in the list, and it can also tell you if you have dead code that's checking for something that couldn't possibly be in the list</li>
</ul>



<a name="350318585"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/how%20%20records%20works%20in%20%20roc%3F/near/350318585" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/how.20.20records.20works.20in.20.20roc.3F.html#350318585">(Apr 16 2023 at 13:46)</a>:</h4>
<p>tradeoffs! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Type alias question · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html">Type alias question</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="512416771"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512416771" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krzysztof Skowronek <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512416771">(Apr 15 2025 at 21:30)</a>:</h4>
<p>I have the following sample:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kn">module</span><span class="w"> </span><span class="err">[</span><span class="nc">MyType</span><span class="p">,</span><span class="w"> </span><span class="nv">create</span><span class="p">]</span>

<span class="kt">MyType</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">name</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="p">,</span>
<span class="p">}</span>

<span class="err">#</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="nv">know</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">do</span><span class="w"> </span><span class="nv">this</span>
<span class="err">#</span><span class="w"> </span><span class="nv">create</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Str</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">MyType</span>
<span class="nv">create</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">|</span><span class="nv">name</span><span class="nf">|</span><span class="w"> </span><span class="p">{</span><span class="nv">name</span><span class="p">}</span>
</code></pre></div>
<p>Is there a way to "cast" the record to the alias without the global type annotation?</p>
<p>I guess the same goes for:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">MyType</span>
<span class="nv">a</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="p">{</span><span class="nv">name</span><span class="nf">:</span><span class="w"> </span><span class="s">"name"</span><span class="p">}</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="nv">somehow</span><span class="w"> </span><span class="s">"cast"</span><span class="w"> </span><span class="nv">it</span><span class="err">?</span>
</code></pre></div>
<p>I tried different things, but most errors point me to a situation where it just creates a new tag. Btw, I was a bit surprised that you can have both a tag and a type with the same name :)</p>



<a name="512434051"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512434051" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512434051">(Apr 15 2025 at 23:59)</a>:</h4>
<p>I'm not sure I understand the question. What do you need to cast?</p>



<a name="512477007"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512477007" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krzysztof Skowronek <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512477007">(Apr 16 2025 at 06:56)</a>:</h4>
<p>I want the function type to say it return MyType. So I need to somehow tell the compiler to use the alias instead of just record shape.</p>
<p>So far only way I found is to use type annotations on the function. By casting I mean putting something in the record itself, so that the MyType is infected for the function</p>



<a name="512496886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512496886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krzysztof Skowronek <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512496886">(Apr 16 2025 at 08:45)</a>:</h4>
<p>I am looking for something like:</p>
<div class="codehilite"><pre><span></span><code>create = |name| {name} as MyType
</code></pre></div>
<p>so that the create function is inferred as <code>create: Str -&gt; MyType</code> instead of <code>create : Str -&gt; {name: Str}</code>. I know I can add the dectoration on the fucntion. Another thing I know I can do is:</p>
<div class="codehilite"><pre><span></span><code>create = |name|
    result : MyType
    result = { name }

    result
</code></pre></div>
<p>but it still feels like a way around :)</p>



<a name="512505680"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512505680" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512505680">(Apr 16 2025 at 09:27)</a>:</h4>
<p>There is no casting like that in Roc, annotations are the only way.</p>



<a name="512514334"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512514334" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512514334">(Apr 16 2025 at 10:09)</a>:</h4>
<p>A function that returns <code>{ name: Str }</code> and one that accepts <code>MyType</code> are compatible though.</p>



<a name="512515210"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512515210" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krzysztof Skowronek <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512515210">(Apr 16 2025 at 10:15)</a>:</h4>
<p>I know, but they stop being compatible when I change the MyType definition. I guess type annotations are enough. the seem a bit invasive. But defintely good enough :)</p>



<a name="512609351"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512609351" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512609351">(Apr 16 2025 at 17:09)</a>:</h4>
<p>An important piece of information in Roc:<br>
A type alias is solely an alias (or in more proper terms, is a structural type). So they have no distinction in the compiler from the underlying type. That is why you can't cast to them it would literally be a noop.</p>
<p>We also have opaque types (which are true custom types that are unique), but they are likely way more heavy handed than you want here.</p>
<p>Type annotations are the correct solution in roc for this.</p>
<p>The short way to do it without annotating the function would be to just annotate the variable:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">myFn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|...|</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">SomeType</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">...</span>
<span class="w">    </span><span class="n">x</span>
</code></pre></div>
<p>We generally recommend annotating all top level functions in code larger than small scripts.</p>



<a name="512656270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512656270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krzysztof Skowronek <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512656270">(Apr 16 2025 at 19:08)</a>:</h4>
<p>I fully understand, I haven't written big enough program yet to fully emerge the practices around that :) </p>
<p>I have played with opaque types, and so far my only question for them would be whether it's possible to make just some member "public", like a length for a list while everything else is hidden.</p>
<p>Judging by the standard library it's impossible and I should just make MyType.len function</p>



<a name="512665159"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Type%20alias%20question/near/512665159" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Type.20alias.20question.html#512665159">(Apr 16 2025 at 19:31)</a>:</h4>
<p>Currently impossible. May change in the zig compiler with custom types (the new variant of opaque types)</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
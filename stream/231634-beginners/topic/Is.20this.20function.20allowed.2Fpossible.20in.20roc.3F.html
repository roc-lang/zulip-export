<html>
<head><meta charset="utf-8"><title>Is this function allowed/possible in roc? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html">Is this function allowed/possible in roc?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="319403023"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319403023" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaus Wettstein <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319403023">(Jan 04 2023 at 14:41)</a>:</h4>
<p><code>List [One, Two] -&gt; List [One]</code></p>
<p>The function is only allowed to return One-Tags but it is returning a Two-Tag without any compiler errors: <a href="https://github.com/ni-ko-o-kin/advent-of-code-2022-roc/blob/e176fa9804d9ba598f8c4a55b2ca2adc258b0e83/OneTwo.roc#L24">https://github.com/ni-ko-o-kin/advent-of-code-2022-roc/blob/e176fa9804d9ba598f8c4a55b2ca2adc258b0e83/OneTwo.roc#L24</a></p>



<a name="319407473"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319407473" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319407473">(Jan 04 2023 at 15:02)</a>:</h4>
<p>Ouch, yeah that's a bug. Could you please file an issue?</p>



<a name="319409088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319409088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaus Wettstein <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319409088">(Jan 04 2023 at 15:10)</a>:</h4>
<p>Sure!</p>



<a name="319410230"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319410230" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaus Wettstein <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319410230">(Jan 04 2023 at 15:15)</a>:</h4>
<p>But is this function possible in roc? Does the compiler know that I only returned One-Tags in all when-is branches? (regardless of the compiler bug)</p>



<a name="319412219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319412219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319412219">(Jan 04 2023 at 15:25)</a>:</h4>
<p>Well, that function is currently inferred as <code>List [One, Two] -&gt; List [One, Two]</code> (the bug is that the output tag is allowed to grow larger than you specified)</p>



<a name="319412301"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Is%20this%20function%20allowed/possible%20in%20roc%3F/near/319412301" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Is.20this.20function.20allowed.2Fpossible.20in.20roc.3F.html#319412301">(Jan 04 2023 at 15:25)</a>:</h4>
<p>If both of your when branches were <code>-&gt; One</code> then <code>List [One, Two] -&gt; List [One]</code> would be inferred.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
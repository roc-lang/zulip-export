<html>
<head><meta charset="utf-8"><title>nix / direnv · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html">nix / direnv</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="287116311"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/287116311" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Kilgore <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#287116311">(Jun 22 2022 at 21:29)</a>:</h4>
<p>I get an infinite loop of shells using direnv + <code>nix develop</code>.  Anyone have a preferred way of avoiding this? <code>use flake</code>? <code>use nix</code>?</p>



<a name="287124876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/287124876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#287124876">(Jun 22 2022 at 23:03)</a>:</h4>
<p>I have a direnv with “use flake” set and haven’t run into infinite loops. can you record what you’re seeing?</p>



<a name="287130272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/287130272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Kilgore <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#287130272">(Jun 23 2022 at 00:24)</a>:</h4>
<p><span class="user-mention" data-user-id="454654">@Ayaz Hafiz</span> I'll use that then.  I'm unfamiliar with nix, so I just dropped <code>nix develop</code> into the .envrc -- I found <code>use flake</code> later in the docs but wasn't sure if that was the same thing.  I'll stick w/ <code>use flake</code>. Thanks!</p>



<a name="412422893"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/412422893" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ricardo Valero de la Rosa <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#412422893">(Jan 11 2024 at 21:19)</a>:</h4>
<p>Do I need <code>--impure</code>?</p>
<p>When using roc with nix flakes and direnv is it necessary to have in <code>.envrc</code>: </p>
<div class="codehilite"><pre><span></span><code>use flake . --impure;
</code></pre></div>



<a name="412449313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/412449313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#412449313">(Jan 12 2024 at 00:42)</a>:</h4>
<p>I don't use It with <code>--impure</code> and It seems to work just fine.</p>



<a name="412449404"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/412449404" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#412449404">(Jan 12 2024 at 00:42)</a>:</h4>
<p>Though on Linux sometime, I get annoyances related to system vs nix glibc versions</p>



<a name="412449450"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/412449450" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#412449450">(Jan 12 2024 at 00:43)</a>:</h4>
<p>So anything built in nix can't be used outside of nix</p>



<a name="412449484"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/nix%20/%20direnv/near/412449484" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/nix.20.2F.20direnv.html#412449484">(Jan 12 2024 at 00:43)</a>:</h4>
<p>Not sure if <code>--impure</code> would fix that.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
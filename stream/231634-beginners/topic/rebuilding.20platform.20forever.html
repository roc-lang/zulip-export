<html>
<head><meta charset="utf-8"><title>rebuilding platform forever · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html">rebuilding platform forever</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="300902503"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300902503" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300902503">(Sep 26 2022 at 21:26)</a>:</h4>
<p>hey folks - I've tried testing the cli platform once more and it successfully builds the binary but I have to force quit the process either way. any one else? this is the code:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nx">app</span><span class="w"> </span><span class="s">"hangman"</span><span class="w"></span>
<span class="w">    </span><span class="nx">packages</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">pf</span><span class="o">:</span><span class="w"> </span><span class="s">"../roc/examples/interactive/cli-platform/main.roc"</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">imports</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="nx">pf</span><span class="p">.</span><span class="nx">Program</span><span class="p">.{</span><span class="w"> </span><span class="nx">Program</span><span class="p">,</span><span class="w"> </span><span class="nx">ExitCode</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nx">pf</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">pf</span><span class="p">.</span><span class="nx">Stdin</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">pf</span><span class="p">.</span><span class="nx">Task</span><span class="p">.{</span><span class="w"> </span><span class="nx">Task</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="nx">provides</span><span class="w"> </span><span class="p">[</span><span class="nx">main</span><span class="p">]</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">pf</span><span class="w"></span>

<span class="nv">main</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">Program</span><span class="w"></span>
<span class="nv">main</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="nx">Program</span><span class="p">.</span><span class="nx">noArgs</span><span class="w"> </span><span class="nx">mainTask</span><span class="w"></span>

<span class="nv">mainTask</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">Task</span><span class="w"> </span><span class="nx">ExitCode</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">[</span><span class="nx">Read</span><span class="w"> </span><span class="p">[</span><span class="nx">Stdin</span><span class="p">],</span><span class="w"> </span><span class="nx">Write</span><span class="w"> </span><span class="p">[</span><span class="nx">Stdout</span><span class="p">]]</span><span class="w"></span>
<span class="nv">mainTask</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="nx">line</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nx">Stdin</span><span class="p">.</span><span class="nx">line</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Task</span><span class="p">.</span><span class="nx">await</span><span class="w"></span>
<span class="w">    </span><span class="nx">Stdout</span><span class="p">.</span><span class="nx">line</span><span class="w"> </span><span class="s">"Got: \(line)"</span><span class="w"></span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nx">Program</span><span class="p">.</span><span class="nx">exit</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
</code></pre></div>



<a name="300903516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300903516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300903516">(Sep 26 2022 at 21:35)</a>:</h4>
<p>so it waits on stdin forever and never prints "Got: "?</p>



<a name="300904869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300904869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300904869">(Sep 26 2022 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> if I run the program it works normally - the problem happens when I compile the binary. It gets stuck on "Rebuilding platform..." forever. But if I kill the process it actually succeeded and the binary is already then. (I'm running the current main built from source on a non-M1 Mac)</p>



<a name="300905132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300905132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300905132">(Sep 26 2022 at 21:49)</a>:</h4>
<p>if the platform is really there, you can pass the <code>--prebuilt-platform=true</code> flag</p>



<a name="300905179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300905179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300905179">(Sep 26 2022 at 21:50)</a>:</h4>
<p>though maybe not on an M1 machine</p>



<a name="300906979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300906979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300906979">(Sep 26 2022 at 22:03)</a>:</h4>
<p>yeah that flag doesn't do anything on M1 yet</p>



<a name="300907073"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300907073" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300907073">(Sep 26 2022 at 22:04)</a>:</h4>
<p><span class="user-mention" data-user-id="364014">@Georges Boris</span> is there a branch pushed somewhere I could try? I have an M1</p>



<a name="300907250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300907250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300907250">(Sep 26 2022 at 22:05)</a>:</h4>
<p>Sorry folks - my bad. I was taking <code>roc</code> as <code>roc build</code> and I got confused since it both built and ran the program. The "getting stuck" was just the program waiting for the line (as part of the program running). I just remembered about <code>roc dev</code> and <code>roc build</code> and things made sense again! Thank you.</p>



<a name="300911623"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/rebuilding%20platform%20forever/near/300911623" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/rebuilding.20platform.20forever.html#300911623">(Sep 26 2022 at 22:48)</a>:</h4>
<blockquote>
<p>yeah that flag doesn't do anything on M1 yet</p>
</blockquote>
<p>It still works. It just assumes the platform was already compiled and skips rebuilding it.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
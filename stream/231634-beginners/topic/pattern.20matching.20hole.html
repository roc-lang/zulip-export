<html>
<head><meta charset="utf-8"><title>pattern matching hole · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html">pattern matching hole</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="313502116"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/pattern%20matching%20hole/near/313502116" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JesterXL <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html#313502116">(Dec 02 2022 at 13:43)</a>:</h4>
<p>Question on pattern matching; trying to use tagged parameter, but I must be messing up the formatting. I have this, and it works:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="w">        </span><span class="nv">when</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">            </span><span class="kt">UnknownStrategy</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"></span>
<span class="w">            </span><span class="kt">RockVsRockDraw</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">RockVsPaperWin</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">RockVsScissorsLoss</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">PaperVsRockLoss</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">PaperVsPaperDraw</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">PaperVsScissorsWin</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">ScissorsVsRockWin</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">ScissorsVsPaperLoss</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">            </span><span class="kt">ScissorsVsScissorsDraw</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
</code></pre></div>
<p>But I wanna write this:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">when</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">    </span><span class="kt">UnknownStrategy</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"></span>
<span class="w">     </span><span class="nv">_</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
</code></pre></div>
<p>But she gets mad about formatting; I've verified indentation. </p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">──</span><span class="w"> </span><span class="kt">MISSING</span><span class="w"> </span><span class="kt">ARROW</span><span class="w"> </span><span class="err">────────────────────────────────────────────────────</span><span class="w"> </span><span class="nv">main</span><span class="nf">.</span><span class="nv">roc</span><span class="w"> </span><span class="err">─</span><span class="w"></span>

<span class="kt">I</span><span class="w"> </span><span class="nv">am</span><span class="w"> </span><span class="nv">partway</span><span class="w"> </span><span class="nv">through</span><span class="w"> </span><span class="nv">parsing</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">when</span><span class="w"> </span><span class="nv">expression</span><span class="p">,</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">got</span><span class="w"> </span><span class="nv">stuck</span><span class="w"> </span><span class="nv">here</span><span class="nf">:</span><span class="w"></span>

<span class="mi">65</span><span class="err">│</span><span class="w">          </span><span class="nv">when</span><span class="w"> </span><span class="nv">elem</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="mi">66</span><span class="err">│</span><span class="w">              </span><span class="kt">UnknownStrategy</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"></span>
<span class="mi">67</span><span class="err">│</span><span class="w">              </span><span class="nv">_</span><span class="w"> </span><span class="nv">score</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">state</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="nv">score</span><span class="w"></span>
<span class="w">                   </span><span class="nf">^</span><span class="w"></span>

<span class="kt">I</span><span class="w"> </span><span class="nv">was</span><span class="w"> </span><span class="nv">expecting</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">arrow</span><span class="w"> </span><span class="nv">next</span><span class="nf">.</span><span class="w"></span>

<span class="kt">Note</span><span class="nf">:</span><span class="w"> </span><span class="kt">Sometimes</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="nv">get</span><span class="w"> </span><span class="nv">confused</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">indentation</span><span class="p">,</span><span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">try</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">make</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">when</span><span class="w"></span>
<span class="nv">look</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">like</span><span class="w"> </span><span class="nv">this</span><span class="nf">:</span><span class="w"></span>

<span class="w">    </span><span class="nv">when</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">first</span><span class="w"> </span><span class="nv">plants</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="w">      </span><span class="kt">Ok</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">        </span><span class="nv">n</span><span class="w"></span>

<span class="w">      </span><span class="kt">Err</span><span class="w"> </span><span class="nv">_</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"></span>
<span class="w">        </span><span class="mi">200</span><span class="w"></span>

<span class="kt">Notice</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">indentation</span><span class="nf">.</span><span class="w"> </span><span class="kt">All</span><span class="w"> </span><span class="nv">patterns</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">aligned</span><span class="p">,</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">each</span><span class="w"> </span><span class="nv">branch</span><span class="w"> </span><span class="nv">is</span><span class="w"></span>
<span class="nv">indented</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">bit</span><span class="w"> </span><span class="nv">more</span><span class="w"> </span><span class="nv">than</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">corresponding</span><span class="w"> </span><span class="nv">pattern</span><span class="nf">.</span><span class="w"> </span><span class="kt">That</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">important</span><span class="err">!</span><span class="nf">%</span><span class="w"></span>
</code></pre></div>



<a name="313502722"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/pattern%20matching%20hole/near/313502722" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html#313502722">(Dec 02 2022 at 13:45)</a>:</h4>
<p>I don't think we support pattern matching like that: <code>_ score</code></p>



<a name="313502807"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/pattern%20matching%20hole/near/313502807" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JesterXL <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html#313502807">(Dec 02 2022 at 13:46)</a>:</h4>
<p>Ah, maybe holes only support... like 1 hole? I'm coming from ReScript where you just litter those things everywhere, my bad. So is _ like a catch all and not a hole?</p>



<a name="313502891"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/pattern%20matching%20hole/near/313502891" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html#313502891">(Dec 02 2022 at 13:46)</a>:</h4>
<p>yes</p>



<a name="313502903"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/pattern%20matching%20hole/near/313502903" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JesterXL <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/pattern.20matching.20hole.html#313502903">(Dec 02 2022 at 13:46)</a>:</h4>
<p>If so, that makes sense, ok, thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
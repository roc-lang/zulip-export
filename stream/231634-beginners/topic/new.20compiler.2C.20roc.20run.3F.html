<html>
<head><meta charset="utf-8"><title>new compiler, roc run? · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html">new compiler, roc run?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="571073383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571073383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571073383">(Jan 30 2026 at 16:29)</a>:</h4>
<p>I thought explicit subcommand <code>run</code> was still supported, just the default if not specified.  was it removed entirely?</p>



<a name="571088752"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571088752" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571088752">(Jan 30 2026 at 17:40)</a>:</h4>
<p>yeah, that's intentional! I want to reserve <code>run</code> for potential future use, and also to have it so that <code>roc foo.roc</code> runs it just like how e.g. <code>python foo.py</code> does</p>



<a name="571116672"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571116672" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Romain Lepert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571116672">(Jan 30 2026 at 20:18)</a>:</h4>
<p>not sure python is a good comparison here. the <code>python</code> executable ONLY runs scripts, it does  not have subcommands. In python land you have a thousand different tools for each purpose (python, pip, venv, pylint, etc.). It is changing now with <code>uv</code>/<code>pixi</code> but still.</p>
<p><code>roc run foo.roc</code> seems the cleanest to me. But <code>roc foo.roc</code> can error with "Did you mean to <code>roc run foo.roc</code> ?"</p>
<p>If no subcommand matched, check if first arg looks like a path to a roc file.</p>
<p>It is really an mistake you may make the first few times anyway</p>



<a name="571119352"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571119352" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571119352">(Jan 30 2026 at 20:36)</a>:</h4>
<p>somewhat inversely, I think there should be a "mandatory" subcommand, but it can default to the <code>run</code> subcommand, whatever shall it be named henceforth</p>



<a name="571193568"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571193568" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571193568">(Jan 31 2026 at 12:43)</a>:</h4>
<p>One of the nice things about <code>roc &lt;path&gt;</code> running the file is that it makes for a really nice scripting excperience. You can put a <code>#!/usr/bin/env roc</code> shebang at the top of a file and then simply run the file itself like you would a python or bash script.</p>



<a name="571269206"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571269206" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Romain Lepert <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571269206">(Feb 01 2026 at 08:46)</a>:</h4>
<p>What prevent it from being ´#!/usr/bin/env roc run’ ?</p>



<a name="571269288"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571269288" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571269288">(Feb 01 2026 at 08:47)</a>:</h4>
<p>I don't know.. but I wonder if that messes with adding cli args or something like that</p>



<a name="571283303"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571283303" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pei Yang Ching <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571283303">(Feb 01 2026 at 12:34)</a>:</h4>
<p>some platforms accept multiple arguments, some platforms accept a single argument, some platforms treat multiple arguments as a single one. In the third case (linux is here) you can split the args "manually" with <code>#!/bin/env -S roc run --moreflags</code></p>
<p>as an alternative to <code>roc file.roc</code> you can install a separate program named "rocrun" which  is just symlinked to the main roc binary, then in the program, check for the executable name <code>argv[0]</code> in C, and decide whether to treat the argument as a file or subcommand. that's what busybox does with ls, cat, etc.</p>



<a name="571292496"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571292496" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571292496">(Feb 01 2026 at 14:52)</a>:</h4>
<p>or just having <code>roc exec</code> be the default subcommand if none provided (<code>exec</code> because <code>run</code> is being reserved for another purpose)</p>



<a name="571294604"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571294604" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571294604">(Feb 01 2026 at 15:22)</a>:</h4>
<p>yeah, initially it was <code>roc run</code> and then ran into the complexity around <code>/bin/env</code> not always accepting that</p>



<a name="571294705"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571294705" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571294705">(Feb 01 2026 at 15:24)</a>:</h4>
<p>we certainly could have <code>roc</code> default to <code>roc run</code>, but I think it's hard to make the case that if we already need the more concise way (<code>roc foo.roc</code>) for <code>/bin/env</code>, we should go out of our way to add a second, redundant way to do it that's more verbose (<code>roc run foo.roc</code>), so that now everyone needs to learn both, decide which to use, and then probably always use one and never use the other</p>



<a name="571294791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571294791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571294791">(Feb 01 2026 at 15:25)</a>:</h4>
<p>I agree that it's not a necessary feature, and potentially confusing;  however, it provides a clear mental model: <code>roc &lt;subcommand&gt;</code> (test, check, build, etc)    and <code>run</code> or <code>exec</code> operates the same way.  But we support run/exec as the default without being specified for <code>#!/bin/env roc</code></p>



<a name="571295022"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/new%20compiler%2C%20roc%20run%3F/near/571295022" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/new.20compiler.2C.20roc.20run.3F.html#571295022">(Feb 01 2026 at 15:28)</a>:</h4>
<p>I'd like to continue not having it and see how it goes</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
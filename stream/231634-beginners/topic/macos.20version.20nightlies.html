<html>
<head><meta charset="utf-8"><title>macos version nightlies Â· beginners Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html">macos version nightlies</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="314899705"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/314899705" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#314899705">(Dec 09 2022 at 13:56)</a>:</h4>
<p>Announcement: Macos nightlies no longer contain a version number, backwards compatibility seems to be working, so for x86_64, nightlies are generated on macos 11 and for apple silicon they are generated on macos 12. Trying to use zig 0.9.1 on macos 13 still does not work though, so zig platforms can't be used.</p>



<a name="314999339"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/314999339" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Mounier <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#314999339">(Dec 09 2022 at 23:08)</a>:</h4>
<p>Hi, just downloaded the apple silicon nightly on MacOS 13, but I can't get it to work â€“Â even with platforms other than Zig. Here's what I get for <code>./roc examples/platform-switching/rocLovesRust.roc</code>:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>ðŸ”¨ Rebuilding platform...
An internal compiler expectation was broken.
This is definitely a compiler bug.
Please file an issue here: https://github.com/roc-lang/roc/issues/new/choose
thread <span class="s1">'&lt;unnamed&gt;'</span> panicked at <span class="s1">'Error:</span>
<span class="s1">    Failed to rebuild src/lib.rs:</span>
<span class="s1">        The executed command was:</span>
<span class="s1">            cargo build --lib</span>
<span class="s1">        stderr of that command:</span>
<span class="s1">            error: failed to load manifest for dependency `roc_std`</span>

<span class="s1">Caused by:</span>
<span class="s1">  failed to parse manifest at `/Users/nikitamounier/Desktop/roc_nightly-macos_apple_silicon-2022-12-09-234f9f5/crates/roc_std/Cargo.toml`</span>

<span class="s1">Caused by:</span>
<span class="s1">  namespaced features with the `dep:` prefix are only allowed on the nightly channel and requires the `-Z namespaced-features` flag on the command-line</span>
<span class="s1">'</span>, crates/compiler/build/src/link.rs:1597:21
</code></pre></div>



<a name="314999391"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/314999391" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Mounier <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#314999391">(Dec 09 2022 at 23:09)</a>:</h4>
<p>Here's the rust backtrace if that's helpful:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>stack backtrace:
   <span class="m">0</span>: _rust_begin_unwind
   <span class="m">1</span>: core::panicking::panic_fmt
   <span class="m">2</span>: roc_build::link::run_build_command
   <span class="m">3</span>: roc_build::link::rebuild_host
note: Some details are omitted, run with <span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span>full<span class="sb">`</span> <span class="k">for</span> a verbose backtrace.
thread <span class="s1">'main'</span> panicked at <span class="s1">'Failed to (re)build platform.: Any { .. }'</span>, crates/cli/src/build.rs:342:46
stack backtrace:
   <span class="m">0</span>: _rust_begin_unwind
   <span class="m">1</span>: core::panicking::panic_fmt
   <span class="m">2</span>: core::result::unwrap_failed
   <span class="m">3</span>: roc_cli::build::build_file
   <span class="m">4</span>: roc_cli::build
   <span class="m">5</span>: roc::main
</code></pre></div>



<a name="315001354"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315001354" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315001354">(Dec 09 2022 at 23:27)</a>:</h4>
<p>what is your rust version?</p>



<a name="315001363"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315001363" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315001363">(Dec 09 2022 at 23:27)</a>:</h4>
<p>it looks like it might be outdated?</p>



<a name="315042254"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315042254" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315042254">(Dec 10 2022 at 08:56)</a>:</h4>
<p>We are on rust 1.64.0, I'll add a rust-toolchain file to the example to prevent this in the future.</p>



<a name="315888425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315888425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Lazzeri <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315888425">(Dec 14 2022 at 18:30)</a>:</h4>
<p>I had this error, then fixed it with <code>rustup update 1.64</code>, but found another error which required updating my xcode command line tools (in case someone else runs into the same problem)</p>



<a name="315890382"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315890382" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315890382">(Dec 14 2022 at 18:40)</a>:</h4>
<p>Nice that it works :)<br>
Do you still have the error message that required updating xcode? I'd like to save it in an issue so that it is easier to discover.</p>



<a name="315968289"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315968289" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Lazzeri <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315968289">(Dec 15 2022 at 06:45)</a>:</h4>
<p>I don't, sorry! Updating xcode was a big endeavor with as little free space as I have left <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="315985800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/macos%20version%20nightlies/near/315985800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/macos.20version.20nightlies.html#315985800">(Dec 15 2022 at 08:58)</a>:</h4>
<p>All good, xcode is indeed ridiculously large</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
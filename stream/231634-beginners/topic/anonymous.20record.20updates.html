<html>
<head><meta charset="utf-8"><title>anonymous record updates · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html">anonymous record updates</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="355033489"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355033489" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355033489">(May 02 2023 at 05:49)</a>:</h4>
<p>Hey all, I've been looking for a good first issue and it seems like the <a href="https://github.com/roc-lang/roc/issues/2659">anonymous record update syntax issue</a> would be a useful addition that's easy to model after the anonymous field accessor code. It's suggested to check here to make sure the issue is still relevant, which I expect is true based on the utility. Also, just to check, record updates are not valid for tuple "records", just standard records, right?</p>



<a name="355034069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355034069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355034069">(May 02 2023 at 05:52)</a>:</h4>
<p>Meaning we only want to allow users to write:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">&amp;</span><span class="nv">foo</span>
<span class="c1">-- updates to</span>
<span class="nf">\</span><span class="nv">record</span><span class="p">,</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">record</span><span class="w"> </span><span class="err">&amp;</span><span class="w"> </span><span class="nv">foo</span><span class="nf">:</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>and not:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="err">&amp;</span><span class="mi">0</span>
<span class="c1">-- updates to</span>
<span class="nf">\</span><span class="nv">record</span><span class="p">,</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">record</span><span class="w"> </span><span class="err">&amp;</span><span class="w"> </span><span class="mi">0</span><span class="nf">:</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>



<a name="355034190"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355034190" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355034190">(May 02 2023 at 05:53)</a>:</h4>
<p>yep, that's correct - awesome! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="355034837"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355034837" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355034837">(May 02 2023 at 05:56)</a>:</h4>
<p>Looking forward to finally committing to a language I want to use. I have good confidence that Roc will succeed being backed by NoRedInk and friends, especially after watching <a href="https://www.youtube.com/watch?v=QyJZzq0v7Z4">"Why Isn't Functional Programming the Norm?"</a></p>
<div class="youtube-video message_inline_image"><a data-id="QyJZzq0v7Z4" href="https://www.youtube.com/watch?v=QyJZzq0v7Z4"><img src="https://uploads.zulipusercontent.net/5a0224992100375bae80b70325c2ba752d13f2d6/68747470733a2f2f692e7974696d672e636f6d2f76692f51794a5a7a713076375a342f64656661756c742e6a7067"></a></div>



<a name="355035467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355035467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355035467">(May 02 2023 at 06:01)</a>:</h4>
<p>(by backed, I don't mean sponsored)</p>



<a name="355221240"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355221240" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355221240">(May 02 2023 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="612983">@Gabriel Dertoni</span> here's the thread where I started looking into the issue.</p>



<a name="355222815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355222815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355222815">(May 02 2023 at 17:38)</a>:</h4>
<p>Hey, I would be interested in collaborating on this. I think I am pretty close to having an initial version working. However, I am a bit stuck trying to figure out how the type inference code works.</p>



<a name="355223464"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355223464" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355223464">(May 02 2023 at 17:41)</a>:</h4>
<p>For the most part I just duplicates the field accessor code and changed things where necessary. Later today I can push to my fork of roc so you can have a look.</p>



<a name="355224190"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355224190" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355224190">(May 02 2023 at 17:44)</a>:</h4>
<p>Sounds like we're in a similar boat.</p>



<a name="355225149"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355225149" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355225149">(May 02 2023 at 17:47)</a>:</h4>
<p>I'll also push my code later. Hey, what are you thinking should be the name for the anonymous record updater syntax? Since the record access syntax is called both <code>RecordAccessor</code> and <code>RecordAccessorFunction</code>, I think a literal <code>RecordUpdaterFunction</code> is the most readable name. I wish there was something terser that was as clear, but I don't see anything in the thesaurus.</p>



<a name="355249999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355249999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355249999">(May 02 2023 at 19:39)</a>:</h4>
<p>Yep, I used something like this. Since the variants for record access and accessor were named respectivelly <code>RecordAccess</code> and <code>RecordAcessor</code> and there is already a <code>RecordUpdate</code>, I named the new variant <code>RecordUpdater</code>. and <code>UpdaterFunction</code> in the AST.</p>



<a name="355335029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355335029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355335029">(May 03 2023 at 06:39)</a>:</h4>
<p>I have managed to finish an initial implementation and have opened a pull request <a href="https://github.com/roc-lang/roc/pull/5367">https://github.com/roc-lang/roc/pull/5367</a>. If you have any feedback or differences from your implementation you would like to discuss, let me know.</p>



<a name="355335509"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355335509" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355335509">(May 03 2023 at 06:43)</a>:</h4>
<p>In order to make this syntax even better, I think we should support nesting, like <code>&amp;foo.bar.baz</code>.</p>



<a name="355551626"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355551626" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355551626">(May 03 2023 at 16:33)</a>:</h4>
<p>Left some comments on the PR, looks good! I've got some <code>test_syntax</code> tests I can add. I'll start by putting them in my branch and you can consider pulling them into your PR.</p>



<a name="355564737"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/anonymous%20record%20updates/near/355564737" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gabriel Dertoni <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/anonymous.20record.20updates.html#355564737">(May 03 2023 at 17:31)</a>:</h4>
<p>Sounds good, will be looking into those comments soon.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
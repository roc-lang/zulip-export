<html>
<head><meta charset="utf-8"><title>Doc comments for Opaque Types · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html">Doc comments for Opaque Types</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="304607072"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304607072" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304607072">(Oct 18 2022 at 04:13)</a>:</h4>
<p>Should Types have their doc comments included in the generated html? I've been trying to follow along and figure out why they aren't being included, but it's a long way down the rabbit hole. I'm currently looking at peg_grammar and highlight_parser and I'm pretty sure I'm way off course.  Can anyone help me understand why the comments for types aren't being generated?</p>



<a name="304608529"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304608529" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304608529">(Oct 18 2022 at 04:38)</a>:</h4>
<p>I don't know, but I do know it's a bug - types should definitely be included in the docs!</p>



<a name="304608633"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304608633" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304608633">(Oct 18 2022 at 04:40)</a>:</h4>
<p>I'm not sure where the problem is happening, but I'd look for code using the Rust CommonMark parser - that should be where we parse the doc comments, so it ought to be a starting point at least!</p>



<a name="304608806"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304608806" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304608806">(Oct 18 2022 at 04:43)</a>:</h4>
<p>I don't know the reason either but if you feel you're veering off course then I recommend inserting some debug print statements to look at variable values. <code>dbg!(&amp;some_variable);</code>. The <code>&amp;</code> is usually enough to pacify the borrow checker.</p>



<a name="304610831"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304610831" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304610831">(Oct 18 2022 at 05:12)</a>:</h4>
<p>Can I confirm the design/intent for comments, <code>#</code> is for inline comments while <code>##</code> is document comments for inclusion in generated docs? Using <code>#</code> as a line comment should not be permitted? or is that for comments that are intentionally left out of generated docs?</p>



<a name="304611010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304611010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304611010">(Oct 18 2022 at 05:14)</a>:</h4>
<p>I'm just adding a section on comments into the tutorial for future reference.</p>



<a name="304615865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304615865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304615865">(Oct 18 2022 at 06:12)</a>:</h4>
<p><code>peg_grammar</code> and <code>highlight_parser</code> are currently unused for the docs generation.</p>



<a name="304627881"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304627881" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304627881">(Oct 18 2022 at 07:57)</a>:</h4>
<p>yeah <code>#</code> is for comments intentionally left out of docs, and <code>##</code> is for doc comments!</p>



<a name="304635550"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304635550" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304635550">(Oct 18 2022 at 08:49)</a>:</h4>
<p>Also, I think I've finally figured out the issue is I was referring to above... I was concerned about at the opaque types which are not currently being generated to html. I am reasonably sure the doc comments are there in the LoadedModule but I think they are just assigned <code>NoTypeAnn</code> for the <code>TypeAnnotation</code> specifically line 247 in crates/compiler/load_internal/src/docs.rs. Not sure how easy this is to add, my Rust is pretty basic.</p>



<a name="304640641"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304640641" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304640641">(Oct 18 2022 at 09:24)</a>:</h4>
<p>I've added a PR <a href="https://github.com/roc-lang/roc/pull/4357">#4357</a> which adds some discussion on comments to the Tutorial. There was some information in the Roc for Elm devs, so I used that and expanded it based on what I have learn't about comments so far. It should be ready for review.</p>



<a name="304640719"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Doc%20comments%20for%20Opaque%20Types/near/304640719" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Doc.20comments.20for.20Opaque.20Types.html#304640719">(Oct 18 2022 at 09:24)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="515757">@Luke Boswell</span>, I'll take a look :)</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
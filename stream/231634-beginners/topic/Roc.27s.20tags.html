<html>
<head><meta charset="utf-8"><title>Roc&#x27;s tags · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html">Roc&#x27;s tags</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="436850278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436850278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436850278">(May 03 2024 at 09:46)</a>:</h4>
<p>Hi everyone! <br>
I have a question.</p>
<p>I'm wondering if it's possible to use <code>Roc's tags</code> in low-level languages like <code>C++</code>, <code>Rust</code>, <code>Zig</code>, etc.<br>
If no - then why, and if yes - why no one does it.<br>
On surface, this feature looks like just anonimous <code>Rust enums</code>, where <code>enum</code> is not defined upfront by user, but is instead defined automatically by the compiler.</p>
<p>I'm also curious about <code>closed/open</code> feature which is related to <code>tags</code> as well as <code>records</code>.</p>
<p>Sorry if I'm asking in the wrong place.<br>
Thanks!</p>



<a name="436851246"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436851246" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436851246">(May 03 2024 at 09:52)</a>:</h4>
<p><a href="#narrow/stream/231634-beginners/topic/What.20actually.20*is*.20a.20tag.3F/near/397828496">Heres a rather long conversation related to tags</a></p>



<a name="436851287"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436851287" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436851287">(May 03 2024 at 09:53)</a>:</h4>
<p>From memory that was an interesting read going into the weeds of what they are.</p>



<a name="436851390"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436851390" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436851390">(May 03 2024 at 09:53)</a>:</h4>
<p>To answer your question more specifically, I'm not sure if it's possible. It's certainly possible to simulate them I guess <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="436857891"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436857891" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436857891">(May 03 2024 at 10:38)</a>:</h4>
<p>Thanks, I'll take a look.</p>



<a name="436858348"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858348" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858348">(May 03 2024 at 10:40)</a>:</h4>
<p>any language could do it for sure</p>



<a name="436858435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858435">(May 03 2024 at 10:41)</a>:</h4>
<p>OCaml has had a very similar language feature (which Roc's tags were originally based on) for a long time, called <a href="https://ocaml.org/manual/5.1/polyvariant.html">polymorphic variants</a></p>



<a name="436858561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858561">(May 03 2024 at 10:42)</a>:</h4>
<p>I think one reason nobody does it is that Roc is the first language to try making them the primary sum type the language uses</p>



<a name="436858793"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858793" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858793">(May 03 2024 at 10:43)</a>:</h4>
<p>OCaml also has traditional nominal sum types (like Rust enums) that must be declared up front, and the general recommendation is to use those instead of polymorphic variants - there's a section at the end of that linked article about their reasoning</p>



<a name="436858917"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858917" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858917">(May 03 2024 at 10:44)</a>:</h4>
<p>my intuition was that the concerns they outlined wouldn't be problems in practice in Roc, and fortunately that has definitely worked out as I'd hoped <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="436858922"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436858922" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436858922">(May 03 2024 at 10:44)</a>:</h4>
<p>but it might not have!</p>



<a name="436859044"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436859044" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436859044">(May 03 2024 at 10:45)</a>:</h4>
<p>another relevant factor is that before Ayaz came up with a nicer syntax for open/closed, the type annotation syntax was confusing to a lot of beginners (now it's fine though)</p>



<a name="436859166"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436859166" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436859166">(May 03 2024 at 10:46)</a>:</h4>
<p>so for all those reasons, the information that you can use them as a core language feature and have it be a nice experience is very new - we're the first ones to try that experiment - so it's not like other languages knew about that and chose to go a different way; rather, they didn't have the results of the experiment so it presumably wasn't even something on their radar!</p>



<a name="436903332"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/436903332" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#436903332">(May 03 2024 at 15:06)</a>:</h4>
<p>I think it is also important to add that anything that is a roc tag could be represented as a rust Enum. It just might be less convenient to do so cause in rust. you will have to explicitly name a bunch of this that roc would build automatically.</p>



<a name="454473959"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/454473959" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Smith <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#454473959">(Jul 27 2024 at 13:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/231634-beginners/topic/Roc's.20tags/near/436858561">said</a>:</p>
<blockquote>
<p>I think one reason nobody does it is that Roc is the first language to try making them the primary sum type the language uses</p>
</blockquote>
<p>I don’t mean to rain on anybody’s parade, but the OCaml veteran Andreas Rossberg created a blockchain language called <a href="https://internetcomputer.org/docs/current/motoko/main/getting-started/basic-concepts">Motoko</a> a few years ago, where the only kind of sum type is polymorphic variants. The Motoko docs aren’t so great, but here’s someone blogging about the feature: <a href="https://kaipeacock.com/blog/motoko/using-variants/">https://kaipeacock.com/blog/motoko/using-variants/</a></p>
<p>The feature is more or less identical to Roc, I believe.<br>
I don’t think Motoko is necessarily a good language, but I just thought I should point out some prior art <span aria-label="face with peeking eye" class="emoji emoji-1fae3" role="img" title="face with peeking eye">:face_with_peeking_eye:</span>.</p>



<a name="454475510"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Roc%27s%20tags/near/454475510" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Roc.27s.20tags.html#454475510">(Jul 27 2024 at 14:11)</a>:</h4>
<p>that's cool! It looks like Folkert had already <a href="https://github.com/roc-lang/roc/commit/5ad2823a236abf8fb068e291952f793713d273e2">implemented tag unions</a> in Roc's compiler prior to <a href="https://github.com/dfinity/motoko-base/commit/e4efcb9bbd8c8eeff41b3d461b679e43d1d66f44">Motoko's initial commit</a>, but I doubt Roc was on their radar. Most likely, we both independently decided polymorphic variants were worth trying out as the main sum type <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
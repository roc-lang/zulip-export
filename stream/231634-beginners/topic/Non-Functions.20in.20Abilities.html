<html>
<head><meta charset="utf-8"><title>Non-Functions in Abilities · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html">Non-Functions in Abilities</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="456068082"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456068082" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456068082">(Aug 03 2024 at 01:10)</a>:</h4>
<p>Are regular non-function values allowed in abilities? This example type checks but fails to compile with this compiler error</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>thread<span class="w"> </span><span class="s1">'&lt;unnamed&gt;'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span>crates/compiler/mono/src/ir.rs:6175:10:
Ability<span class="w"> </span>specialization<span class="w"> </span>is<span class="w"> </span>unknown<span class="w"> </span>-<span class="w"> </span>code<span class="w"> </span>generation<span class="w"> </span>cannot<span class="w"> </span>proceed!:<span class="w"> </span>NoTypeImplementingSpecialization
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">app</span><span class="w"> </span><span class="p">[</span><span class="nv">main</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">pf</span><span class="nf">:</span><span class="w"> </span><span class="nv">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.12.0/Lb8EgiejTUzbggO2HVVuPJFkwvvsfW6LojkLR20kTVE.tar.br"</span><span class="w"> </span><span class="p">}</span>

<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Stdout</span>
<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Task</span>

<span class="kr">main </span><span class="nf">=</span>
<span class="w">    </span><span class="nv">_</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">zero</span>
<span class="w">    </span><span class="kt">Stdout</span><span class="nf">.</span><span class="nv">line</span><span class="w"> </span><span class="s">""</span>

<span class="kt">Arithmetic</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Arithmetic</span>

<span class="nv">wrapperZero</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="err">@</span><span class="kt">NumWrapper</span><span class="w"> </span><span class="mi">0</span>
<span class="kt">NumWrapper</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">:=</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="kt">Arithmetic</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nv">zero</span><span class="nf">:</span><span class="w"> </span><span class="nv">wrapperZero</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
</code></pre></div>



<a name="456068203"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456068203" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456068203">(Aug 03 2024 at 01:11)</a>:</h4>
<p>I feel that I may be running up against the limits of my attempt to hack abilities into being able to represent all of the numeric operations I care about</p>



<a name="456068579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456068579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456068579">(Aug 03 2024 at 01:16)</a>:</h4>
<p>ah yeah we need a nicer error message for that, but basically every ability member needs to be not only a function, but it also needs to involve an argument which implements that ability</p>



<a name="456068617"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456068617" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456068617">(Aug 03 2024 at 01:17)</a>:</h4>
<p>I think a thunk would work though:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">Arithmetic</span><span class="w"> </span><span class="nv">implements</span>
<span class="w">    </span><span class="nv">zero</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Arithmetic</span>
</code></pre></div>



<a name="456068624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456068624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456068624">(Aug 03 2024 at 01:17)</a>:</h4>
<p>then you just always call it passing <code>{}</code></p>



<a name="456069317"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456069317" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456069317">(Aug 03 2024 at 01:27)</a>:</h4>
<p>Yeah, that should work. Inspect does that with an init method</p>



<a name="456069456"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456069456" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456069456">(Aug 03 2024 at 01:29)</a>:</h4>
<p>Oh okay nice. Is this a sign that this is a terrible idea or should I continue and see how it turns out?</p>



<a name="456069652"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456069652" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456069652">(Aug 03 2024 at 01:32)</a>:</h4>
<p>And also is there any particular reason why this type checks if it isn’t allowed?</p>



<a name="456071228"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456071228" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456071228">(Aug 03 2024 at 01:57)</a>:</h4>
<blockquote>
<p>Is this a sign that this is a terrible idea or should I continue and see how it turns out?</p>
</blockquote>
<p>Seems fine to try</p>



<a name="456071256"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456071256" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456071256">(Aug 03 2024 at 01:57)</a>:</h4>
<blockquote>
<p>And also is there any particular reason why this type checks if it isn’t allowed?</p>
</blockquote>
<p>Probably cause abilities were added later and no one ever updated the type checker for this.</p>



<a name="456167077"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456167077" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456167077">(Aug 03 2024 at 14:33)</a>:</h4>
<p>So it seems like this approach is still causing issues. If I have <code>zero</code> be a function from <code>a -&gt; a where a implements Arithmetic</code> then it seems to work fine but I have to pass some dummy value as the argument. But if I have <code>zero</code> be <code>{} -&gt; a where a implements Arithmetic</code> I get this error:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>thread<span class="w"> </span><span class="s1">'&lt;unnamed&gt;'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span>crates/compiler/mono/src/ir.rs:6164:56:
called<span class="w"> </span><span class="sb">`</span>Option::unwrap<span class="o">()</span><span class="sb">`</span><span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span><span class="sb">`</span>None<span class="sb">`</span><span class="w"> </span>value
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<p>Example:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">app</span><span class="w"> </span><span class="p">[</span><span class="nv">main</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">pf</span><span class="nf">:</span><span class="w"> </span><span class="nv">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.12.0/Lb8EgiejTUzbggO2HVVuPJFkwvvsfW6LojkLR20kTVE.tar.br"</span><span class="w"> </span><span class="p">}</span>

<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Stdout</span>
<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Task</span>

<span class="kr">main </span><span class="nf">=</span>
<span class="w">    </span><span class="nv">_</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="kt">Stdout</span><span class="nf">.</span><span class="nv">line</span><span class="w"> </span><span class="s">""</span>

<span class="kt">Arithmetic</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Arithmetic</span>

<span class="nv">wrapperZero</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="err">@</span><span class="kt">NumWrapper</span><span class="w"> </span><span class="mi">0</span>
<span class="kt">NumWrapper</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">:=</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="kt">Arithmetic</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nv">zero</span><span class="nf">:</span><span class="w"> </span><span class="nv">wrapperZero</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
</code></pre></div>



<a name="456169223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456169223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456169223">(Aug 03 2024 at 14:49)</a>:</h4>
<p>Hmmm looks like this is an issue with not specifying which concrete type I want the <code>zero</code> call to produce. Doing this fixes it:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">app</span><span class="w"> </span><span class="p">[</span><span class="nv">main</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">pf</span><span class="nf">:</span><span class="w"> </span><span class="nv">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.12.0/Lb8EgiejTUzbggO2HVVuPJFkwvvsfW6LojkLR20kTVE.tar.br"</span><span class="w"> </span><span class="p">}</span>

<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Stdout</span>
<span class="kn">import</span><span class="w"> </span><span class="nc">pf.Task</span>

<span class="kr">main </span><span class="nf">=</span>
<span class="w">    </span><span class="nv">wrappedZero</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">NumWrapper</span><span class="w"> </span><span class="nv">a</span>
<span class="w">    </span><span class="nv">wrappedZero</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="kt">Stdout</span><span class="nf">.</span><span class="nv">line</span><span class="w"> </span><span class="s">""</span>

<span class="kt">Arithmetic</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="kr">where</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="kt">Arithmetic</span>

<span class="nv">wrapperZero</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="p">{}</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="err">@</span><span class="kt">NumWrapper</span><span class="w"> </span><span class="mi">0</span>
<span class="kt">NumWrapper</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">:=</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">implements</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="kt">Arithmetic</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nv">zero</span><span class="nf">:</span><span class="w"> </span><span class="nv">wrapperZero</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
</code></pre></div>
<p>Not sure how to fix this in the actual context of my usage of this ability though.</p>



<a name="456169749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/Non-Functions%20in%20Abilities/near/456169749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> batyoullfly <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/Non-Functions.20in.20Abilities.html#456169749">(Aug 03 2024 at 14:56)</a>:</h4>
<p>Fixed it! The issue was this List, <code>zeroes</code>, where the compiler wasn't able to infer what implementation of Arithmetic to use for this list (<code>a</code> implements <code>Arithmetic</code> here): </p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">mul</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">Poly</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Poly</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">Poly</span><span class="w"> </span><span class="nv">a</span>
<span class="nv">mul</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="err">@</span><span class="kt">Poly</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="err">@</span><span class="kt">Poly</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">    </span><span class="nv">resultLen</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">len</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">len</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="nv">result</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">withCapacity</span><span class="w"> </span><span class="nv">resultLen</span>
<span class="w">    </span><span class="nv">zeroes</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nv">a</span>
<span class="w">    </span><span class="nv">zeroes</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">repeat</span><span class="w"> </span><span class="p">(</span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">zero</span><span class="w"> </span><span class="p">{})</span><span class="w"> </span><span class="p">((</span><span class="kt">List</span><span class="nf">.</span><span class="nv">len</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="nf">+</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">len</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="kt">List</span><span class="nf">.</span><span class="nv">walkWithIndex</span><span class="w"> </span><span class="nv">zeroes</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="nf">\</span><span class="nv">acc</span><span class="p">,</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">        </span><span class="nv">inner</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">walkWithIndex</span><span class="w"> </span><span class="p">(</span><span class="kt">List</span><span class="nf">.</span><span class="nv">range</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">start</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="nf">:</span><span class="w"> </span><span class="kt">At</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">(</span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">zero</span><span class="w"> </span><span class="p">{})</span><span class="w"> </span><span class="nf">\</span><span class="nv">coeff</span><span class="p">,</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">p1Index</span><span class="w"> </span><span class="nf">-&gt;</span>
<span class="w">            </span><span class="nv">p2Index</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="nv">p1Index</span>
<span class="w">            </span><span class="nv">aCoeff</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">get</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">p1Index</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="nf">.</span><span class="nv">withDefault</span><span class="w"> </span><span class="p">(</span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">zero</span><span class="w"> </span><span class="p">{})</span>
<span class="w">            </span><span class="nv">bCoeff</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">get</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">p2Index</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">Result</span><span class="nf">.</span><span class="nv">withDefault</span><span class="w"> </span><span class="p">(</span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">zero</span><span class="w"> </span><span class="p">{})</span>
<span class="w">            </span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">add</span><span class="w"> </span><span class="nv">coeff</span><span class="w"> </span><span class="p">(</span><span class="kt">Arithmetic</span><span class="nf">.</span><span class="nv">add</span><span class="w"> </span><span class="nv">aCoeff</span><span class="w"> </span><span class="nv">bCoeff</span><span class="p">)</span>
<span class="w">        </span><span class="kt">List</span><span class="nf">.</span><span class="nv">append</span><span class="w"> </span><span class="nv">acc</span><span class="w"> </span><span class="nv">inner</span>
<span class="w">    </span><span class="nf">|&gt;</span><span class="w"> </span><span class="err">@</span><span class="kt">Poly</span>
</code></pre></div>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
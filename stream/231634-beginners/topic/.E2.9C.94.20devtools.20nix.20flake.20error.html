<html>
<head><meta charset="utf-8"><title>✔ devtools nix flake error · beginners · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/index.html">beginners</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html">✔ devtools nix flake error</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="389255646"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389255646" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389255646">(Sep 05 2023 at 18:24)</a>:</h4>
<p>Hi,</p>
<p>I wanted to try out the devtools nix flake and followed the instructions in the README. But running <code>nix develop</code> in my devtools folder gives me the following error:</p>
<div class="codehilite"><pre><span></span><code>error:
       … while calling the &#39;derivationStrict&#39; builtin

         at /builtin/derivation.nix:9:12: (source not available)

       … while evaluating derivation &#39;nix-shell&#39;
         whose name attribute is located at /nix/store/8qr2x85z4rkf7rca3pk1dfyzsi60j7r2-source/pkgs/stdenv/generic/make-derivation.nix:300:7

       … while evaluating attribute &#39;buildInputs&#39; of derivation &#39;nix-shell&#39;

         at /nix/store/8qr2x85z4rkf7rca3pk1dfyzsi60j7r2-source/pkgs/stdenv/generic/make-derivation.nix:347:7:

          346|       depsHostHost                = lib.elemAt (lib.elemAt dependencies 1) 0;
          347|       buildInputs                 = lib.elemAt (lib.elemAt dependencies 1) 1;
             |       ^
          348|       depsTargetTarget            = lib.elemAt (lib.elemAt dependencies 2) 0;

       error: Stable 1.70.0 is not available
</code></pre></div>
<p>Is there a quick to fix this? I'm very new to nix, so I don't even know where to look.</p>



<a name="389376083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389376083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389376083">(Sep 06 2023 at 09:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="559412">@Fabian Schmalzried</span>,<br>
I should be able to fix this, I'll take a look now.</p>



<a name="389378269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389378269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389378269">(Sep 06 2023 at 09:45)</a>:</h4>
<p>Thanks. If it's a problem on my side, or if you need more information let me know. I also don't want to waste anyone's time if it is just me.</p>



<a name="389378580"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389378580" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389378580">(Sep 06 2023 at 09:47)</a>:</h4>
<p>No problem, it looks like I forgot to update some files with our rust update, so everyone using this will hit this error. I'll try to add some tests as well to prevent this in the future.</p>



<a name="389415609"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389415609" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389415609">(Sep 06 2023 at 13:05)</a>:</h4>
<p>Alright, can you try again using my fixes on the <code>nix-devtools-update</code> branch?</p>



<a name="389454452"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/389454452" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#389454452">(Sep 06 2023 at 15:26)</a>:</h4>
<p>I've also added a test to prevent this problem in the future in <a href="https://github.com/roc-lang/roc/pull/5782">PR#5782</a></p>



<a name="390062600"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/231634-beginners/topic/%E2%9C%94%20devtools%20nix%20flake%20error/near/390062600" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/231634-beginners/topic/.E2.9C.94.20devtools.20nix.20flake.20error.html#390062600">(Sep 09 2023 at 20:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="559412">Fabian Schmalzried</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>REPL newline control sequence · compiler development · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html">REPL newline control sequence</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="390023602"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390023602" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390023602">(Sep 09 2023 at 11:06)</a>:</h4>
<p>To enter a newline in the CLI REPL we are using the sequence: ctrl-v + ctrl-j <br>
This feels unfamiliar and strange to me, I've never seen it anywhere else. But maybe it's familiar to other people.<br>
I used ctrl-Enter for the web REPL, because I've seen that in lots of places (including this Zulip chat window!)<br>
Does anyone know why we picked this sequence?<br>
Does anyone have opinions on it?<br>
Should we make both REPLs have the same sequence? Which one?</p>



<a name="390027123"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390027123" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390027123">(Sep 09 2023 at 11:42)</a>:</h4>
<p>The strange Ctrl-v+Ctrl-J was partly due to <a href="https://github.com/kkawakam/rustyline/issues/653">https://github.com/kkawakam/rustyline/issues/653</a>.<br>
We do try to be smart about it, if you hit enter on an incomplete expression we create a new line instead of trying to pass it to the repl.<br>
But there still probably are cases where you have complete expression but still want a new line. Because of the linked issue we can't do Ctrl+Enter or Shift+Enter, but I think we could do Ctrl+n for example.</p>



<a name="390029371"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390029371" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390029371">(Sep 09 2023 at 12:08)</a>:</h4>
<p>OK. That's a pity. The web doesn't have this issue though.<br>
So we can either use the same key combo as the CLI to be consistent with that. (Good for people who are very used to the CLI REPL)<br>
Or keep the ctrl-Enter to be consistent with... everything else. (Good for newcomers or Roc users who don't use the CLI REPL much)</p>



<a name="390030694"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390030694" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390030694">(Sep 09 2023 at 12:26)</a>:</h4>
<p>I'd be ok with allowing two combos to do the same thing to get a best of both worlds :)</p>



<a name="390031286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390031286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390031286">(Sep 09 2023 at 12:33)</a>:</h4>
<p>Cool, that's what I was thinking too. We already print out instructions in the CLI one and I'm going to add that to the web one too.</p>



<a name="390047726"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/REPL%20newline%20control%20sequence/near/390047726" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/REPL.20newline.20control.20sequence.html#390047726">(Sep 09 2023 at 16:24)</a>:</h4>
<p>yeah having them be different makes sense to me! <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
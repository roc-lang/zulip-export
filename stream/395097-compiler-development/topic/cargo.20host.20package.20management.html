<html>
<head><meta charset="utf-8"><title>cargo host package management · compiler development · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html">cargo host package management</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="468305157"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468305157" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468305157">(Sep 06 2024 at 22:57)</a>:</h4>
<p>I am assume <span class="user-mention" data-user-id="361169">@Anton</span>  will know the answer to this. And others may know as well. Just thinking a bit about dependency management. For roc_std and <code>heap.rs</code> in both basic_cli and basic_webserver, they both have a checked in version of the files. This is fine, but means that sometimes they mutate without changes being looped back into roc_std in the main repo. Or other fixes are missed due to slow updating. Currently these are generated with glue, which is fine, but I'm wondering if we could just make them a cargo dependencies. Preferably, I think they would be cargo depencencies that point to a specific git commit in roc, but they also could be published as packages. I'm thinking that <code>heap.rs</code> might make sense to just put into roc_std cause it likely will be useful for many rust platforms.</p>
<p>One thing I am not sure of: How does rust/cargo deal with dependencies on a subcrate? Is that supported? Would we need to put <code>roc_std</code> in it's own github repo to depend on it in cargo?</p>
<hr>
<p>Just kinda thinking out loud about a minor dependency annoyance.</p>



<a name="468305998"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468305998" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468305998">(Sep 06 2024 at 23:04)</a>:</h4>
<p>In the JWT PR I updated basic-webserver to point at roc_std in roc if tou wanted to see how its done.</p>



<a name="468306021"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468306021" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468306021">(Sep 06 2024 at 23:05)</a>:</h4>
<p>We can pin it to a specific commit easy too</p>



<a name="468309587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468309587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468309587">(Sep 06 2024 at 23:40)</a>:</h4>
<p>And it works for subcrates? That was my main concern</p>



<a name="468309673"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468309673" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468309673">(Sep 06 2024 at 23:41)</a>:</h4>
<p>But yeah, if that works, I think we should do the same for basic CLI, merge back any updates (I think basic webserver had a fix or two). And add heap to roc_std</p>



<a name="468309682"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/cargo%20host%20package%20management/near/468309682" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/cargo.20host.20package.20management.html#468309682">(Sep 06 2024 at 23:41)</a>:</h4>
<p>Not a rush by any means, but would be nice</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
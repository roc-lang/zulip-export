<html>
<head><meta charset="utf-8"><title>checking doc comments · compiler development · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html">checking doc comments</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="492831837"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492831837" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492831837">(Jan 09 2025 at 22:32)</a>:</h4>
<p>I'd <em>really</em> like to have type checking in doc comment code blocks right now... I've manually gone through and updated all the docs for basic-cli and basic-websever by hand and probably have broken things along the way. Sam has helped pick up some snake_case and PNC issues, but without copying the snippet into an editor it's hard to know if it's ok. </p>
<p>Not sure if it's a big job to add this. Even nicer, would be if the language server could provide the orange and red squiggles in the editor <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="492831980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492831980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492831980">(Jan 09 2025 at 22:33)</a>:</h4>
<p>If we have a markdown library this is trivial to automate</p>



<a name="492832175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832175">(Jan 09 2025 at 22:34)</a>:</h4>
<p>It is a big job to automate this</p>



<a name="492832281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832281">(Jan 09 2025 at 22:35)</a>:</h4>
<p>We currently just parse doc comments as text, and highlight them totally separately for the docs</p>



<a name="492832422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832422">(Jan 09 2025 at 22:36)</a>:</h4>
<p>I know but if we can convert it to markdown we could do it trivially</p>



<a name="492832434"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832434" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832434">(Jan 09 2025 at 22:36)</a>:</h4>
<p>We'd now need to parse them in addition to the rest of the code</p>



<a name="492832478"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832478" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832478">(Jan 09 2025 at 22:36)</a>:</h4>
<p>Let me think about that</p>



<a name="492832549"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832549" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832549">(Jan 09 2025 at 22:37)</a>:</h4>
<p>I mean the type checking and validating the blocks</p>



<a name="492832561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832561">(Jan 09 2025 at 22:37)</a>:</h4>
<p>We'd probably want to do our own "close-to-markdown" parsing anyway, since the long-term goal is for us to have basically no dependencies (LLVM and Zig)</p>



<a name="492832673"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832673" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832673">(Jan 09 2025 at 22:38)</a>:</h4>
<p>That <em>could</em> work</p>



<a name="492832829"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832829" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832829">(Jan 09 2025 at 22:39)</a>:</h4>
<p>All you need to parse out is the code blocks which we already do</p>



<a name="492832853"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832853" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832853">(Jan 09 2025 at 22:39)</a>:</h4>
<p>Even if it's parsed as markdown for us, there's still a lot of work waiting because code blocks for docs need to be treated differently in a few different ways</p>



<a name="492832884"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832884" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832884">(Jan 09 2025 at 22:39)</a>:</h4>
<p>And then just throw them in a module or something and execute them</p>



<a name="492832954"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832954" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832954">(Jan 09 2025 at 22:40)</a>:</h4>
<p>Of course  there’s some massaging to do</p>



<a name="492832980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832980">(Jan 09 2025 at 22:40)</a>:</h4>
<p>The massaging is the part I'm expecting is a lot of effort</p>



<a name="492832991"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492832991" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492832991">(Jan 09 2025 at 22:40)</a>:</h4>
<p>But yes in theory it's simple</p>



<a name="492833051"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492833051" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492833051">(Jan 09 2025 at 22:40)</a>:</h4>
<p>Very doable if someone is committed</p>



<a name="492834073"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834073" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834073">(Jan 09 2025 at 22:47)</a>:</h4>
<p>We don't want to support full markdown... at least I know Richard has mentioned we don't want to support html or anything like that in Doc comments.</p>



<a name="492834222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834222">(Jan 09 2025 at 22:48)</a>:</h4>
<p>One option would be just to provide this check with <code>roc docs</code> where it's being parsed anyway</p>



<a name="492834297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834297">(Jan 09 2025 at 22:49)</a>:</h4>
<p>We can also do it during roc check as a separate check</p>



<a name="492834302"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834302" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834302">(Jan 09 2025 at 22:49)</a>:</h4>
<p>So the typical path ignores comments, keeping things fast... and then for those who want to check the CI run that checks <code>roc docs</code> etc will pick it up</p>



<a name="492834305"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834305" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834305">(Jan 09 2025 at 22:49)</a>:</h4>
<p>Like Rust does</p>



<a name="492834308"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834308" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834308">(Jan 09 2025 at 22:49)</a>:</h4>
<p>Sounds like we want to parse our own partial markdown. That means basically:</p>
<ul>
<li>Headers</li>
<li>Bullet and numbered lists</li>
<li>Paragraphs</li>
<li>Links</li>
<li>Links to Roc types/values</li>
<li>Code blocks</li>
</ul>



<a name="492834357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834357">(Jan 09 2025 at 22:49)</a>:</h4>
<p>And probably bold/italics</p>



<a name="492834359"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834359" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834359">(Jan 09 2025 at 22:49)</a>:</h4>
<p>We are gonna be doing some nice caching from the results of parsing and canonicalization</p>



<a name="492834433"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834433" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834433">(Jan 09 2025 at 22:50)</a>:</h4>
<p>We should take advantage of the parsing work we already have in the parse crate and do it there</p>



<a name="492834771"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492834771" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492834771">(Jan 09 2025 at 22:52)</a>:</h4>
<p>26 messages were moved here from <a class="stream-topic" data-stream-id="395097" href="/#narrow/channel/395097-compiler-development/topic/casual.20conversation">#compiler development &gt; casual conversation</a> by <span class="user-mention silent" data-user-id="515757">Luke Boswell</span>.</p>



<a name="492835133"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835133" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835133">(Jan 09 2025 at 22:55)</a>:</h4>
<p>Is there a minimal scope here where we just parse out the <code>## ```roc</code> and <code>## ``` </code>part and do something with it... we could leave the other parts for a future expansion right?</p>



<a name="492835267"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835267" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835267">(Jan 09 2025 at 22:56)</a>:</h4>
<p>I think it's not that much effort to add the other stuff, the code blocks are the harder part IMO.</p>



<a name="492835354"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835354" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835354">(Jan 09 2025 at 22:57)</a>:</h4>
<p>But we can definitely start with just code blocks</p>



<a name="492835366"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835366" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835366">(Jan 09 2025 at 22:57)</a>:</h4>
<p>It'd help break this up</p>



<a name="492835417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835417">(Jan 09 2025 at 22:57)</a>:</h4>
<p>I'm just thinking that another way to break this up is to first parse as markdown and leave code blocks as text blobs</p>



<a name="492835444"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835444" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835444">(Jan 09 2025 at 22:57)</a>:</h4>
<p>And after that, parse the code blocks themselves</p>



<a name="492835630"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835630" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835630">(Jan 09 2025 at 22:59)</a>:</h4>
<p>But if we're optimizing for getting code blocks type-checked and everything else is okay not worrying about, then we can run in a straight line, sure</p>



<a name="492835897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835897">(Jan 09 2025 at 23:00)</a>:</h4>
<p>First, it'd be nice to get Richard's agreement on this, since it's a big change.</p>



<a name="492835941"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492835941" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492835941">(Jan 09 2025 at 23:01)</a>:</h4>
<p>It's one thing if he thinks this is just too much work compared to other important stuff.</p>



<a name="492836143"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492836143" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492836143">(Jan 09 2025 at 23:02)</a>:</h4>
<p>But it felt like the pushback last time in <a class="stream-topic" data-stream-id="316715" href="/#narrow/channel/316715-contributing/topic/Ironing.20out.20doc.20code.20blocks">#contributing &gt; Ironing out doc code blocks</a> was around docs always needing to type check and that getting in the way of them being useful teaching tools</p>



<a name="492836201"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492836201" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492836201">(Jan 09 2025 at 23:03)</a>:</h4>
<p>But if we implement the <code>...</code> keyword first, then we can probably take that pain away</p>



<a name="492837748"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492837748" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492837748">(Jan 09 2025 at 23:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/395097-compiler-development/topic/checking.20doc.20comments/near/492834073">said</a>:</p>
<blockquote>
<p>We don't want to support full markdown... at least I know Richard has mentioned we don't want to support html or anything like that in Doc comments.</p>
</blockquote>
<p>specifically I don't want to support escaping to arbitrary HTML</p>



<a name="492837784"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492837784" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492837784">(Jan 09 2025 at 23:15)</a>:</h4>
<p>so that we aren't coupled to only being able to output docs to things that can render html</p>



<a name="492837804"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492837804" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492837804">(Jan 09 2025 at 23:15)</a>:</h4>
<p>e.g. if we want to be able to render in an editor that doesn't include a whole browser</p>



<a name="492837942"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492837942" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492837942">(Jan 09 2025 at 23:16)</a>:</h4>
<p>also yeah, I think if we have <code>...</code> I'd be open to trying this</p>



<a name="492838603"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492838603" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492838603">(Jan 09 2025 at 23:21)</a>:</h4>
<p>As nice as this is, we should probably put it below everything else we're working on for 0.1.0</p>



<a name="492838699"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492838699" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492838699">(Jan 09 2025 at 23:22)</a>:</h4>
<p>But if someone really wanted to implement this, I'd be happy to help them do it! It'd be very valuable</p>



<a name="492841480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492841480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492841480">(Jan 09 2025 at 23:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="461444">Sam Mohr</span> <a href="#narrow/channel/395097-compiler-development/topic/checking.20doc.20comments/near/492835630">said</a>:</p>
<blockquote>
<p>But if we're optimizing for getting code blocks type-checked and everything else is okay not worrying about, then we can run in a straight line, sure</p>
</blockquote>
<p>My thinking here for why we might want to prioritise this part of it sooner than later is that it helps ensure documentation quality (particularly with all the breaking and syntax changes) across the ecosystem. </p>
<p>It's a bit of chicken and egg, but quality documentation for all the platforms &amp; packages helps reinforce the culture around high quality roc packages, and for new people experiencing roc (who may not be experienced with the magic of Elm ecosystem)</p>
<p>I've been debating with myself how I would prioritise this, but I'm thinking it would be nice to have (just this code block part) before Richard's blog post and we expect a few new people to be visiting and checking things out. </p>
<p>So somewhere after <code>|args|</code> and  <code>"string ${interpolation}</code>, but before we make the static-dispatch/abilities/module params etc changes.</p>



<a name="492892171"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492892171" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492892171">(Jan 10 2025 at 07:33)</a>:</h4>
<p>Quick note in case it's useful: I know from integrating <code>libcmark</code> into my static site builder platform that it will by default escape HTML, only parse it out if you pass a special flag.</p>



<a name="492911870"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492911870" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492911870">(Jan 10 2025 at 09:42)</a>:</h4>
<p>We could maybe <em>start</em> with using a library, which would get us to the end result faster</p>



<a name="492911930"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492911930" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492911930">(Jan 10 2025 at 09:43)</a>:</h4>
<p>Just remember that Roc doesn't want to have any deps besides LLVM and Zig in the longterm</p>



<a name="492957318"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492957318" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492957318">(Jan 10 2025 at 14:04)</a>:</h4>
<p>and probably Blake3. I could see an argument for a markdown parser being a dependency though</p>



<a name="492962241"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/checking%20doc%20comments/near/492962241" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/checking.20doc.20comments.html#492962241">(Jan 10 2025 at 14:31)</a>:</h4>
<p>You could find a minimal one with a liberal license and just vendor it</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
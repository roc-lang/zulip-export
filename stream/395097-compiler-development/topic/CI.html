<html>
<head><meta charset="utf-8"><title>CI ¬∑ compiler development ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html">CI</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="385664041"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/385664041" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#385664041">(Aug 17 2023 at 12:31)</a>:</h4>
<p>looks like Windows CI is failing because the <code>basic-cli</code> 0.5.0 release doesn't have a prebuilt host for Windows: <a href="https://github.com/roc-lang/roc/actions/runs/5886643841/job/15964820569?pr=5747#step:12:189">https://github.com/roc-lang/roc/actions/runs/5886643841/job/15964820569?pr=5747#step:12:189</a></p>
<p>does anyone know if there was a limitation that prevented 0.5.0 from having that? Or is it something we could fix in an 0.5.1 release?</p>



<a name="385855363"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/385855363" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#385855363">(Aug 18 2023 at 08:19)</a>:</h4>
<blockquote>
<p>does anyone know if there was a limitation that prevented 0.5.0 from having that?</p>
</blockquote>
<p>I don't think so, I'll try setting up the basic-cli release workflow to include the windows file.</p>



<a name="386911554"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386911554" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386911554">(Aug 23 2023 at 16:23)</a>:</h4>
<p>Many basic-cli examples fail on windows without errors so I'll need to dig into those more before I add the necessary windows files to the next basic-cli release.</p>



<a name="386912935"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386912935" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386912935">(Aug 23 2023 at 16:31)</a>:</h4>
<p>huh! Was that true of the previous release too?</p>



<a name="386922612"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386922612" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386922612">(Aug 23 2023 at 17:36)</a>:</h4>
<p>I would think so but I'll check</p>



<a name="386928250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386928250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386928250">(Aug 23 2023 at 18:15)</a>:</h4>
<p>Yes identical behavior using older roc and basic-cli 0.4.0</p>



<a name="386928526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386928526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386928526">(Aug 23 2023 at 18:18)</a>:</h4>
<p>gotcha</p>



<a name="386928635"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386928635" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386928635">(Aug 23 2023 at 18:18)</a>:</h4>
<p>so maybe worth doing an 0.5.1 release just to fix CI, and then investigate the errors later?</p>



<a name="386929037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386929037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386929037">(Aug 23 2023 at 18:21)</a>:</h4>
<p>I've ignored that basic-cli test to fix CI a while ago. I prefer that option, I dislike making it seem like basic-cli supports windows while it would break easily with normal usage.</p>



<a name="386929075"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386929075" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386929075">(Aug 23 2023 at 18:21)</a>:</h4>
<p>that's fair <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="386966710"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386966710" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386966710">(Aug 24 2023 at 00:04)</a>:</h4>
<p>Yeah, some of the basic-cli tests assume linux tools available. I would like to have it working on Windows but I think there are still issues with Roc itself which really prevent anyone from using it on Windows</p>



<a name="386969584"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/386969584" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#386969584">(Aug 24 2023 at 00:47)</a>:</h4>
<p>do you happen to know which issues in particular are blocking it?</p>



<a name="390556167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390556167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390556167">(Sep 12 2023 at 16:28)</a>:</h4>
<p>have we seen this before?</p>
<div class="codehilite"><pre><span></span><code>  thread &#39;main&#39; panicked at &#39;zig build object -Drelease=true failed 10 times in a row. The following error is unlikely to be a flaky error: /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:447:29: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/bpf.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:444:32: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/amdgpu.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:449:30: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/mips.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:442:33: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/aarch64.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:445:29: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/arm.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:443:29: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/arc.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:446:29: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/avr.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:450:32: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/msp430.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:451:31: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/nvptx.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:453:31: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/riscv.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:454:31: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/sparc.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:455:31: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/spirv.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:448:33: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/hexagon.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:452:33: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/powerpc.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:456:33: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/systemz.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:457:28: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/ve.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:459:29: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/x86.zig&#39;: FileNotFound
  /Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target.zig:458:30: error: unable to load &#39;/Users/username1/Downloads/zig-macos-x86_64-0.9.1/lib/std/target/wasm.zig&#39;: FileNotFound
  &#39;, crates/compiler/builtins/bitcode/build.rs:179:25
 ```
</code></pre></div>



<a name="390556194"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390556194" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390556194">(Sep 12 2023 at 16:28)</a>:</h4>
<p>on <a href="https://github.com/roc-lang/roc/actions/runs/6162086596/job/16722836284?pr=5799">https://github.com/roc-lang/roc/actions/runs/6162086596/job/16722836284?pr=5799</a></p>



<a name="390562403"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390562403" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390562403">(Sep 12 2023 at 17:07)</a>:</h4>
<p>No, I don't think so</p>



<a name="390563686"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390563686" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390563686">(Sep 12 2023 at 17:16)</a>:</h4>
<p>it's hitting 2 PRs that don't really do anything on macos. are we downloading some weird/bad version of zig?</p>



<a name="390572162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390572162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390572162">(Sep 12 2023 at 18:11)</a>:</h4>
<p>Oh, I see what's wrong now, I was cleaning up disk space on the CI machine and searched for folders named target and deleted them, but I was under the impression I was searching in my roc folder but it appears to have been systemwide. I'll try to fix it now.</p>



<a name="390574440"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390574440" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390574440">(Sep 12 2023 at 18:26)</a>:</h4>
<p>Re-running now</p>



<a name="390577140"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/390577140" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#390577140">(Sep 12 2023 at 18:44)</a>:</h4>
<p>Success <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="395424793"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395424793" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395424793">(Oct 07 2023 at 14:25)</a>:</h4>
<p>what is happening here?</p>
<div class="codehilite"><pre><span></span><code>üéâ Docs generated in ./generated-docs
+ mv generated-docs/ www/build/builtins
+ find www/build/builtins -type f -name index.html -exec sed -i &#39;s!&lt;/nav&gt;!&lt;div class=&quot;builtins-tip&quot;&gt;&lt;b&gt;Tip:&lt;/b&gt; &lt;a href=&quot;/different-names&quot;&gt;Some names&lt;/a&gt; differ from other languages.&lt;/div&gt;&lt;/nav&gt;!&#39; &#39;{}&#39; &#39;;&#39;
+ rm -rf roc_nightly roc_releases.json
+ &#39;[&#39; -v GITHUB_TOKEN_READ_ONLY &#39;]&#39;
Building tutorial.html from tutorial.md...
+ echo &#39;Building tutorial.html from tutorial.md...&#39;
+ mkdir www/build/tutorial
+ cargo build --release --bin roc
    Finished release [optimized] target(s) in 0.23s
+ roc=target/release/roc
+ target/release/roc version
roc built-from-source
+ target/release/roc run www/generate_tutorial/src/tutorial.roc -- www/generate_tutorial/src/input/ www/build/tutorial/
üî® Rebuilding platform...
Processing 1 input files...
/home/small-ci-user/actions-runner/_work/roc/roc/www/generate_tutorial/src/input/tutorial.md -&gt; /home/small-ci-user/actions-runner/_work/roc/roc/www/build/tutorial/tutorial.html
Processed 1 files with 1 successes and 0 errors
www/build.sh: line 91: 2753219 Segmentation fault      (core dumped) $roc run www/generate_tutorial/src/tutorial.roc -- www/generate_tutorial/src/input/ www/build/tutorial/
</code></pre></div>



<a name="395425300"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395425300" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395425300">(Oct 07 2023 at 14:30)</a>:</h4>
<p>I think that's a flake, I restarted the job now.</p>



<a name="395427998"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395427998" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395427998">(Oct 07 2023 at 15:02)</a>:</h4>
<p>yeah I've seen that before</p>



<a name="395428061"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395428061" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395428061">(Oct 07 2023 at 15:03)</a>:</h4>
<p>It segfaulted again, I don't really see why the clippy changes would make it more likely though. I did create <a href="https://github.com/roc-lang/roc/issues/5772">#5772</a> for it earlier with some valgrind output</p>



<a name="395431314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395431314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395431314">(Oct 07 2023 at 15:40)</a>:</h4>
<p>ah, ok the cause is pretty obvious actually</p>



<a name="395431650"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/395431650" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#395431650">(Oct 07 2023 at 15:45)</a>:</h4>
<p>fix <a href="https://github.com/roc-lang/roc/pull/5892">https://github.com/roc-lang/roc/pull/5892</a></p>



<a name="404719269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/404719269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#404719269">(Nov 28 2023 at 21:16)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span>  Looks to be issues with a specific ci device:</p>
<div class="codehilite"><pre><span></span><code>Runner name: &#39;anton-m1-mac-mini&#39;
Runner group name: &#39;Default&#39;
Machine name: &#39;m1cis-Mac-mini&#39;
</code></pre></div>
<p>exmaple failures:</p>
<ul>
<li><a href="https://github.com/roc-lang/roc/actions/runs/7024562782/job/19113597411?pr=5775">https://github.com/roc-lang/roc/actions/runs/7024562782/job/19113597411?pr=5775</a></li>
<li><a href="https://github.com/roc-lang/roc/actions/runs/7024562746/job/19113571637?pr=5775">https://github.com/roc-lang/roc/actions/runs/7024562746/job/19113571637?pr=5775</a></li>
</ul>



<a name="404777136"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/404777136" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#404777136">(Nov 29 2023 at 04:10)</a>:</h4>
<p>It seems that the mac ci runner is fully down now <a href="https://github.com/roc-lang/roc/issues/5775">#5775</a> is just sitting with the action queued. Same with a few other PRs. I am gonna assume the machine was hitting problems and then crashed or something.</p>



<a name="404822444"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/404822444" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#404822444">(Nov 29 2023 at 09:34)</a>:</h4>
<p>It's running now, this was due to <a href="https://github.com/roc-lang/roc/issues/6106">#6106</a>, I'll set up a temporary fix today</p>



<a name="404888003"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/404888003" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#404888003">(Nov 29 2023 at 15:06)</a>:</h4>
<p>I've set up a <a href="https://github.com/roc-lang/roc/actions/workflows/ci_cleanup_nix_mac.yml">new workflow</a> that will clean up the nix store on the m1 mac mini CI server once a day. It can also be triggered manually if needed.</p>



<a name="405195897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405195897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405195897">(Nov 30 2023 at 20:27)</a>:</h4>
<p>Just saw the new workflow on <a href="https://github.com/roc-lang/roc/pull/6122">https://github.com/roc-lang/roc/pull/6122</a> and it worked great! <span aria-label="muscle" class="emoji emoji-1f4aa" role="img" title="muscle">:muscle:</span></p>



<a name="405274438"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405274438" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405274438">(Dec 01 2023 at 04:39)</a>:</h4>
<p>Is this known? <a href="https://github.com/roc-lang/roc/actions/runs/7055754074/job/19206699414?pr=6128">https://github.com/roc-lang/roc/actions/runs/7055754074/job/19206699414?pr=6128</a></p>



<a name="405292248"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405292248" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405292248">(Dec 01 2023 at 06:58)</a>:</h4>
<p>That definitely was flaky on some of my past PRs. Not sure why</p>



<a name="405343870"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405343870" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405343870">(Dec 01 2023 at 11:41)</a>:</h4>
<p>I've also seen it flake before, we should move the gui examples over to the examples repo</p>



<a name="405918680"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405918680" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405918680">(Dec 04 2023 at 22:00)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/6176">#6176</a> is failing in CI on some valgrind tests that I shouldn't have affected at all. Any ideas?</p>



<a name="405929437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405929437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405929437">(Dec 04 2023 at 23:05)</a>:</h4>
<p>no idea, likely something specific to the machine/hardware</p>



<a name="405956029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/405956029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Murray <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#405956029">(Dec 05 2023 at 02:30)</a>:</h4>
<p>Maybe its some zig <code>unreachable</code>s like the issue i had in <a href="https://github.com/roc-lang/roc/pull/6062">https://github.com/roc-lang/roc/pull/6062</a> ?</p>



<a name="406023924"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/406023924" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#406023924">(Dec 05 2023 at 10:22)</a>:</h4>
<blockquote>
<p>[...] that I shouldn't have affected at all.</p>
</blockquote>
<p>If the builtins changed things can shift around and end up revealing an existing problem.</p>



<a name="406154291"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/406154291" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#406154291">(Dec 05 2023 at 20:32)</a>:</h4>
<p>Sorry that I forgot about <a href="https://github.com/roc-lang/roc/issues/6062">#6062</a>, thought I had already merged it.</p>



<a name="406154313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/406154313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#406154313">(Dec 05 2023 at 20:32)</a>:</h4>
<p>I hope rebasing on it will fix my ci issues.</p>



<a name="406963309"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/406963309" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#406963309">(Dec 09 2023 at 18:58)</a>:</h4>
<p>This keeps timing out for me: <a href="https://github.com/roc-lang/roc/actions/runs/7149876106/job/19477835985?pr=6216">https://github.com/roc-lang/roc/actions/runs/7149876106/job/19477835985?pr=6216</a></p>



<a name="406967953"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/406967953" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#406967953">(Dec 09 2023 at 20:12)</a>:</h4>
<p>passes locally on x86 for me in reasonable time. Gonna launch another time and hope.</p>



<a name="409708834"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/409708834" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#409708834">(Dec 23 2023 at 11:11)</a>:</h4>
<p>Main is failing on:</p>
<div class="codehilite"><pre><span></span><code>‚îÄ‚îÄ FILE NOT FOUND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ UNKNOWN.roc ‚îÄ

I am looking for this file, but it&#39;s not there:

    downloaded-basic-cli/src/main.roc
</code></pre></div>
<p>Fixing it now</p>



<a name="410943680"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/410943680" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#410943680">(Jan 03 2024 at 02:27)</a>:</h4>
<p>a change to decimal parsing somehow causes a segfault <a href="https://github.com/roc-lang/roc/actions/runs/7391040574/job/20109491250?pr=6340">https://github.com/roc-lang/roc/actions/runs/7391040574/job/20109491250?pr=6340</a></p>
<p>that is likely unrelated to the actual changes, so maybe something is flaky?</p>



<a name="410976235"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/410976235" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#410976235">(Jan 03 2024 at 08:39)</a>:</h4>
<p>That's the same segfault I'm hitting in <a href="https://github.com/roc-lang/roc/pull/6333">PR#6333</a>, tracked as <a href="https://github.com/roc-lang/roc/issues/5924">#5924</a>. I planned on digging into it more today, we can ignore and merge if it's not (close to) fixed today. It's a particularly difficult bug because the segfault only occurs when it's cleaning up the memory, after execution is done. I've found similar bugs on the internet where this happened because of invalid pointers.</p>
<p>Some interesting behavior; the segfault is not triggered if I change:</p>
<div class="codehilite"><pre><span></span><code>#[no_mangle]
pub unsafe extern &quot;C&quot; fn roc_dbg(loc: *mut RocStr, msg: *mut RocStr, src: *mut RocStr) {
    eprintln!(&quot;[{}] {} = {}&quot;, &amp;*loc, &amp;*src, &amp;*msg);
}
</code></pre></div>
<p>to:</p>
<div class="codehilite"><pre><span></span><code>#[no_mangle]
pub unsafe extern &quot;C&quot; fn roc_dbg(loc: *mut RocStr, msg: *mut RocStr, src: *mut RocStr) {
    eprintln!(&quot;&quot;);
    eprintln!(&quot;[{}] {} = {}&quot;, &amp;*loc, &amp;*src, &amp;*msg);
}
</code></pre></div>
<p>All while <code>dbg</code> is not even used in this test.</p>
<p>If anybody has any debugging tips, I'd love to hear them :)</p>



<a name="411013245"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411013245" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411013245">(Jan 03 2024 at 13:18)</a>:</h4>
<p>but is the valgrind info clean when you add that extra eprintln? I'd guess not</p>



<a name="411013337"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411013337" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411013337">(Jan 03 2024 at 13:19)</a>:</h4>
<p>this just reeks of UB. I had something kind of similar happen a while ago when we didn't implement the ABI correctly in the dev backend</p>



<a name="411013979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411013979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411013979">(Jan 03 2024 at 13:24)</a>:</h4>
<p>oh, with the legacy linker it just works. Was that known?</p>



<a name="411014535"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411014535" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411014535">(Jan 03 2024 at 13:28)</a>:</h4>
<blockquote>
<p>oh, with the legacy linker it just works. Was that known?</p>
</blockquote>
<p>yes indeed</p>



<a name="411014564"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411014564" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411014564">(Jan 03 2024 at 13:28)</a>:</h4>
<blockquote>
<p>but is the valgrind info clean when you add that extra eprintln? I'd guess not</p>
</blockquote>
<p>yes:</p>
<div class="codehilite"><pre><span></span><code>‚ùØ valgrind ~/Desktop/closures_comparison/closures_good/app
==41746== Memcheck, a memory error detector
==41746== Copyright (C) 2002-2022, and GNU GPL&#39;d, by Julian Seward et al.
==41746== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==41746== Command: /home/username/Desktop/closures_comparison/closures_good/app
==41746==
Answer was: 672
==41746==
==41746== HEAP SUMMARY:
==41746==     in use at exit: 0 bytes in 0 blocks
==41746==   total heap usage: 12 allocs, 12 frees, 3,205 bytes allocated
==41746==
==41746== All heap blocks were freed -- no leaks are possible
==41746==
==41746== For lists of detected and suppressed errors, rerun with: -s
==41746== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
</code></pre></div>



<a name="411014742"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411014742" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411014742">(Jan 03 2024 at 13:29)</a>:</h4>
<p>well that makes more sense if things do work with the legacy linker</p>



<a name="411014851"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411014851" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411014851">(Jan 03 2024 at 13:30)</a>:</h4>
<p>it's plausible that e.g. something is not aligned or updated correctly by the legacy linker, and that extra statement somehow makes it work again</p>



<a name="411014911"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411014911" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411014911">(Jan 03 2024 at 13:30)</a>:</h4>
<blockquote>
<p>... or updated correctly by the legacy linker</p>
</blockquote>
<p>I think you mean surgical linker here right?</p>



<a name="411015035"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411015035" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411015035">(Jan 03 2024 at 13:31)</a>:</h4>
<p>yes, sorry</p>



<a name="411015332"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411015332" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411015332">(Jan 03 2024 at 13:33)</a>:</h4>
<p>so maybe we can get something out of diffing the working and non-working program somehow?</p>



<a name="411016415"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411016415" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411016415">(Jan 03 2024 at 13:41)</a>:</h4>
<p>could be nothing but</p>
<div class="codehilite"><pre><span></span><code>Start of section headers:          6556800 (bytes into file) # good
Start of section headers:          6552512 (bytes into file) # bad
</code></pre></div>

<p>that could be an alignment thing?</p>



<a name="411016806"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411016806" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411016806">(Jan 03 2024 at 13:44)</a>:</h4>
<p>hmm no other tests here also have arbitrary starts.</p>



<a name="411022984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411022984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411022984">(Jan 03 2024 at 14:24)</a>:</h4>
<blockquote>
<p>so maybe we can get something out of diffing the working and non-working program somehow?</p>
</blockquote>
<p>Sounds good, I'll get on that later today</p>



<a name="411035918"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411035918" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411035918">(Jan 03 2024 at 15:47)</a>:</h4>
<p>I tried but with readelf at least I don't really see anything interesting</p>



<a name="411036036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411036036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411036036">(Jan 03 2024 at 15:48)</a>:</h4>
<p>besides that the text section changes size and it is right before the .fini section so that moves around</p>



<a name="411036059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411036059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411036059">(Jan 03 2024 at 15:48)</a>:</h4>
<p>but that seems to happen even when I make other changes and then the platform keeps working</p>



<a name="411069416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411069416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411069416">(Jan 03 2024 at 19:34)</a>:</h4>
<blockquote>
<p>we can ignore and merge if it's not (close to) fixed today.</p>
</blockquote>
<p>Given that we're hitting this in four different places I'd like to take some extra time.</p>
<p>I have assembled 4 good/bad versions of executables in <a href="https://github.com/roc-lang/roc/issues/5924#issuecomment-1875863437">a tar</a>. If we find what all bad executables have in common we should be able to figure out the cause :)</p>



<a name="411083562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411083562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411083562">(Jan 03 2024 at 21:17)</a>:</h4>
<p>so, I'm trying some debugging here. My version segfaults at this pop instruction. </p>
<div class="codehilite"><pre><span></span><code>‚îÇ   0x555555691ffa &lt;__libc_csu_init+90&gt;     pop    rbx      
‚îÇ   0x555555691ffb &lt;__libc_csu_init+91&gt;     pop    rbp      
‚îÇ   0x555555691ffc &lt;__libc_csu_init+92&gt;     pop    r12      
‚îÇ   0x555555691ffe &lt;__libc_csu_init+94&gt;     pop    r13      
‚îÇ  &gt;0x555555692000 &lt;__libc_csu_init+96&gt;     pop    r14      
‚îÇ   0x555555692002 &lt;__libc_csu_init+98&gt;     pop    r15      
‚îÇ   0x555555692004 &lt;__libc_csu_init+100&gt;    ret
</code></pre></div>

<p>that could make sense if the stack got corrupted somehow. the stack pointer value here:</p>
<div class="codehilite"><pre><span></span><code>rax            0x0                 0
rbx            0x555555691fa0      93824993533856
rcx            0x555555691fa0      93824993533856
rdx            0x7fffffffe068      140737488347240
rsi            0x0                 0
rdi            0x5555556f3108      93824993931528
rbp            0x0                 0x0
rsp            0x7fffffffdf58      0x7fffffffdf58
r8             0x0                 0
r9             0x7ffff7fe0d60      140737354009952
r10            0x1                 1
</code></pre></div>

<p>stores the r14 register based on the frame info</p>
<div class="codehilite"><pre><span></span><code>Stack level 0, frame at 0x7fffffffdf70:
 rip = 0x555555692000 in __libc_csu_init; saved rip = 0x7ffff7d8f010
 called by frame at 0x7fffffffe040
 Arglist at 0x7fffffffdf50, args:
 Locals at 0x7fffffffdf50, Previous frame&#39;s sp is 0x7fffffffdf70
 Saved registers:
  rbx at 0x7fffffffdf38, rbp at 0x7fffffffdf40, r12 at 0x7fffffffdf48, r13 at 0x7fffffffdf50, r14 at 0x7fffffffdf58, r15 at 0x7fffffffdf60,
  rip at 0x7fffffffdf68
</code></pre></div>

<p>So, notice how the arglist and locals start at a stack offset that is in the middle of that sequence of stored registers. A working version does not do that </p>
<div class="codehilite"><pre><span></span><code>Stack level 0, frame at 0x7fffffffdf70:
 rip = 0x555555691ff5 in __libc_csu_init; saved rip = 0x7ffff7d8f010
 called by frame at 0x7fffffffe040
 Arglist at 0x7fffffffdf30, args:
 Locals at 0x7fffffffdf30, Previous frame&#39;s sp is 0x7fffffffdf70
 Saved registers:
  rbx at 0x7fffffffdf38, rbp at 0x7fffffffdf40, r12 at 0x7fffffffdf48, r13 at 0x7fffffffdf50, r14 at 0x7fffffffdf58, r15 at 0x7fffffffdf60,
  rip at 0x7fffffffdf68
</code></pre></div>

<p>so, somehow the stack got messed up? Here my knowledge kind of runs out. I don't think the bug is in this function, it must already kind of start with a messed-up stack. Do we influence somehow where the stack starts?</p>



<a name="411084850"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411084850" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411084850">(Jan 03 2024 at 21:28)</a>:</h4>
<p>hmm, or not? it looks like push/pop change the location of the arglist/locals</p>



<a name="411084913"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411084913" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411084913">(Jan 03 2024 at 21:29)</a>:</h4>
<p>at which point I'm back to: why ever would a pop cause a segfault?</p>



<a name="411085397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411085397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411085397">(Jan 03 2024 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> any thoughts here?</p>



<a name="411086161"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411086161" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411086161">(Jan 03 2024 at 21:39)</a>:</h4>
<p>Probably the same root cause as <a href="https://github.com/roc-lang/roc/issues/6121">#6121</a></p>



<a name="411086562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411086562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411086562">(Jan 03 2024 at 21:43)</a>:</h4>
<p>No immediate other thoughts. I probably need to play with it for a bit so that I can refresh my brain on the details. Probably can do that later today.</p>



<a name="411087151"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411087151" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411087151">(Jan 03 2024 at 21:48)</a>:</h4>
<p>ok well my datapoint then is that with gdb/lldb the error is different to valgrind. based on the naming it seems to error before any roc code is even called. The printing of the answer also does not happen when running with the debugger, so that seems to match up.</p>
<p>probably the same root cause, but the debugger changes something about the environment that makes the problem show up in a different place</p>



<a name="411394093"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411394093" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411394093">(Jan 05 2024 at 16:11)</a>:</h4>
<blockquote>
<p>The printing of the answer also does not happen when running with the debugger</p>
</blockquote>
<p>The printing does happen for me inside gdb</p>



<a name="411417222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/411417222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#411417222">(Jan 05 2024 at 18:59)</a>:</h4>
<p><a href="/user_uploads/22008/wgF7gtCscYbicvcLvnZ1OSWI/glue_option_bad_vs_good.png">glue_option_bad_vs_good.png</a><br>
I found a suspicious diff when printing the string variable with gdb for the failing option test. The left is for the segfaulting version, and the right for the good version (with the unused extra eprintln). The bytes in the SmallString should form "Hello World!" but that does not seem to work out with my understanding of utf8 <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Also should the length be 0?</p>
<div class="message_inline_image"><a href="/user_uploads/22008/wgF7gtCscYbicvcLvnZ1OSWI/glue_option_bad_vs_good.png" title="glue_option_bad_vs_good.png"><img src="/user_uploads/22008/wgF7gtCscYbicvcLvnZ1OSWI/glue_option_bad_vs_good.png"></a></div>



<a name="419048697"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/419048697" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#419048697">(Jan 31 2024 at 14:15)</a>:</h4>
<p>Going to do some CI maintenance, all servers should be available again in ~60 mins</p>



<a name="435507295"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/435507295" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#435507295">(Apr 26 2024 at 03:14)</a>:</h4>
<p>I'm seeing this failure on multiple branches - maybe the macOS x64 machine's LLVM setup is misconfigured somehow?</p>
<p><a href="https://github.com/roc-lang/roc/actions/runs/8842548683/job/24281394888?pr=6676#step:6:283">https://github.com/roc-lang/roc/actions/runs/8842548683/job/24281394888?pr=6676#step:6:283</a><br>
<a href="https://github.com/roc-lang/roc/actions/runs/8842567707/job/24281450979?pr=6678#step:6:284">https://github.com/roc-lang/roc/actions/runs/8842567707/job/24281450979?pr=6678#step:6:284</a></p>



<a name="435575847"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/435575847" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#435575847">(Apr 26 2024 at 12:25)</a>:</h4>
<p>I'll check it out, I updated z3 on that server Wednesday, homebrew may have updated other things too</p>



<a name="435636383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/435636383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#435636383">(Apr 26 2024 at 18:09)</a>:</h4>
<p>The macos x64 issues have been resolved but I'm still encountering some strange linking issue on macos aarch64. WIll continue investigating tomorrow...</p>



<a name="435670513"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/435670513" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#435670513">(Apr 26 2024 at 22:58)</a>:</h4>
<p>Ah, glad it wasn‚Äôt just me!</p>



<a name="435754328"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/435754328" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#435754328">(Apr 27 2024 at 12:43)</a>:</h4>
<p>macos apple silicon issue will be resolved with <a href="https://github.com/roc-lang/roc/pull/6680">PR#6680</a></p>



<a name="437651519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/437651519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#437651519">(May 08 2024 at 13:31)</a>:</h4>
<p>cli_run::static_site_gen is experiencing flaky segfaults, I'll check it out</p>



<a name="447994548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/447994548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#447994548">(Jun 29 2024 at 16:08)</a>:</h4>
<p>I think <a href="https://github.com/roc-lang/roc/pull/6849">https://github.com/roc-lang/roc/pull/6849</a> got stuck. this may be my fault because for some reason turning an assert into a debug_assert triggers an infinite loop that eats all ram. So maybe some of those machines didn't recover properly from that earlier</p>



<a name="447996008"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/447996008" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#447996008">(Jun 29 2024 at 16:16)</a>:</h4>
<p>I'll check it out</p>



<a name="447997269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/447997269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#447997269">(Jun 29 2024 at 16:25)</a>:</h4>
<p>I restarted both macos servers, they indeed ran out of memory. Both servers are running jobs again now :)</p>



<a name="448001011"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/448001011" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#448001011">(Jun 29 2024 at 16:55)</a>:</h4>
<blockquote>
<p>turning an assert into a debug_assert triggers an infinite loop that eats all ram</p>
</blockquote>
<p>That does not make sense to me. Especially when dealing with bools. I am really curious the actual cause.</p>



<a name="448009496"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/448009496" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#448009496">(Jun 29 2024 at 18:07)</a>:</h4>
<p>if anyone wants to look at the details <a href="https://github.com/roc-lang/roc/pull/6849/files#r1659918271">https://github.com/roc-lang/roc/pull/6849/files#r1659918271</a></p>



<a name="462005208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462005208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462005208">(Aug 13 2024 at 03:01)</a>:</h4>
<p>We are seeing this failure in Ci for <span class="user-mention" data-user-id="489294">@Agus Zubiaga</span> 's PR on module params. </p>
<div class="codehilite"><pre><span></span><code>---- lowlevel_list_calls stdout ----
thread &#39;lowlevel_list_calls&#39; panicked at crates/valgrind/src/lib.rs:202:9:
`valgrind` exited with exit code 1. valgrind stdout was: &quot;&quot;

valgrind stderr was: &quot;--41196-- VALGRIND INTERNAL ERROR: Valgrind received a signal 11 (SIGSEGV) - exiting
--41196-- si_code=1;  Faulting address: 0x2C9000;  sp: 0x1002db94f0

valgrind: the &#39;impossible&#39; happened:
   Killed by fatal signal

host stacktrace:
==41196==    at 0x581985FA: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x581BA239: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x581BAAE3: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x58146BE6: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x58147D32: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x5812B932: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x5812C2A0: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x5805A431: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x5809B269: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)
==41196==    by 0x580E3F40: ??? (in /usr/libexec/valgrind/memcheck-amd64-linux)

sched status:
  running_tid=1

Thread 1: status = VgTs_Runnable (lwpid 41196)
client stack range: [0x1FFEFF7000 0x1FFF000FFF] client SP: 0x1FFEFF74D0
valgrind stack range: [0x1002CBA000 0x1002DB9FFF] top usage: 18744 of 1048576
</code></pre></div>
<p>I cannot reproduce the issue locally on my linux x64 dev machine</p>



<a name="462005307"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462005307" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462005307">(Aug 13 2024 at 03:02)</a>:</h4>
<p>Just looking for ideas for how to investigate further.</p>



<a name="462007583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462007583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462007583">(Aug 13 2024 at 03:14)</a>:</h4>
<p>Perhaps the best COA is to log this as an issue, and skip this test in the PR as it looks unrelated. That way we can unblock work on Module Params.</p>



<a name="462007656"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462007656" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462007656">(Aug 13 2024 at 03:15)</a>:</h4>
<p>This looks similar to the other CI issue Anton has been investigating for basic-cli 0.13.0, so it may already be tracked by an issue.</p>



<a name="462033755"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462033755" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462033755">(Aug 13 2024 at 06:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/395097-compiler-development/topic/CI/near/462007583">said</a>:</p>
<blockquote>
<p>Perhaps the best COA is to log this as an issue, and skip this test in the PR as it looks unrelated. That way we can unblock work on Module Params.</p>
</blockquote>
<p>I agree. Though maybe I'm missing something, I don't see anything in the Module Params PR that would cause this. We should make an issue and unblock the PR</p>



<a name="462053925"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462053925" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462053925">(Aug 13 2024 at 08:40)</a>:</h4>
<blockquote>
<p>This looks similar to the other CI issue Anton has been investigating for basic-cli 0.13.0,</p>
</blockquote>
<p>It is possible they have the same cause, but this is a different kind of valgrind error.</p>



<a name="462055338"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/462055338" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#462055338">(Aug 13 2024 at 08:46)</a>:</h4>
<p>I'll try do a bit of investigating this week and we can ignore it if I don't make progress</p>



<a name="464300838"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/464300838" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#464300838">(Aug 22 2024 at 08:31)</a>:</h4>
<p>CI failures in <a href="https://github.com/roc-lang/roc/pull/7016">https://github.com/roc-lang/roc/pull/7016</a> look like a flake. I'm very sure this is unrelated to adding more tests for leb128.</p>
<div class="codehilite"><pre><span></span><code>test tests::tuple ... ok
This Roc code crashed with: &quot;Hit an erroneous type when creating a layout for `Num.add`&quot;
test tests::type_problem_binary_operator ... ok
This Roc code crashed with: &quot;Hit an erroneous type when creating a layout for `Num.add`&quot;
test tests::type_problem_function ... ok
This Roc code crashed with: &quot;Hit an erroneous type when creating a layout for `Bool.not`&quot;
test tests::type_problem_unary_operator ... ok

failures:

---- tests::list_concat stdout ----
thread &#39;tests::list_concat&#39; panicked at crates/repl_test/src/cli.rs:96:13:
repl exited unexpectedly before finishing evaluation. Exit status was ExitStatus(unix_wait_status(25856)) and stderr was &quot;&quot;
stack backtrace:
   0: rust_begin_unwind
   1: core::panicking::panic_fmt
   2: repl_test::cli::repl_eval
   3: repl_test::cli::expect_success
   4: core::ops::function::FnOnce::call_once
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.


failures:
    tests::list_concat

test result: FAILED. 142 passed; 1 failed; 2 ignored; 0 measured; 0 filtered out; finished in 6.47s
</code></pre></div>



<a name="484478297"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/484478297" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#484478297">(Nov 26 2024 at 10:21)</a>:</h4>
<p>Power is out, some work going on in the street. Not sure how long it will take, we didn't receive any communication</p>



<a name="484488669"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/484488669" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#484488669">(Nov 26 2024 at 11:14)</a>:</h4>
<p>Back up</p>



<a name="518946182"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518946182" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518946182">(May 18 2025 at 18:42)</a>:</h4>
<p>anyone know what these CI failures are? <a href="https://github.com/roc-lang/roc/pull/7795">https://github.com/roc-lang/roc/pull/7795</a></p>
<blockquote>
<p>error: failed to spawn build runner C:\Users\runneradmin\AppData\Local\zig\o\5cc848492ce7dcb02ce75ed22301d2f5\build.exe: FileNotFound</p>
</blockquote>



<a name="518946353"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518946353" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518946353">(May 18 2025 at 18:44)</a>:</h4>
<p>Suggest that zig failed to build the build.zig script</p>



<a name="518946365"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518946365" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518946365">(May 18 2025 at 18:44)</a>:</h4>
<p>Or some sort of caching issue</p>



<a name="518951852"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518951852" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518951852">(May 18 2025 at 19:50)</a>:</h4>
<p>The new zig caching action may use too much data...hmm... This really should be one global cache for all this, but I think it is per branch...worse, it seems to be making many caches per branch...more than just per os/arch, but also has a timestamp...<br>
<a href="/user_uploads/22008/QeHa0_d-NJtyL5uE6VKM9CCb/Screenshot-2025-05-18-at-12.49.55PM.png">Screenshot 2025-05-18 at 12.49.55‚ÄØPM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/QeHa0_d-NJtyL5uE6VKM9CCb/Screenshot-2025-05-18-at-12.49.55PM.png" title="Screenshot 2025-05-18 at 12.49.55‚ÄØPM.png"><img data-original-content-type="image/png" data-original-dimensions="2122x1216" src="/user_uploads/thumbnail/22008/QeHa0_d-NJtyL5uE6VKM9CCb/Screenshot-2025-05-18-at-12.49.55PM.png/840x560.webp"></a></div>



<a name="518952022"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518952022" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518952022">(May 18 2025 at 19:52)</a>:</h4>
<p>can't we have a lru or TTL policy on the cache</p>



<a name="518952097"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518952097" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518952097">(May 18 2025 at 19:53)</a>:</h4>
<p>Github uses LRU policy for kicking old data</p>



<a name="518952138"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518952138" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518952138">(May 18 2025 at 19:53)</a>:</h4>
<p>But I'm not convinced it is caching correctly vs just spinning up tons of duplicate caches</p>



<a name="518952147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518952147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518952147">(May 18 2025 at 19:53)</a>:</h4>
<p>Not sure fully though</p>



<a name="518952919"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518952919" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518952919">(May 18 2025 at 20:01)</a>:</h4>
<blockquote>
<p>anyone know what these CI failures are?</p>
</blockquote>
<p>I nuked the zig cache and it is working now. So yeah...caching</p>



<a name="518953436"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/518953436" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#518953436">(May 18 2025 at 20:06)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/pull/7796">https://github.com/roc-lang/roc/pull/7796</a></p>



<a name="537336741"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/537336741" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#537336741">(Sep 02 2025 at 17:44)</a>:</h4>
<p>I have taken the raspberry pi arm64 linux CI offline, I'm going to set it up with debian 12 to fix a musl issue, it is currently on 11.</p>



<a name="542017036"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542017036" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542017036">(Sep 29 2025 at 11:54)</a>:</h4>
<p>seems like we have some zstd-related CI failures:</p>
<p><a href="https://github.com/roc-lang/roc/actions/runs/18083369705/job/51450232938">https://github.com/roc-lang/roc/actions/runs/18083369705/job/51450232938</a></p>
<div class="codehilite"><pre><span></span><code>/Users/runner/work/roc/roc/build.zig.zon:42:20: error: invalid HTTP response: EndOfStream

.url = &quot;https://github.com/roc-lang/roc-bootstrap/releases/download/zig-0.13.0/x86_64-macos-none.tar.xz?response-content-disposition=attachment&quot;,

^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

/Users/runner/work/roc/roc/build.zig.zon:56:20: error: unable to discover remote git server capabilities: EndOfStream

.url = &quot;git+https://github.com/allyourcodebase/zstd.git#1.5.7&quot;,

^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre></div>
<p><a href="https://github.com/roc-lang/roc/actions/runs/18083369705/job/51450232948">https://github.com/roc-lang/roc/actions/runs/18083369705/job/51450232948</a></p>
<blockquote>
<p>error: error: unable to find dynamic system library 'z' using strategy 'paths_first'. searched paths: none</p>
</blockquote>



<a name="542032576"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542032576" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542032576">(Sep 29 2025 at 13:00)</a>:</h4>
<p>I'm looking at the z library issue</p>



<a name="542070638"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542070638" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542070638">(Sep 29 2025 at 15:21)</a>:</h4>
<p>Interesting. Should be statically compiled and part of roc bootstrap iirc</p>



<a name="542070890"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542070890" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542070890">(Sep 29 2025 at 15:22)</a>:</h4>
<p>roc bootstrap is for zig 13, so it's likely we're not using that at all</p>



<a name="542071152"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542071152" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542071152">(Sep 29 2025 at 15:23)</a>:</h4>
<p><code>unable to find dynamic system library 'z'</code> showed up without a change in code, it's caused by a change in the runner OS image (so depenecy change most likely).</p>



<a name="542071223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542071223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542071223">(Sep 29 2025 at 15:24)</a>:</h4>
<p>I don't hit it on my rpi arm64, it's strange</p>



<a name="542071428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542071428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542071428">(Sep 29 2025 at 15:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/395097-compiler-development/topic/CI/near/542070890">said</a>:</p>
<blockquote>
<p>roc bootstrap is for zig 13, so it's likely we're not using that at all</p>
</blockquote>
<p>That shouldn't matter. It is just a pile of static libraries that happened to be built with zig 0.13.0. it should work to statically get libz from it on all supported systems if we want.</p>



<a name="542071629"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542071629" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542071629">(Sep 29 2025 at 15:25)</a>:</h4>
<p>Though I guess we currently get it from <code>allypurcodebase</code> which I would have assumed also statically compiled it and shouldn't need a system dep....idk</p>



<a name="542072507"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542072507" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542072507">(Sep 29 2025 at 15:29)</a>:</h4>
<p>Though I realize I may be mixed up on lib names... Z vs zstd.</p>



<a name="542072824"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542072824" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542072824">(Sep 29 2025 at 15:30)</a>:</h4>
<p>Yeah :p both are compression libs to make the confusion even more likely <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="542080751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542080751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542080751">(Sep 29 2025 at 16:02)</a>:</h4>
<p>It might be the case that roc bootstrap only has zstd and not z....don't recall</p>



<a name="542082858"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542082858" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542082858">(Sep 29 2025 at 16:11)</a>:</h4>
<p>Looks like both are in there from a quick look</p>



<a name="542085291"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542085291" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542085291">(Sep 29 2025 at 16:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/395097-compiler-development/topic/CI/near/542071223">said</a>:</p>
<blockquote>
<p>I don't hit it on my rpi arm64, it's strange</p>
</blockquote>
<p>My pi does not have llvm-config on it and github CI ubuntu 24 arm does, looks like that changes a lot because: "... <code>llvm-config</code> was not found (Only building repro executables)".</p>



<a name="542085435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542085435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542085435">(Sep 29 2025 at 16:22)</a>:</h4>
<p>What should we do in CI, only build repro executables or the full thing for <code>zig build -Dfuzz -Dsystem-afl=false</code> ?</p>



<a name="542093635"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542093635" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542093635">(Sep 29 2025 at 17:00)</a>:</h4>
<p>Preferably ci builds everything to make sure things don't go stale</p>



<a name="542093717"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542093717" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542093717">(Sep 29 2025 at 17:01)</a>:</h4>
<p>Doesn't need to run everything, but preferably builds it. Especially given zig won't even type check what doesn't build.</p>



<a name="542096590"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542096590" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542096590">(Sep 29 2025 at 17:15)</a>:</h4>
<p>I put in a temp fix first to unblock CI <a href="https://github.com/roc-lang/roc/issues/8254">#8254</a></p>



<a name="542099304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542099304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542099304">(Sep 29 2025 at 17:28)</a>:</h4>
<p>These are flaky errors btw <span class="user-mention" data-user-id="281383">@Richard Feldman</span>:</p>
<div class="codehilite"><pre><span></span><code>/Users/runner/work/roc/roc/build.zig.zon:42:20: error: invalid HTTP response: EndOfStream

.url = &quot;https://github.com/roc-lang/roc-bootstrap/releases/download/zig-0.13.0/x86_64-macos-none.tar.xz?response-content-disposition=attachment&quot;,

^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

/Users/runner/work/roc/roc/build.zig.zon:56:20: error: unable to discover remote git server capabilities: EndOfStream

.url = &quot;git+https://github.com/allyourcodebase/zstd.git#1.5.7&quot;,

^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre></div>



<a name="542099453"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542099453" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542099453">(Sep 29 2025 at 17:29)</a>:</h4>
<p>gotcha, thanks!</p>



<a name="542099504"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542099504" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542099504">(Sep 29 2025 at 17:29)</a>:</h4>
<p>I wonder if we could put some retries around those or something</p>



<a name="542100013"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542100013" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542100013">(Sep 29 2025 at 17:32)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> I'll do that</p>



<a name="542101844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/CI/near/542101844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/CI.html#542101844">(Sep 29 2025 at 17:41)</a>:</h4>
<p>I'm going to see if better caching can fix it too, that results in cleaner CI code.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
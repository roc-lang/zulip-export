<html>
<head><meta charset="utf-8"><title>nominal type declaration statements - how to represent? · compiler development · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html">nominal type declaration statements - how to represent?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="527090606"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527090606" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527090606">(Jul 04 2025 at 00:36)</a>:</h4>
<p>In our CIR we currently have this... which I think isn't quite right.</p>
<div class="codehilite" data-code-language="Zig"><pre><span></span><code><span class="c1">/// A declaration of a new type - whether an alias or a new nominal nominal type</span>
<span class="c1">///</span>
<span class="c1">/// Only valid at the top level of a module</span>
<span class="n">s_type_decl</span><span class="o">:</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">header</span><span class="o">:</span><span class="w"> </span><span class="n">CIR</span><span class="p">.</span><span class="n">TypeHeader</span><span class="p">.</span><span class="n">Idx</span><span class="p">,</span>
<span class="w">    </span><span class="n">anno</span><span class="o">:</span><span class="w"> </span><span class="n">CIR</span><span class="p">.</span><span class="n">TypeAnno</span><span class="p">.</span><span class="n">Idx</span><span class="p">,</span>
<span class="w">    </span><span class="n">where</span><span class="o">:</span><span class="w"> </span><span class="o">?</span><span class="n">CIR</span><span class="p">.</span><span class="n">WhereClause</span><span class="p">.</span><span class="n">Span</span><span class="p">,</span>
<span class="w">    </span><span class="n">region</span><span class="o">:</span><span class="w"> </span><span class="n">Region</span><span class="p">,</span>
<span class="p">},</span>
</code></pre></div>
<p>In my understanding both <code>Foo : ...</code> and <code>Foo := ...</code> are statements. They are both type declarations. One is an Alias Type delcaration, and the other is a Nominal Type declaration. </p>
<p>I could imagine a future where people default to refer to these as;</p>
<ol>
<li>Nominal Type Declaration becomes "that's a Type declaration" </li>
<li>Alias Type Declaration becomes "that's a Alias declaration" </li>
</ol>
<p>I'm wondering, how should we represent the nominal types in our CIR? Currently I think the <code>s_type_decl</code> is being used for Aliases because that is all we have implemented so far. Should we make another separate variant to distinguish between these two, or maybe a flag <code>is_alias</code> or similar in this variant?</p>



<a name="527091173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527091173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527091173">(Jul 04 2025 at 00:47)</a>:</h4>
<p>that's how we do it in the Rust version of the compiler but I'm not thrilled with how it has worked out</p>



<a name="527091180"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527091180" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527091180">(Jul 04 2025 at 00:47)</a>:</h4>
<p>I'd rather we just had <code>.s_alias_decl</code> and <code>.s_nominal_decl</code> or something like that</p>



<a name="527308792"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527308792" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527308792">(Jul 05 2025 at 22:49)</a>:</h4>
<p>This is somewhat related, but can nominal tag union be open/extensible? In particular, are these allowed?</p>
<div class="codehilite"><pre><span></span><code>Color := [Red, Green, Blue]*
Color other := [Red, Green, Blue]other

OtherColor : [Purple]
Color := [Red, Green, Blue]OtherColor
</code></pre></div>



<a name="527310583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527310583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527310583">(Jul 05 2025 at 23:39)</a>:</h4>
<p>I didn't think that was permitted</p>



<a name="527310608"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527310608" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527310608">(Jul 05 2025 at 23:39)</a>:</h4>
<p>Maybe it would be useful though. I really dont know</p>



<a name="527310772"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527310772" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527310772">(Jul 05 2025 at 23:44)</a>:</h4>
<p>I think this would be allowed:</p>
<div class="codehilite"><pre><span></span><code>Color other := [Red, Green, Blue]other

OtherColor : [Purple]

MixedColor : Color(OtherColor)
</code></pre></div>
<p>At least I see no reason it wouldn't be allowed off the top of my head....but I may be missing something</p>



<a name="527310776"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527310776" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527310776">(Jul 05 2025 at 23:44)</a>:</h4>
<p>I'm not arguing  for or against!</p>
<p>When checking types of nominal tag unions, if the above examples are <em>not allowed</em>, then we can really easily check if a tag (eg <code>Blue</code> or <code>Yellow</code>) is a member of the closed tag set and raise a diagnostic in Can if not. But if the above <em>is allowed</em>, then we have to check the tag membership in type-checking (so we can fully expand any extensible types)</p>



<a name="527310805"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527310805" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527310805">(Jul 05 2025 at 23:45)</a>:</h4>
<p>This on the other hand:</p>
<div class="codehilite"><pre><span></span><code>Color := [Red, Green, Blue]*
</code></pre></div>
<p>Would just be equivalent to:</p>
<div class="codehilite"><pre><span></span><code>Color := [Red, Green, Blue]
</code></pre></div>



<a name="527314005"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314005" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314005">(Jul 06 2025 at 01:07)</a>:</h4>
<p>no, nominal tag unions can't be extended</p>



<a name="527314007"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314007" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314007">(Jul 06 2025 at 01:07)</a>:</h4>
<p>this is actually very important!</p>



<a name="527314027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314027">(Jul 06 2025 at 01:07)</a>:</h4>
<p>if we allow them to be extensible, then they don't solve <a href="https://github.com/roc-lang/rfcs/pull/1">https://github.com/roc-lang/rfcs/pull/1</a> and we have that problem again</p>



<a name="527314151"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314151" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314151">(Jul 06 2025 at 01:11)</a>:</h4>
<p>Ooo okay, good to know.</p>



<a name="527314168"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314168" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314168">(Jul 06 2025 at 01:11)</a>:</h4>
<p>we could allow some special syntax sugar for them, that's just sort of like "let me copy and paste that for you" e.g.</p>
<div class="codehilite"><pre><span></span><code>Color := [Red, Green, Blue, ..OtherColor]

OtherColor : [Purple]
</code></pre></div>



<a name="527314171"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314171" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314171">(Jul 06 2025 at 01:11)</a>:</h4>
<p>That will make validating nominal tags easier then!</p>



<a name="527314175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314175">(Jul 06 2025 at 01:11)</a>:</h4>
<p>but <code>..a</code> would need to be disallowed</p>



<a name="527314192"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314192" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314192">(Jul 06 2025 at 01:12)</a>:</h4>
<p>extension variables in nominal tag unions must be compile errors</p>



<a name="527314296"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314296" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314296">(Jul 06 2025 at 01:14)</a>:</h4>
<p>Cool. Can nominal records be extensible?</p>



<a name="527314346"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527314346" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527314346">(Jul 06 2025 at 01:16)</a>:</h4>
<p>also no</p>



<a name="527315816"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527315816" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527315816">(Jul 06 2025 at 01:59)</a>:</h4>
<p>How is </p>
<div class="codehilite"><pre><span></span><code>OtherColor : [Purple]
Color := [Red, Green, Blue, ..OtherColor]
</code></pre></div>
<p>Different from:</p>
<div class="codehilite"><pre><span></span><code>OtherColor : [Purple]
AbstractColor(a) := [Red, Green, Blue, ..a]

Color : AbstractColor(OtherColor)
</code></pre></div>



<a name="527315898"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527315898" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527315898">(Jul 06 2025 at 02:00)</a>:</h4>
<p>the problem is allowing the type variable:</p>
<div class="codehilite"><pre><span></span><code>AbstractColor(a) := [Red, Green, Blue, ..a]
</code></pre></div>
<p>now you can write functions where the type's layout at runtime varies based on the arguments you pass to that function</p>



<a name="527320308"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527320308" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527320308">(Jul 06 2025 at 03:56)</a>:</h4>
<p>Are we permitting nominal records? I thought the intent was just Tags for now</p>



<a name="527320639"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527320639" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527320639">(Jul 06 2025 at 04:02)</a>:</h4>
<p>Or maybe that was only specifically recursive types must be tags.</p>



<a name="527322540"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527322540" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527322540">(Jul 06 2025 at 04:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F/near/527315898">said</a>:</p>
<blockquote>
<p>the problem is allowing the type variable:</p>
<div class="codehilite"><pre><span></span><code>AbstractColor(a) := [Red, Green, Blue, ..a]
</code></pre></div>
<p>now you can write functions where the type's layout at runtime varies based on the arguments you pass to that function</p>
</blockquote>
<p>Ah yeah, I guess it essential makes the extension types not nominal which kinda defeats the whole point of making the type nominal in the first place.</p>



<a name="527609164"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527609164" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527609164">(Jul 08 2025 at 05:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F/near/527320308">said</a>:</p>
<blockquote>
<p>Are we permitting nominal records? I thought the intent was just Tags for now</p>
</blockquote>
<p>I'd love to know the answer to this... is this valid 0.1 syntax? </p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>



<a name="527610020"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527610020" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527610020">(Jul 08 2025 at 06:05)</a>:</h4>
<p>Last this was discussed, I think the decision was to start simple and require a wrapper tag:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="nf">:=</span><span class="w"> </span><span class="p">[</span><span class="kt">Wrapper</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">real</span><span class="nf">:</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="nv">imag</span><span class="nf">:</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">}]</span>
</code></pre></div>
<p>Not sure if any opinions have changed though.</p>



<a name="527610054"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527610054" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527610054">(Jul 08 2025 at 06:05)</a>:</h4>
<p>Definitely an <span class="user-mention" data-user-id="281383">@Richard Feldman</span> question</p>



<a name="527610658"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527610658" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527610658">(Jul 08 2025 at 06:11)</a>:</h4>
<p>Would be bice to learn why nominal types feature cant be just a "uniqueness" wrapper around any type. Like if there was a special tag <code>Unique</code> so <code>Id : Unique(U64)</code></p>



<a name="527611139"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527611139" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527611139">(Jul 08 2025 at 06:16)</a>:</h4>
<p><span class="user-mention" data-user-id="584248">@Kiryl Dziamura</span>  <a class="message-link" href="/#narrow/channel/304641-ideas/topic/custom.20types/near/481023599">#ideas &gt; custom types @ 💬</a>  It was originally the Custom Types proposal... and we subsequently renamed them to "nominal types" because that was what everyone called them anyway</p>



<a name="527611533"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527611533" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527611533">(Jul 08 2025 at 06:20)</a>:</h4>
<p>So I think the only reason is just we are starting simple and only implementing Tag unions to start with...</p>



<a name="527611628"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527611628" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527611628">(Jul 08 2025 at 06:21)</a>:</h4>
<p>There's a huge amount of discussion to recall though, and as I learn more and implement things I keep revisiting these discussions and learning more about them each time.</p>



<a name="527668529"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527668529" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527668529">(Jul 08 2025 at 11:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F/near/527609164">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F/near/527320308">said</a>:</p>
<blockquote>
<p>Are we permitting nominal records? I thought the intent was just Tags for now</p>
</blockquote>
<p>I'd love to know the answer to this... is this valid 0.1 syntax? </p>
<p><div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">}</span>
</code></pre></div><br>
</p>
</blockquote>
<p>we had definitely planned it at some point. I was talking with <span class="user-mention" data-user-id="341568">@Jared Ramirez</span> about implementation challenges but I don't remember where we ended up. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="527668763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527668763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527668763">(Jul 08 2025 at 11:55)</a>:</h4>
<p>Yeah, since I wrote that comment, I (re)discovered the Custom-Types proposal and linked that just above.</p>



<a name="527694766"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527694766" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527694766">(Jul 08 2025 at 13:47)</a>:</h4>
<p>Richard and I discussed how nominal wrappers for all types (beyond just tag unions) and that convo ended with something similar to how opaque types currently work:</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="kr">module</span><span class="w"> </span><span class="nn">X</span><span class="w"> </span><span class="n">exposes</span>
<span class="w">  </span><span class="p">[</span><span class="w"> </span><span class="kt">Color</span><span class="p">(</span><span class="o">..</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">transparent</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">opaque</span>
<span class="w">  </span><span class="p">]</span>

<span class="kt">Color</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">[</span><span class="kt">Red</span><span class="p">,</span><span class="w"> </span><span class="kt">Green</span><span class="p">,</span><span class="w"> </span><span class="kt">Blue</span><span class="p">]</span>
<span class="nf">green</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Color</span><span class="o">.</span><span class="kt">Green</span>

<span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">}</span>
<span class="nf">number</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ImaginaryNumber</span><span class="o">.</span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span>

<span class="kt">Point</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">)</span>
<span class="nf">point</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Point</span><span class="o">.</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span>

<span class="kt">UserId</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="kt">Dec</span>
<span class="nf">userId</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">UserId</span><span class="o">.</span><span class="p">(</span><span class="mi">384618</span><span class="p">)</span>
</code></pre></div>
<p>But then, to pull a value out of the nominal type, you would do:</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="nf">getColor</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Color</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Red</span><span class="p">,</span><span class="w"> </span><span class="kt">Green</span><span class="p">,</span><span class="w"> </span><span class="kt">Blue</span><span class="p">]</span>
<span class="nf">getColor</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="o">|</span><span class="kt">Color</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span><span class="o">|</span><span class="w"> </span><span class="n">inner</span>
</code></pre></div>



<a name="527695502"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527695502" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527695502">(Jul 08 2025 at 13:50)</a>:</h4>
<p>Related to nominal records though, what we can't do is access record fields without unwrapping the type:</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="kt">ImaginaryNumber</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="kt">:</span><span class="w"> </span><span class="kt">F64</span><span class="w"> </span><span class="p">}</span>

<span class="nf">number</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ImaginaryNumber</span><span class="o">.</span><span class="p">{</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">imag</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span>

<span class="nf">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="n">real</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="kt">Can't</span><span class="w"> </span><span class="kr">do</span>

<span class="nf">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">number</span><span class="w">  </span><span class="n">is</span><span class="w"> </span><span class="kt">ImaginaryNumber</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">real</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="kt">Can</span><span class="w"> </span><span class="kr">do</span>
</code></pre></div>
<p>Without introducing something akin to type classes</p>



<a name="527698175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527698175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527698175">(Jul 08 2025 at 14:01)</a>:</h4>
<p>ahh right, that was it</p>



<a name="527698203"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527698203" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527698203">(Jul 08 2025 at 14:01)</a>:</h4>
<p>accessing fields was the problem</p>



<a name="527715633"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527715633" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527715633">(Jul 08 2025 at 15:11)</a>:</h4>
<p>Can we just use nominal type static dispatch to make it work....or at least make it mostly work?</p>



<a name="527715871"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527715871" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527715871">(Jul 08 2025 at 15:12)</a>:</h4>
<p><code>number.real()</code> calls static dispatch to unwrap the type and get the <code>real</code> field.</p>



<a name="527715951"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527715951" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527715951">(Jul 08 2025 at 15:13)</a>:</h4>
<p>Clearly not quite as nice</p>



<a name="527718856"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527718856" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527718856">(Jul 08 2025 at 15:26)</a>:</h4>
<p>Yeah, you could do</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="nf">real</span><span class="w"> </span><span class="ow">=</span><span class="w">  </span><span class="o">|</span><span class="kt">ImaginaryNumber</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span><span class="o">|</span><span class="w"> </span><span class="n">inner</span><span class="o">.</span><span class="n">real</span>

<span class="o">//</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="n">later</span>

<span class="nf">num</span><span class="o">.</span><span class="n">real</span><span class="nb">()</span>
</code></pre></div>



<a name="527719012"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527719012" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527719012">(Jul 08 2025 at 15:27)</a>:</h4>
<p>or even:</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="nf">inner</span><span class="w"> </span><span class="ow">=</span><span class="w">  </span><span class="o">|</span><span class="kt">ImaginaryNumber</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span><span class="o">|</span><span class="w"> </span><span class="n">inner</span>

<span class="o">//</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="n">later</span>

<span class="nf">num</span><span class="o">.</span><span class="n">inner</span><span class="nb">()</span><span class="o">.</span><span class="n">real</span>
</code></pre></div>



<a name="527719098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527719098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527719098">(Jul 08 2025 at 15:27)</a>:</h4>
<p>Depends on how much you want to expose of the type's internals i guess</p>



<a name="527719655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527719655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527719655">(Jul 08 2025 at 15:30)</a>:</h4>
<p>I guess we just need an <code>@property</code> decorator... <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="527723752"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527723752" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527723752">(Jul 08 2025 at 15:51)</a>:</h4>
<p>We need a pitchfork emoji</p>



<a name="527974467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527974467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527974467">(Jul 09 2025 at 22:19)</a>:</h4>
<p>How should this work with imported transparent nominal types?</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="c1">// styles/Color.roc</span>
<span class="nx">module</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">Color</span><span class="p">(</span><span class="nx">RGB</span><span class="p">,</span><span class="w"> </span><span class="nx">RGBA</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span>
<span class="p">]</span>

<span class="nx">Color</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">RGB</span><span class="p">(</span><span class="nx">U8</span><span class="p">,</span><span class="w"> </span><span class="nx">U8</span><span class="p">,</span><span class="w"> </span><span class="nx">U8</span><span class="p">),</span>
<span class="w">    </span><span class="nx">RGBA</span><span class="p">(</span><span class="nx">U8</span><span class="p">,</span><span class="w"> </span><span class="nx">U8</span><span class="p">,</span><span class="w"> </span><span class="nx">U8</span><span class="p">,</span><span class="w"> </span><span class="nx">Dec</span><span class="p">),</span>
<span class="w">    </span><span class="nx">Named</span><span class="p">(</span><span class="nx">Str</span><span class="p">),</span>
<span class="w">    </span><span class="nx">Hex</span><span class="p">(</span><span class="nx">Str</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="c1">// MyModule.roc</span>

<span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="p">.</span><span class="nx">Color</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">CC</span>

<span class="nx">blue1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">CC</span><span class="p">.</span><span class="nx">RGB</span>
<span class="nx">blue1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CC</span><span class="p">.</span><span class="nx">RGB</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">)</span>

<span class="c1">// or</span>

<span class="nx">blue2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">CC</span><span class="p">.</span><span class="nx">RGB</span>
<span class="nx">blue2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CC</span><span class="p">.</span><span class="nx">Color</span><span class="p">.</span><span class="nx">RGB</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">)</span>
</code></pre></div>
<p>Here, can you access the <code>RGB</code> constructor directly with <code>CC.RGB</code>? Or do you have to do <code>CC.Color.RGB</code>?</p>



<a name="527974528"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527974528" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527974528">(Jul 09 2025 at 22:19)</a>:</h4>
<p><code>CC.Color.RGB</code></p>



<a name="527974583"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527974583" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527974583">(Jul 09 2025 at 22:20)</a>:</h4>
<p>but if you did <code>import styles.Color as CC exposing [Color]</code> then <code>Color.RGB</code> should work</p>



<a name="527974596"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527974596" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527974596">(Jul 09 2025 at 22:20)</a>:</h4>
<p>so it's about the type being in scope vs not</p>



<a name="527993728"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/nominal%20type%20declaration%20statements%20-%20how%20to%20represent%3F/near/527993728" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F.html#527993728">(Jul 10 2025 at 03:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/395097-compiler-development/topic/nominal.20type.20declaration.20statements.20-.20how.20to.20represent.3F/near/527723752">said</a>:</p>
<blockquote>
<p>We need a pitchfork emoji</p>
</blockquote>
<p>I got you a few options:</p>
<p><img alt=":pitchfork:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/44ce787c.png" title="pitchfork"><br>
<img alt=":what:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/e38f0b11.gif" title="what"> <br>
<img alt=":dead:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/9e50e0d1.png" title="dead"> </p>
<p>And we still have:<br>
<img alt=":thinkies:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/9055c9eb.png" title="thinkies"> <br>
<img alt=":facepalm:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/e3a10b56.png" title="facepalm"> <br>
<img alt=":rip-intense:" class="emoji" src="https://avatars.zulip.com/22008/emoji/images/06f26bfa.png" title="rip-intense"></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>optimizing parser combinators · compiler development · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/index.html">compiler development</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html">optimizing parser combinators</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="407112988"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407112988" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407112988">(Dec 10 2023 at 22:17)</a>:</h4>
<p>I wonder to what extent we can optimize parser combinators long-term - given enough inlining of closures, for example, could we theoretically get them to be approximately as fast as a parser written without any closures at all?</p>



<a name="407113064"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407113064" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407113064">(Dec 10 2023 at 22:19)</a>:</h4>
<p>this is not so much about the performance ceiling of Roc itself but rather whether we could get to a world where people can use parser combinators without having to think "I am sacrificing performance for code that's easier to work with"</p>



<a name="407113075"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407113075" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407113075">(Dec 10 2023 at 22:19)</a>:</h4>
<p><a href="https://www.sciencedirect.com/science/article/pii/S0167642317302654">https://www.sciencedirect.com/science/article/pii/S0167642317302654</a> seems potentially relevant</p>



<a name="407113416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407113416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407113416">(Dec 10 2023 at 22:25)</a>:</h4>
<p>I definitely would need to dive into the internals to understand what it would generate if we inline everything. Cause it may be a case where there is a lot of work that llvm won't be able to optimize away due to memory interactions.</p>



<a name="407113650"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407113650" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407113650">(Dec 10 2023 at 22:28)</a>:</h4>
<p>I'm assuming we're doing our own inlining of closures, which is something I think we'll definitely want to do in the future</p>



<a name="407113912"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/395097-compiler%20development/topic/optimizing%20parser%20combinators/near/407113912" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/395097-compiler-development/topic/optimizing.20parser.20combinators.html#407113912">(Dec 10 2023 at 22:33)</a>:</h4>
<p>yeah, but still some important questions on what is actually generated and how deep the nesting is. Cause we have to be careful not to inline too much cause it might apply in the wrong places.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
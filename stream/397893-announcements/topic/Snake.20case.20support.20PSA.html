<html>
<head><meta charset="utf-8"><title>Snake case support PSA · announcements · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/index.html">announcements</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html">Snake case support PSA</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="489334260"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489334260" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489334260">(Dec 16 2024 at 20:21)</a>:</h4>
<p>You may not have heard, but if you are using latest, and you eager to move your projects to using snake_case identifiers - you can run </p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>roc<span class="w"> </span>format<span class="w"> </span>--migrate
</code></pre></div>
<p>And the Roc formatter will make that change for you!  Use it today and give feedback</p>
<p><strong>I feel like it’s important to note that this DOES NOT know if something is a built in or a platform/package provided member - so if you are not creating a dependency free (or lite) package using a version of the compiler with snake_cased builtins (which doesn’t exist yet) - use this with caution. Luckily the ROC compiler has your back with the resulting errors</strong></p>



<a name="489335512"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489335512" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489335512">(Dec 16 2024 at 20:28)</a>:</h4>
<p>Thank you! Do you want feedback here?</p>



<a name="489336400"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489336400" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489336400">(Dec 16 2024 at 20:32)</a>:</h4>
<p>Sure!</p>



<a name="489336437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489336437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489336437">(Dec 16 2024 at 20:33)</a>:</h4>
<p>I can always move to bugs if needed</p>



<a name="489336662"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489336662" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489336662">(Dec 16 2024 at 20:34)</a>:</h4>
<p><a href="/user_uploads/22008/spBsNtSOfHi58NeJZFDKPSBU/Screenshot_20241216_133249.png">Screenshot_20241216_133249.png</a><br>
I ran it on basic-cli@main, and it seems to ignore <code>module [ ... ]</code> and <code>exposes [ ... ]</code> references.</p>
<div class="message_inline_image"><a href="/user_uploads/22008/spBsNtSOfHi58NeJZFDKPSBU/Screenshot_20241216_133249.png" title="Screenshot_20241216_133249.png"><img data-original-dimensions="1920x1200" src="/user_uploads/thumbnail/22008/spBsNtSOfHi58NeJZFDKPSBU/Screenshot_20241216_133249.png/840x560.webp"></a></div>



<a name="489337881"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489337881" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489337881">(Dec 16 2024 at 20:39)</a>:</h4>
<p>That’s Definitely a bug</p>



<a name="489338090"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489338090" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489338090">(Dec 16 2024 at 20:40)</a>:</h4>
<p>Easy fix. I’ll do that after work</p>



<a name="489340207"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489340207" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489340207">(Dec 16 2024 at 20:51)</a>:</h4>
<p>I've just ran it across my Roc platform code. I ran into the same cases that Jan did, but it also missed some other <span aria-label="camel" class="emoji emoji-1f42b" role="img" title="camel">:camel:</span> where I don't immediately see the pattern. There's examples of function definitions, function calls, string interpolations, and a couple more.</p>
<p>This is the roc code I ran the migration on. Easiest way to spot the problems after is to run <code>roc check platform/main.roc</code>. Note the commit, because I'm doing some manual fixes. Nice that the migration already did a lot of the work!<br>
<a href="https://github.com/jwoudenberg/jay/tree/14e8bbeb62cbbbbdedc46e7a9e7b13d50ff02aa0/platform">https://github.com/jwoudenberg/jay/tree/14e8bbeb62cbbbbdedc46e7a9e7b13d50ff02aa0/platform</a></p>



<a name="489340701"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489340701" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489340701">(Dec 16 2024 at 20:54)</a>:</h4>
<p>I will inspect and figure out the ast nodes I missed</p>



<a name="489343531"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489343531" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489343531">(Dec 16 2024 at 21:09)</a>:</h4>
<p>I just ran this on <a href="https://github.com/smores56/weaver">Weaver</a> and also saw a good number of nodes that weren't updated. Let me know if you want me to enumerate/make a GH issue or something</p>



<a name="489344088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489344088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489344088">(Dec 16 2024 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="461444">Sam Mohr</span> <a href="#narrow/stream/397893-announcements/topic/Snake.20case.20support.20PSA/near/489343531">said</a>:</p>
<blockquote>
<p>I just ran this on <a href="https://github.com/smores56/weaver">Weaver</a> and also saw a good number of nodes that weren't updated. Let me know if you want me to enumerate/make a GH issue or something</p>
</blockquote>
<p>Can you post the bad output to a branch and share a link?</p>



<a name="489345050"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489345050" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489345050">(Dec 16 2024 at 21:18)</a>:</h4>
<p><a href="https://github.com/smores56/weaver/tree/incomplete-snake-case-conversion">https://github.com/smores56/weaver/tree/incomplete-snake-case-conversion</a></p>



<a name="489352672"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489352672" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489352672">(Dec 16 2024 at 22:03)</a>:</h4>
<p>Thanks Sam!</p>



<a name="489376029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489376029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489376029">(Dec 17 2024 at 00:39)</a>:</h4>
<p>This branch should fix 99% of the above. </p>
<p><a href="https://github.com/gamebox/roc/tree/fix-snake-case-formatting">https://github.com/gamebox/roc/tree/fix-snake-case-formatting</a></p>
<p>The only thing is does NOT try to differentiate between builtins and application members.</p>



<a name="489376065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/489376065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#489376065">(Dec 17 2024 at 00:39)</a>:</h4>
<p>So this code will not be mergable _as is_ until the builtins and platform is updated as well</p>



<a name="490273357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490273357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490273357">(Dec 21 2024 at 06:41)</a>:</h4>
<p>Looks like type args don't get consistently snake_cased:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kn">module</span><span class="w"> </span><span class="err">[</span><span class="nc">truncate</span><span class="p">,</span><span class="w"> </span><span class="kt">CustomList</span><span class="p">]</span>

<span class="kt">CustomList</span><span class="w"> </span><span class="nv">my_item</span><span class="w"> </span><span class="nf">:=</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nv">myItem</span>

<span class="nv">truncate</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nv">myItem</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="kt">List</span><span class="w"> </span><span class="nf">*</span>
<span class="nv">truncate</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">\</span><span class="nv">_my_items</span><span class="w"> </span><span class="nf">-&gt;</span><span class="w"> </span><span class="p">[]</span>
</code></pre></div>



<a name="490273416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490273416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490273416">(Dec 21 2024 at 06:42)</a>:</h4>
<p>Pretty much everything else in Weaver got handled, though!</p>



<a name="490291357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490291357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490291357">(Dec 21 2024 at 11:39)</a>:</h4>
<p>I’ll get to that. Feel free to create an issue and assign it to me</p>



<a name="490306125"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490306125" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490306125">(Dec 21 2024 at 15:13)</a>:</h4>
<p>I created the issue <span class="user-mention" data-user-id="461444">@Sam Mohr</span> ;-)</p>



<a name="490337240"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490337240" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490337240">(Dec 21 2024 at 22:54)</a>:</h4>
<p>This issue has ended up being weirder than I expected.  The same exact string _seems_ to be going into the same function, but sometimes it doesn't come out formatted? </p>
<p>This has required me to add snapshot tests for the formatted (with migrate on) snapshots</p>



<a name="490337465"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490337465" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490337465">(Dec 21 2024 at 22:58)</a>:</h4>
<p>I wrote a unit test for it and of course it passes</p>



<a name="490337783"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490337783" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490337783">(Dec 21 2024 at 23:02)</a>:</h4>
<p>What in the actual hell...</p>



<a name="490337789"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490337789" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490337789">(Dec 21 2024 at 23:02)</a>:</h4>
<p>I'll have to look again tonight or tomorrow.</p>



<a name="490338614"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490338614" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490338614">(Dec 21 2024 at 23:16)</a>:</h4>
<p>This is all in compiler code</p>



<a name="490338781"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490338781" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490338781">(Dec 21 2024 at 23:18)</a>:</h4>
<p>kk, nvm I was looking at the CI failures on your other PR</p>



<a name="490345065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/397893-announcements/topic/Snake%20case%20support%20PSA/near/490345065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/397893-announcements/topic/Snake.20case.20support.20PSA.html#490345065">(Dec 22 2024 at 01:00)</a>:</h4>
<p>Oh, did I hit a flake?</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
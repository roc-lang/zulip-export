<html>
<head><meta charset="utf-8"><title>should we have Task.attempt in addition to Task.onErr? · API design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/index.html">API design</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html">should we have Task.attempt in addition to Task.onErr?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="410897463"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/should%20we%20have%20Task.attempt%20in%20addition%20to%20Task.onErr%3F/near/410897463" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html#410897463">(Jan 02 2024 at 19:53)</a>:</h4>
<p>I've been noticing that it basically always seems nicer to use <code>Task.onErr</code> to handle errors than <code>Task.attempt</code> - any reason we should keep both, given you can always build your own <code>Task.attempt</code>in userspace with <code>|&gt; Task.map Ok |&gt; Task.onErr Err |&gt; Task.await</code>?</p>



<a name="410898638"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/should%20we%20have%20Task.attempt%20in%20addition%20to%20Task.onErr%3F/near/410898638" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html#410898638">(Jan 02 2024 at 20:02)</a>:</h4>
<p>I think having both await and attempt is a bit confusing so I’m in favor of removing attempt</p>



<a name="410902870"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/should%20we%20have%20Task.attempt%20in%20addition%20to%20Task.onErr%3F/near/410902870" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html#410902870">(Jan 02 2024 at 20:40)</a>:</h4>
<p>I find I prefer Task.attempt sometimes, I use it frequently. On my mobile rn but I can dig out some examples of where I like to use it.</p>



<a name="410977643"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/should%20we%20have%20Task.attempt%20in%20addition%20to%20Task.onErr%3F/near/410977643" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html#410977643">(Jan 03 2024 at 08:52)</a>:</h4>
<p>The examples repo has <a href="https://github.com/search?q=repo%3Aroc-lang%2Fexamples%20attempt&amp;type=code">three examples</a> that use attempt. Rewriting those to use onErr and seeing how that looks seems like a good idea. <code>onErr</code> seems much easier to understand and remember so it would be nice to cut <code>attempt</code>.</p>



<a name="411036485"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/should%20we%20have%20Task.attempt%20in%20addition%20to%20Task.onErr%3F/near/411036485" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/should.20we.20have.20Task.2Eattempt.20in.20addition.20to.20Task.2EonErr.3F.html#411036485">(Jan 03 2024 at 15:51)</a>:</h4>
<p>Attempt enables you to use a task as a result. I think it is better unless you strictly are able to merge and pipeline all errors (or if you just need a result for something). So I find it useful.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
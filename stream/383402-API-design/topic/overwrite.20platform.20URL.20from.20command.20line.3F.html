<html>
<head><meta charset="utf-8"><title>overwrite platform URL from command line? · API design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/index.html">API design</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html">overwrite platform URL from command line?</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="492396868"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492396868" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492396868">(Jan 07 2025 at 22:12)</a>:</h4>
<p>I've realized that being able to overwrite the platform URL from the command line would be a nice quality-of-life improvement for platform development.</p>
<p>I've an example in my Roc platform, and I'd like to build/run it against different platforms:</p>
<ul>
<li>In code, comitted, ideally the URL refers to the latest released version of the platform, so anyone trying to learn can copy/paste the example and try it out themselves.</li>
<li>While developing I'd like the platform to be a relative path to wherever my build system puts the compiled platform bundle (for my Zig platform I've picked <code>zig-out/platform</code>).</li>
<li>In CI, during a release, I'd love to run the example against the compiled <code>&lt;hash&gt;.tar.br</code> bundle, as a smoke-test.</li>
</ul>
<p>Quite possible I'm missing a security (or other) angle though!</p>



<a name="492479713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492479713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492479713">(Jan 08 2025 at 10:56)</a>:</h4>
<blockquote>
<p>In CI, during a release, I'd love to run the example against the compiled <code>&lt;hash&gt;.tar.br</code> bundle, as a smoke-test.</p>
</blockquote>
<p>Yeah, I'd like this too, being able to use <a href="http://tar.br">tar.br</a> with a path, not only in a URL.<br>
<span class="user-mention" data-user-id="281383">@Richard Feldman</span> probably has the best understanding of the security implications</p>



<a name="492496498"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492496498" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492496498">(Jan 08 2025 at 12:44)</a>:</h4>
<p>I think it's fine if it's a cli flag!</p>



<a name="492496769"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492496769" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492496769">(Jan 08 2025 at 12:45)</a>:</h4>
<p>I'd suggest allowing substitutions, e.g. "any time you encounter a package with this path or URL, replace it with this other path or URL"</p>



<a name="492496817"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492496817" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492496817">(Jan 08 2025 at 12:45)</a>:</h4>
<p>this way you can also use it to test out a bugfix of an indirect dependency</p>



<a name="492848229"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492848229" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492848229">(Jan 10 2025 at 00:35)</a>:</h4>
<p><span class="user-mention" data-user-id="477725">@Jasper Woudenberg</span> can you make a tracking issue for this please?</p>



<a name="492891179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492891179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492891179">(Jan 10 2025 at 07:24)</a>:</h4>
<p>Sure thing, here it is: <a href="https://github.com/roc-lang/roc/issues/7494">https://github.com/roc-lang/roc/issues/7494</a></p>



<a name="492978949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/overwrite%20platform%20URL%20from%20command%20line%3F/near/492978949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/overwrite.20platform.20URL.20from.20command.20line.3F.html#492978949">(Jan 10 2025 at 16:00)</a>:</h4>
<blockquote>
<p>overwrite the platform URL from the command line</p>
</blockquote>
<p>This may be the first modification of the ingested Roc file, I wonder if that will create problems <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
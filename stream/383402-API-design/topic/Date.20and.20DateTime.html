<html>
<head><meta charset="utf-8"><title>Date and DateTime · API design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/index.html">API design</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html">Date and DateTime</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="491697068"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697068" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697068">(Jan 03 2025 at 03:00)</a>:</h4>
<p>On the topic of time (<a class="stream-topic" data-stream-id="383402" href="/#narrow/channel/383402-API-design/topic/Datatype.20for.20representing.20epochs">#API design &gt; Datatype for representing epochs</a>), in addition to Instants/Timestamps, we should have types for dates (yyyy-MM-dd) and date times (yyyy-MM-dd hh:mm:ss).</p>
<p>I propose these be named <code>Date</code> and <code>DateTime</code>.</p>
<p>Other possibilities for naming them are <code>PlainDate</code> and <code>PlainDateTime</code>,  or <code>LocalDate</code> and <code>LocalDateTime</code> to communicate that they don't store timezone information, but I don't think these names are helpful enough to justify the longer and less natural names.</p>



<a name="491697186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697186">(Jan 03 2025 at 03:00)</a>:</h4>
<p>Is this for the standard library or for an external library?</p>



<a name="491697321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697321">(Jan 03 2025 at 03:02)</a>:</h4>
<p>I think they should be in the standard library given how frequently they are used. That way there can be standard conversion functions between all of the different date types.</p>



<a name="491697449"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697449" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697449">(Jan 03 2025 at 03:04)</a>:</h4>
<p>I agree that having them in std is a noble goal, but this is one of the first modules that would require us to really consider the philosophy of our standard library</p>



<a name="491697472"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697472" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697472">(Jan 03 2025 at 03:04)</a>:</h4>
<p>That is, should our standard library have stuff that stays in Roc forever?</p>



<a name="491697535"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697535" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697535">(Jan 03 2025 at 03:05)</a>:</h4>
<p>The reason why Rust is reticent to put Regex and datetime and all into <code>std</code> is because the underlying implementations for those and which library is even popular seems to change a good bit, even now over a decade after its first release as a language</p>



<a name="491697598"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697598" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697598">(Jan 03 2025 at 03:06)</a>:</h4>
<p>Though there are plenty of languages like Python that have "all the basics" in their standard library</p>



<a name="491697619"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697619" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697619">(Jan 03 2025 at 03:06)</a>:</h4>
<p>I think the safer start is to make a <code>roc-lang/datetime</code> library and develop everything there</p>



<a name="491697646"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491697646" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491697646">(Jan 03 2025 at 03:07)</a>:</h4>
<p>Once that seems stable, we can consider permanently adding it to Roc</p>



<a name="491698050"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491698050" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491698050">(Jan 03 2025 at 03:12)</a>:</h4>
<p>We already have a few different impls in the wild</p>
<ol>
<li><a href="https://github.com/hasnep/roc-datetimes">https://github.com/hasnep/roc-datetimes</a></li>
<li><a href="https://github.com/imclerran/Roc-IsoDate">https://github.com/imclerran/Roc-IsoDate</a></li>
<li>the DateTime module in basic-webserver</li>
</ol>



<a name="491698467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491698467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sky Rose <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491698467">(Jan 03 2025 at 03:18)</a>:</h4>
<p>Elixir calls this <code>NaiveDateTime</code>, and their <code>DateTime</code> type has time zone info. <a href="https://hexdocs.pm/elixir/1.18.1/NaiveDateTime.html">https://hexdocs.pm/elixir/1.18.1/NaiveDateTime.html</a><br>
I don't like the name "NaiveDateTime" but I do like that it's harder to use than the date time with time zone, which creates a pit of success. You only use NaiveDateTime if you really know that you're working with a fictional abstract concept of time, otherwise you use the one with time zones that represents the real world.</p>



<a name="491698473"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491698473" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491698473">(Jan 03 2025 at 03:18)</a>:</h4>
<p>Good point. We should probably make a combined time library, since we'll want a single, common type for datetime, date, and times</p>



<a name="491698616"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491698616" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491698616">(Jan 03 2025 at 03:20)</a>:</h4>
<blockquote>
<p>I think the safer start is to make a <code>roc-lang/datetime</code> library and develop everything there<br>
Once that seems stable, we can consider permanently adding it to Roc</p>
</blockquote>
<p>Yeah that sounds reasonable. The design space for Date APIs is quite large</p>



<a name="491698887"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491698887" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sky Rose <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491698887">(Jan 03 2025 at 03:24)</a>:</h4>
<p>time zone data also changes a lot, even if the API is stable (similar to Unicode). How to deal with time zone data is gonna be a problem for this library to solve. Even if we want datetimes to eventually be a builtin, the time zone data probably never could be moved to Roc.</p>



<a name="491700233"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491700233" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491700233">(Jan 03 2025 at 03:47)</a>:</h4>
<p>yeah I think the complexity level of dates, especially with time zones involved, is just way higher than <code>Instant</code> and <code>Duration</code>, which are both fairly thin wrappers around integers <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="491726944"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491726944" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491726944">(Jan 03 2025 at 09:07)</a>:</h4>
<p>I was working on bringing my blog into a static-site platform I'm working on last week. I've blog posts in a directory prefixed with the date, as in <code>yyyy-mm-dd-name-of-the-post.md</code>, and needed to:</p>
<ul>
<li>Parse out the date from the path</li>
<li>Sort my posts by date</li>
<li>Render the dates using a custom render function</li>
</ul>
<p>I was loth to pull in a dependency for something so small, so I wrote some hacky <code>Str.splitOn ...</code> code to implement that.</p>
<p>I realized that this particular time-related logic had no dependency on locales or time zone databases. I wondered how many uses are like that. There might be a design where builtins include a <code>Time</code> type that could replace my hacky code, but no functions that require a timezone database, such as conversions between <code>Time</code> and <code>Instant</code>. At that point there might no longer be a need for an external <code>time</code> package, but we would instead have a <code>locale</code> package. Either way, it makes sense to me to test out these ideas in a package first.</p>
<p>I guess the <code>Time</code> type I'm describing here is the same as <code>NaiveDateTime</code> that sky mentioned Elixir has, but I don't think that's necessarily a bad thing. In the API documentation for <code>NaiveDateTime</code> it shows that the type implements all sorts of functions for adding intervals to a <code>NaiveDateTime</code> or getting the duration between two <code>NaiveDateTime</code>s. I'd argue it's those functions that are naive, not the type itself. We could omit those kinds of calculation functions for the Roc <code>Time</code> type, and require application authors to convert <code>Time</code> to <code>Instant</code> (using a timezone) before they can do math with it.</p>



<a name="491764479"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491764479" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sky Rose <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491764479">(Jan 03 2025 at 14:19)</a>:</h4>
<p>That does sound useful to have NaiveDateTime available for stuff like that, but is it possible to make that easy without disincentivizing people from using the real DateTime when they really do need that correctness?</p>



<a name="491765887"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491765887" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491765887">(Jan 03 2025 at 14:32)</a>:</h4>
<p>I think so! If the builtin <code>Time</code>/<code>NaiveDateTime</code> type does not provide any operations that would return ambiguous results that would make it a quite a limited API. For any function that needs a timezone for an unambiguous result you'd need to make us types/functions that track timezones provided by external packages.</p>



<a name="491771012"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491771012" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491771012">(Jan 03 2025 at 15:12)</a>:</h4>
<p>that's interesting - one way to split things up could be to have a <code>Date</code> module that literally just stores month/day/year and offers an API for translating to/from strings with various formats</p>



<a name="491771033"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491771033" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491771033">(Jan 03 2025 at 15:12)</a>:</h4>
<p>or like <code>Date</code> and <code>DateFormat</code> maybe</p>



<a name="491771057"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491771057" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491771057">(Jan 03 2025 at 15:12)</a>:</h4>
<p>and it is just completely not concerned with time zones even a little bit</p>



<a name="491771191"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491771191" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491771191">(Jan 03 2025 at 15:13)</a>:</h4>
<p>and as soon as you want to do anything with time zones, UTC, etc., including converting a <code>Date</code> to an <code>Instant</code>, there's a third-party package for that</p>



<a name="491771723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491771723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sky Rose <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491771723">(Jan 03 2025 at 15:17)</a>:</h4>
<p>What about supporting different calendars (Julian vs Gregorian, Hebrew calendar, Japanese years)? What about places that skipped a date (switching from Julian to Gregorian calendars skipped 11 days, and sometimes countries change which side of the international date line they're on). The builtins probably shouldn't try to do that stuff, so is it okay if the main date library can't do that?</p>



<a name="491774009"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491774009" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491774009">(Jan 03 2025 at 15:36)</a>:</h4>
<p>Makes me wish there was a concept of "builtins that aren't actually builtin", i.e., a set of abstract packages that declare (opaque/nominal) types and functions that work on them - but the language runtime does not implement them at all.  All platforms would be required to implement them (hopefully through shared crates / zig packages).  maybe some way for a platform to opt out?  Not sure...</p>



<a name="491779474"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779474" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779474">(Jan 03 2025 at 16:21)</a>:</h4>
<p>oh I don't think any of these would use anything from the platform</p>



<a name="491779555"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779555" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779555">(Jan 03 2025 at 16:22)</a>:</h4>
<p>the only relevant effects for any of these are "what is the time zone set to on my OS right now?"  and "what is the current system time?"</p>



<a name="491779578"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779578" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779578">(Jan 03 2025 at 16:22)</a>:</h4>
<p>those 2 functions are platform-specific, and then the other 99.9% of the APIs (wherever they live) are just data structures and pure functions</p>



<a name="491779613"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779613" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779613">(Jan 03 2025 at 16:23)</a>:</h4>
<p>and I think it's totally fine for those 2 functions to just live in a different module from the rest of the API</p>



<a name="491779692"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779692" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779692">(Jan 03 2025 at 16:23)</a>:</h4>
<p>like with time I'm thinking:</p>
<ul>
<li><code>Duration</code> and <code>Instant</code> live in their own modules and are all pure functions and data structures (likely should be builtins)</li>
<li>the platform exposes a separate <code>Clock</code> module with <code>Clock.now!()</code> that returns an <code>Instant</code></li>
</ul>



<a name="491779908"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491779908" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491779908">(Jan 03 2025 at 16:25)</a>:</h4>
<p>similarly, I think we can have:</p>
<ul>
<li><code>Request</code> and <code>Response</code> modules that are just data structures for HTTP requests and responses, totally platform-agnostic (could be builtins I suppose if we really wanted to)</li>
<li>platform exposes a <code>Http</code> module with <code>Http.get!()</code>, <code>Http.request!()</code>, etc. that uses the platform-agnostic <code>Request</code> and <code>Response</code> modules</li>
</ul>



<a name="491780272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491780272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491780272">(Jan 03 2025 at 16:28)</a>:</h4>
<p>I do think it's a good idea to keep things that depend on third-party versioning out of builtins, so those can be released independently of language releases</p>



<a name="491780321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491780321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491780321">(Jan 03 2025 at 16:28)</a>:</h4>
<p>for example, new versions of Unicode and HTTP get released periodically</p>



<a name="491780327"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491780327" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491780327">(Jan 03 2025 at 16:28)</a>:</h4>
<p>so those are probably better off as packages</p>



<a name="491780384"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491780384" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491780384">(Jan 03 2025 at 16:29)</a>:</h4>
<p>but there aren't new versions of UTF-8, ASCII, or units of time (milliseconds etc.) getting released periodically, so those all seem safe to include in builtins</p>



<a name="491789502"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789502" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789502">(Jan 03 2025 at 17:46)</a>:</h4>
<p>What’s the motivation for <a href="http://Clock.now">Clock.now</a>! instead of <a href="http://Instant.now">Instant.now</a>! ?</p>



<a name="491789652"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789652" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789652">(Jan 03 2025 at 17:47)</a>:</h4>
<p>the <code>Instant</code> module should be in a platform-agnostic package (or a builtin module) that doesn't know how to do effects</p>



<a name="491789761"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789761" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789761">(Jan 03 2025 at 17:48)</a>:</h4>
<p>I think this is a theme of how we can make nice platform-agnostic APIs without module params</p>



<a name="491789840"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789840" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789840">(Jan 03 2025 at 17:49)</a>:</h4>
<p>e.g. <code>Path</code>, <code>Instant</code>, <code>Duration</code>, <code>Request</code>, and <code>Response</code> are all just data structures and pure functions, and none of them know how to do any effects at all, and are all completely platform-agnostic</p>



<a name="491789879"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789879" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789879">(Jan 03 2025 at 17:49)</a>:</h4>
<p>and then <code>File</code>, <code>Clock</code>, and <code>Http</code> are platform-specific and do the actual effects, but work with those platform-agnostic data structure modules</p>



<a name="491789905"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491789905" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491789905">(Jan 03 2025 at 17:49)</a>:</h4>
<p>Oh oops, I thought you had said Clock would be a built in module not platform supplied</p>



<a name="491790043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491790043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491790043">(Jan 03 2025 at 17:50)</a>:</h4>
<p>and then you have things which need actual effects, like <code>Bugsnag</code>, <code>Logger</code>, and <code>Pg</code>, which depend directly the platform-agnostic data structure modules, and then have initialization functions which say "pass me me an effectful function that does the effects I need, and I'll store it and use it whenever I need to do an effect" - which is still platform-agnostic, and accomplishes the sandboxing, capabilities, etc.</p>



<a name="491791096"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/491791096" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Vounckx <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#491791096">(Jan 03 2025 at 17:59)</a>:</h4>
<p>I really like this separation! Gleam does something similar where all HTTP types are in the gleam/http package. And then both client and server packages can just use that one package, while third party packages can target any of the clients/servers. This seems to have the same benefits! Love it</p>



<a name="492223740"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/492223740" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#492223740">(Jan 07 2025 at 01:46)</a>:</h4>
<p>I like the idea of having <code>Date</code> and <code>DateTime</code> types in the builtins so that packages can agree, and then leaving the gritty parts to external packages. I think that gets a good portion of the benefit of having dates and datetimes in the builtins without the downsides</p>



<a name="492225158"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/492225158" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#492225158">(Jan 07 2025 at 01:59)</a>:</h4>
<blockquote>
<p>I'd argue it's those functions that are naive, not the type itself.</p>
</blockquote>
<p>Completely agree</p>



<a name="565631917"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/565631917" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias Steckenborn <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#565631917">(Dec 29 2025 at 08:36)</a>:</h4>
<p>Memo (or for something like duration if duration is not absolute but can be positive or negative) it could be helpful to have something in the direction of this package as well <a href="https://github.com/mergestat/timediff">https://github.com/mergestat/timediff</a> (human readable time span / difference)</p>



<a name="565635781"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/383402-API%20design/topic/Date%20and%20DateTime/near/565635781" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/383402-API-design/topic/Date.20and.20DateTime.html#565635781">(Dec 29 2025 at 09:05)</a>:</h4>
<p><span class="user-mention" data-user-id="508951">@Hannes</span> and <span class="user-mention" data-user-id="518883">@Ian McLerran</span> had a package that handled Dates if I remember</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
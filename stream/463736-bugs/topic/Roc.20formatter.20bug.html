<html>
<head><meta charset="utf-8"><title>Roc formatter bug · bugs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/index.html">bugs</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html">Roc formatter bug</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="486269616"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/486269616" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Barth <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#486269616">(Dec 05 2024 at 10:20)</a>:</h4>
<p>I opened issue <a href="https://github.com/roc-lang/roc/issues/7308">7308</a> for an edge case where <code>roc format</code> will remove parens around an alias and cause the program to become invalid.</p>



<a name="488001040"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/488001040" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#488001040">(Dec 11 2024 at 02:20)</a>:</h4>
<p>Thanks for the report!</p>



<a name="488001060"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/488001060" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#488001060">(Dec 11 2024 at 02:21)</a>:</h4>
<p>Sorry for taking so long to get to it - but should be fixed here: <a href="https://github.com/roc-lang/roc/pull/7329">https://github.com/roc-lang/roc/pull/7329</a></p>



<a name="488001370"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/488001370" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#488001370">(Dec 11 2024 at 02:24)</a>:</h4>
<p>This has me thinking - I wonder if it'd be useful to bundle the minimizer into the roc binary, and auto-minimize failures like this, right along side the compiler <code>internal_error!</code> output?</p>
<p>This one: <a href="https://github.com/roc-lang/roc/blob/main/crates/compiler/test_syntax/src/minimize.rs">https://github.com/roc-lang/roc/blob/main/crates/compiler/test_syntax/src/minimize.rs</a></p>



<a name="488001416"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/488001416" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#488001416">(Dec 11 2024 at 02:25)</a>:</h4>
<p>Or maybe you have to run with <code>--minimize-failure</code> or something like that</p>



<a name="488001529"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Roc%20formatter%20bug/near/488001529" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Roc.20formatter.20bug.html#488001529">(Dec 11 2024 at 02:26)</a>:</h4>
<p>Probably not an issue for folks reporting bugs with AOC-like (or generally, open-source) repro's, but if/when there are significant proprietary code bases, it could be really useful to easily have a repro that doesn't include unnecessary proprietary details.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>✔ Type-related crash with Str.to_utf8 · bugs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/index.html">bugs</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html">✔ Type-related crash with Str.to_utf8</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="562238598"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562238598" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthieu Pizenberg <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562238598">(Dec 06 2025 at 12:16)</a>:</h4>
<p>This is a regression from the range PR, if that can help locate what may be the issue.</p>



<a name="562238861"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562238861" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562238861">(Dec 06 2025 at 12:21)</a>:</h4>
<p>I'll take a look!</p>



<a name="562239651"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562239651" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabian Schmalzried <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562239651">(Dec 06 2025 at 12:37)</a>:</h4>
<p>I also saw this <code>InvalidMethodReceiver</code> and I think it is connected to static dispatch. When I replaced all static dispatch to normal function calls, the error went away.</p>



<a name="562241286"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562241286" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562241286">(Dec 06 2025 at 13:10)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/pull/8578">https://github.com/roc-lang/roc/pull/8578</a> should fix this one</p>



<a name="562246182"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562246182" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562246182">(Dec 06 2025 at 14:47)</a>:</h4>
<p>btw thank you <span class="user-mention" data-user-id="479073">@Matthieu Pizenberg</span> and <span class="user-mention" data-user-id="559412">@Fabian Schmalzried</span> for all the bug reports - they are extremely helpful! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="562246234"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/%E2%9C%94%20Type-related%20crash%20with%20Str.to_utf8/near/562246234" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/.E2.9C.94.20Type-related.20crash.20with.20Str.2Eto_utf8.html#562246234">(Dec 06 2025 at 14:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
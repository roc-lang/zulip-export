<html>
<head><meta charset="utf-8"><title>Num.atan gives inconsistent values · bugs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/index.html">bugs</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html">Num.atan gives inconsistent values</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="574378070"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574378070" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guillaume Sarisson <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574378070">(Feb 17 2026 at 20:18)</a>:</h4>
<p>Hi there! It looks like the <code>Num.atan</code> function always returns the same two values in the REPL. Has anyone encountered this behavior before ? It looks something like this :</p>
<div class="codehilite"><pre><span></span><code>&gt;&gt; Num.atan(1/1)
0 : Frac *
&gt;&gt; Num.atan(1)
2550673372347179.51480058619310904 : Frac *
</code></pre></div>



<a name="574379134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574379134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574379134">(Feb 17 2026 at 20:26)</a>:</h4>
<p>Can you clarify which Roc version you have? -- I assume this is from one of the nightlies</p>



<a name="574379491"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574379491" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574379491">(Feb 17 2026 at 20:29)</a>:</h4>
<p>I haven't seen this before... though tbh I haven't looked at the Rust version of the compiler in about a year now <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="574379944"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574379944" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guillaume Sarisson <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574379944">(Feb 17 2026 at 20:33)</a>:</h4>
<p><code>roc --version</code> gives me <code>roc nightly pre-release, built from commit d73ea109 on Tue 09 Sep 2025 09:02:08 AM UTC</code></p>



<a name="574382027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574382027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574382027">(Feb 17 2026 at 20:47)</a>:</h4>
<p>Is this blocking you in particular.. or more of an observation?</p>



<a name="574382134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574382134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574382134">(Feb 17 2026 at 20:48)</a>:</h4>
<p>We haven't been spending much time supporting the old compiler, unless it's blocking someone who is actively using Roc</p>



<a name="574383065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574383065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guillaume Sarisson <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574383065">(Feb 17 2026 at 20:55)</a>:</h4>
<p>It’s not really blocking me but I’m working on a simple scientific library in pure roc and the atan function appears quiet often in some area. I can just work on some other part of the library or update my compiler if needed.</p>



<a name="574397995"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Num.atan%20gives%20inconsistent%20values/near/574397995" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Num.2Eatan.20gives.20inconsistent.20values.html#574397995">(Feb 17 2026 at 22:34)</a>:</h4>
<p>Should be fixed in <a href="https://github.com/roc-lang/roc/pull/9186">https://github.com/roc-lang/roc/pull/9186</a></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
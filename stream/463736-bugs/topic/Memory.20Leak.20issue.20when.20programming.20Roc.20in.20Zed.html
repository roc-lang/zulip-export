<html>
<head><meta charset="utf-8"><title>Memory Leak issue when programming Roc in Zed · bugs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/index.html">bugs</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html">Memory Leak issue when programming Roc in Zed</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="488000566"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488000566" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scally <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488000566">(Dec 11 2024 at 02:15)</a>:</h4>
<p>Not sure what a god place for this is, probably an issue with Zed or the Roc extension for Zed, but I'm just initially trying to find out if anyone here has had similar experiences.<br>
When I do Roc programming in Zed for a while my PC continuously runs out of memory (RAM) - in a magnitude of ~9-12 GB<br>
When I restart the language server I get back ~3 GB, when I close the entire editor I get back the full 9-12 GB.</p>
<p>Has anyone else observed similar behavior?</p>



<a name="488005510"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488005510" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488005510">(Dec 11 2024 at 03:12)</a>:</h4>
<p>I had mine on Mac get to 68GB!</p>



<a name="488005594"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488005594" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488005594">(Dec 11 2024 at 03:13)</a>:</h4>
<p>But my program also has an infinite loop when running</p>



<a name="488005601"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488005601" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488005601">(Dec 11 2024 at 03:13)</a>:</h4>
<p>Had</p>



<a name="488005676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488005676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488005676">(Dec 11 2024 at 03:14)</a>:</h4>
<p>From some weird ir issue</p>



<a name="488014181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488014181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488014181">(Dec 11 2024 at 04:40)</a>:</h4>
<p>you have 68GB of ram + compressed ram on a mac...wow</p>



<a name="488087572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488087572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488087572">(Dec 11 2024 at 12:36)</a>:</h4>
<p>Yeah 32GB of physical memory.  I don't really understand macOS memory model and how i technically had something like 225% memory usage.</p>



<a name="488145596"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488145596" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488145596">(Dec 11 2024 at 17:02)</a>:</h4>
<p>That's not hard. With compress you can generally get up to around 2 to 3x memory</p>



<a name="488145793"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488145793" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488145793">(Dec 11 2024 at 17:03)</a>:</h4>
<p>So maybe 10GB was uncompressed and 22GB was compress at ~3x to get ~72GB of ram (or in this case 68GB)</p>



<a name="488150086"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488150086" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488150086">(Dec 11 2024 at 17:27)</a>:</h4>
<p>also swapfiles right?</p>



<a name="488154430"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488154430" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488154430">(Dec 11 2024 at 17:50)</a>:</h4>
<p>I don't think Mac does swap files (by default)</p>



<a name="488154815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488154815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488154815">(Dec 11 2024 at 17:53)</a>:</h4>
<p>I stand correct, looks like it has a dynamic pager now.</p>



<a name="488154852"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/Memory%20Leak%20issue%20when%20programming%20Roc%20in%20Zed/near/488154852" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/Memory.20Leak.20issue.20when.20programming.20Roc.20in.20Zed.html#488154852">(Dec 11 2024 at 17:53)</a>:</h4>
<p>Sound like it creates swap files on the fly</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
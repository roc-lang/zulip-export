<html>
<head><meta charset="utf-8"><title>too few args · bugs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/index.html">bugs</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html">too few args</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="494452838"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494452838" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494452838">(Jan 17 2025 at 22:44)</a>:</h4>
<p>I anyone else seeing TOO FEW ARGS reports when using pipes on main:HEAD(latest latest)?</p>



<a name="494452887"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494452887" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494452887">(Jan 17 2025 at 22:45)</a>:</h4>
<p>I have to imagine we have CI tests that run Builtins or some other tests for stuff like that...</p>



<a name="494452974"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494452974" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494452974">(Jan 17 2025 at 22:46)</a>:</h4>
<p>Let's see...</p>



<a name="494453002"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494453002" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494453002">(Jan 17 2025 at 22:46)</a>:</h4>
<p>I'm on:</p>
<div class="codehilite"><pre><span></span><code>❯ roc --version
roc built from commit f3376af9c1, committed at 2025-01-17 15:29:09 UTC
</code></pre></div>



<a name="494453022"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494453022" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494453022">(Jan 17 2025 at 22:46)</a>:</h4>
<p>Any pipes and I get TOO FEW ARGS</p>



<a name="494453711"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494453711" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494453711">(Jan 17 2025 at 22:53)</a>:</h4>
<div class="codehilite"><pre><span></span><code>» x = |y| y + 123


&lt;function&gt; : Num a -&gt; Num a
»

Enter an expression to evaluate, or a definition (like x = 1) to use later.

  - ctrl-v + ctrl-j makes a newline
  - :q quits
  - :help shows this text again

» 123 |&gt; x

246 : Num *
»
</code></pre></div>



<a name="494454805"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494454805" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494454805">(Jan 17 2025 at 23:04)</a>:</h4>
<p>I think it's only multiline pipes</p>



<a name="494454818"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494454818" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494454818">(Jan 17 2025 at 23:04)</a>:</h4>
<p>The repl is busted as well</p>



<a name="494454861"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494454861" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494454861">(Jan 17 2025 at 23:04)</a>:</h4>
<p>Can someone with perms move this to a thread in <a class="stream" data-stream-id="463736" href="/#narrow/channel/463736-bugs">#bugs</a> ?</p>



<a name="494457488"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494457488" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494457488">(Jan 17 2025 at 23:33)</a>:</h4>
<p>9 messages were moved here from <a class="stream-topic" data-stream-id="304641" href="/#narrow/channel/304641-ideas/topic/.02klzzwxh.3A0000.03.20for.20mapping.20Result.20Err.20values">#ideas &gt; <code>?</code> for mapping Result Err values</a> by <span class="user-mention silent" data-user-id="515757">Luke Boswell</span>.</p>



<a name="494458428"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494458428" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494458428">(Jan 17 2025 at 23:43)</a>:</h4>
<p>Thanks Luke!</p>



<a name="494504323"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494504323" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494504323">(Jan 18 2025 at 10:22)</a>:</h4>
<p>Can you share some reproductions <span class="user-mention" data-user-id="781658">@Anthony Bullard</span></p>



<a name="494508869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494508869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494508869">(Jan 18 2025 at 11:22)</a>:</h4>
<p>Sure</p>



<a name="494509528"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494509528" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494509528">(Jan 18 2025 at 11:31)</a>:</h4>
<p>Well...Maybe not...</p>



<a name="494510088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494510088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494510088">(Jan 18 2025 at 11:38)</a>:</h4>
<p>Now I'm pissed off.</p>



<a name="494510316"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494510316" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494510316">(Jan 18 2025 at 11:41)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> Can't reproduce now because why would good things happen, but the REPL still does not allow you to create multiline expressions with <code>ctrl-j</code> or <code>ctrl-v</code></p>



<a name="494514506"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494514506" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494514506">(Jan 18 2025 at 12:29)</a>:</h4>
<p>@Anton Got it</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">module</span><span class="w"> </span><span class="o">[</span><span class="n">run!</span><span class="o">]</span>

<span class="n">import</span><span class="w"> </span><span class="n">pf</span><span class="o">.</span><span class="n">Stdout</span>
<span class="n">import</span><span class="w"> </span><span class="n">pf</span><span class="o">.</span><span class="n">Path</span><span class="w"> </span><span class="n">exposing</span><span class="w"> </span><span class="o">[</span><span class="no">Path</span><span class="o">]</span>

<span class="n">raw_exercises!</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">Path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="no">List</span><span class="w"> </span><span class="no">Path</span>
<span class="n">raw_exercises!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">path</span><span class="o">|</span>
<span class="w">    </span><span class="no">Path</span><span class="o">.</span><span class="n">list_dir!</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="w">    </span><span class="sc">??</span><span class="w"> </span><span class="o">[]</span>

<span class="n">exercise_numbers</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">List</span><span class="w"> </span><span class="no">Path</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">List</span><span class="w"> </span><span class="no">U32</span>
<span class="n">exercise_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">paths</span><span class="o">|</span>
<span class="w">    </span><span class="n">paths</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">keep_if</span><span class="p">(</span><span class="o">|</span><span class="nb">p</span><span class="o">|</span><span class="w"> </span><span class="no">Str</span><span class="o">.</span><span class="n">starts_with</span><span class="p">(</span><span class="no">Path</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="nb">p</span><span class="p">),</span><span class="w"> </span><span class="s2">"exercise_"</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="no">Str</span><span class="o">.</span><span class="n">ends_with</span><span class="p">(</span><span class="no">Path</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="nb">p</span><span class="p">),</span><span class="w"> </span><span class="s2">".roc"</span><span class="p">))</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">keep_oks</span><span class="p">(</span>
<span class="w">        </span><span class="o">|</span><span class="nb">p</span><span class="o">|</span>
<span class="w">            </span><span class="n">p_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Path</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="nb">p</span><span class="p">)</span>
<span class="w">            </span><span class="n">p_parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Str</span><span class="o">.</span><span class="n">split_on</span><span class="p">(</span><span class="n">p_str</span><span class="p">,</span><span class="w"> </span><span class="s2">"_"</span><span class="p">)</span>
<span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="n">p_parts</span><span class="w"> </span><span class="n">is</span>
<span class="w">                </span><span class="o">[</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="o">..]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">Ok</span><span class="p">(</span><span class="no">Str</span><span class="o">.</span><span class="n">to_u32</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="sc">?)</span>
<span class="w">                </span><span class="n">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">Err</span><span class="p">(</span><span class="no">InvalidEx</span><span class="p">),</span>
<span class="w">    </span><span class="p">)</span>

<span class="n">run!</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">Path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="no">Result</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="n">_</span>
<span class="n">run!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">path</span><span class="o">|</span>
<span class="w">    </span><span class="n">ex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">raw_exercises!</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">exercise_numbers</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">sort_asc</span><span class="p">()</span>
<span class="w">    </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">first</span><span class="p">()?</span>
<span class="w">    </span><span class="no">Stdout</span><span class="o">.</span><span class="n">line!</span><span class="p">(</span><span class="s2">"Checking your solutions for exercise ${Num.to_str(num)}..."</span><span class="p">)</span>
</code></pre></div>



<a name="494514623"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494514623" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494514623">(Jan 18 2025 at 12:30)</a>:</h4>
<p>The minimal repro would be</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">module</span><span class="w"> </span><span class="o">[</span><span class="n">something!</span><span class="o">]</span>

<span class="n">import</span><span class="w"> </span><span class="n">pf</span><span class="o">.</span><span class="n">Stdout</span>

<span class="n">something!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span>
<span class="w">    </span><span class="n">ex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s2">"hello"</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">first</span><span class="p">()?</span>
<span class="w">    </span><span class="no">Stdout</span><span class="o">.</span><span class="n">line!</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div>



<a name="494514652"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494514652" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494514652">(Jan 18 2025 at 12:30)</a>:</h4>
<p>So pipe + PNC + try suffix?</p>



<a name="494516670"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494516670" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494516670">(Jan 18 2025 at 12:54)</a>:</h4>
<p>I made <a href="https://github.com/roc-lang/roc/issues/7530">#7530</a> for this.</p>



<a name="494516712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494516712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494516712">(Jan 18 2025 at 12:55)</a>:</h4>
<p>If we look at the desugared version we'll probably be able to make sense of this.</p>



<a name="494516723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494516723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494516723">(Jan 18 2025 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="461444">@Sam Mohr</span> may also have an idea what's going on</p>



<a name="494516854"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494516854" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494516854">(Jan 18 2025 at 12:57)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/blob/1e087b138d18f90daaf60b5eb71ed7afc3498064/crates/compiler/can/src/desugar.rs#L114">https://github.com/roc-lang/roc/blob/1e087b138d18f90daaf60b5eb71ed7afc3498064/crates/compiler/can/src/desugar.rs#L114</a></p>



<a name="494516915"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494516915" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494516915">(Jan 18 2025 at 12:58)</a>:</h4>
<p>The desugaring should be working, but a well placed dbg! might be useful</p>



<a name="494771801"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494771801" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494771801">(Jan 20 2025 at 10:25)</a>:</h4>
<p>I'm going to look at this issue</p>



<a name="494832421"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494832421" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494832421">(Jan 20 2025 at 15:01)</a>:</h4>
<p><a href="/user_uploads/22008/-YE6Ugm2ERMsLWVFLNBabdY0/Screenshot-from-2025-01-20-15-53-17.png">Screenshot from 2025-01-20 15-53-17.png</a><br>
This is the code after desugaring. It's obvious what is going wrong but I'm not sure how things should be changed <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
<div class="message_inline_image"><a href="/user_uploads/22008/-YE6Ugm2ERMsLWVFLNBabdY0/Screenshot-from-2025-01-20-15-53-17.png" title="Screenshot from 2025-01-20 15-53-17.png"><img data-original-content-type="image/png" data-original-dimensions="728x748" src="/user_uploads/thumbnail/22008/-YE6Ugm2ERMsLWVFLNBabdY0/Screenshot-from-2025-01-20-15-53-17.png/840x560.webp"></a></div>



<a name="494835707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494835707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494835707">(Jan 20 2025 at 15:15)</a>:</h4>
<p>Desugar to a Defs then break up the pipe and pass the new def explicitly?</p>



<a name="494893141"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494893141" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494893141">(Jan 20 2025 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="461444">@Sam Mohr</span>, can you weigh in as well here?</p>



<a name="494894315"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494894315" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494894315">(Jan 20 2025 at 18:59)</a>:</h4>
<p>He'll probably wake up in 3 hours <span aria-label="tears" class="emoji emoji-1f602" role="img" title="tears">:tears:</span></p>



<a name="494907875"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494907875" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494907875">(Jan 20 2025 at 20:32)</a>:</h4>
<p>Anthony is on the money IMO</p>



<a name="494907914"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494907914" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494907914">(Jan 20 2025 at 20:33)</a>:</h4>
<p>We shouldn't worry about performance since we are removing pizza from the menu</p>



<a name="494907940"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/494907940" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#494907940">(Jan 20 2025 at 20:33)</a>:</h4>
<p>Once it's gone, we can figure out how to make this work better</p>



<a name="495295234"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495295234" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495295234">(Jan 22 2025 at 14:26)</a>:</h4>
<blockquote>
<p>Desugar to a Defs then break up the pipe and pass the new def explicitly?</p>
</blockquote>
<p>Should I do this for every use of the pizza operator (<a href="https://github.com/roc-lang/roc/blob/a8def1a974a6dacdcd18656e66114880f4e92b59/crates/check/can_solo/src/desugar.rs#L39">here</a> in the code)?</p>



<a name="495299832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495299832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495299832">(Jan 22 2025 at 14:45)</a>:</h4>
<p>That makes sense to me.  Easier to reason about</p>



<a name="495870357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495870357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495870357">(Jan 25 2025 at 13:18)</a>:</h4>
<p>Just to note, this is incorrect code, even if the error message is misleading:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kn">module</span><span class="w"> </span><span class="err">[</span><span class="nc">something</span><span class="p">]</span>

<span class="nv">something</span><span class="w"> </span><span class="nf">=</span><span class="w"> </span><span class="nf">|</span><span class="nv">_</span><span class="nf">|</span>
<span class="w">    </span><span class="p">[</span><span class="s">"hello"</span><span class="p">]</span><span class="w"> </span><span class="nf">|&gt;</span><span class="w"> </span><span class="kt">List</span><span class="nf">.</span><span class="nv">first</span><span class="p">()</span><span class="err">?</span>
</code></pre></div>



<a name="495870383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495870383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495870383">(Jan 25 2025 at 13:18)</a>:</h4>
<p>The ? means we're trying to return <code>Str</code> as the final expression instead of <code>Result Str _</code></p>



<a name="495870406"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495870406" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495870406">(Jan 25 2025 at 13:18)</a>:</h4>
<p>Hopefully, my attempt to fix things will alleviate that anyway</p>



<a name="495872465"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495872465" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495872465">(Jan 25 2025 at 13:46)</a>:</h4>
<p>Fixed in <a href="https://github.com/roc-lang/roc/pull/7548">https://github.com/roc-lang/roc/pull/7548</a></p>



<a name="495872480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495872480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495872480">(Jan 25 2025 at 13:46)</a>:</h4>
<div class="codehilite" data-code-language="roc"><pre><span></span><code>module [something]

something = |_|
    ["hello"] |&gt; List.first()?
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&gt; cargo run --bin roc -- check test2.roc
...

── TYPE MISMATCH in ../test2.roc ───────────────────────────────────────────────

This returns something that&#39;s incompatible with the return type of the
enclosing function:

4│      [&quot;hello&quot;] |&gt; List.first()?
        ^^^^^^^^^^^^^^^^^^^^^^^^^

This returns an Err of type:

    [Err [ListWasEmpty]]

But I expected the function to have return type:

    Str

────────────────────────────────────────────────────────────────────────────────

1 error and 0 warnings found in 121 ms.
</code></pre></div>



<a name="495875199"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875199" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875199">(Jan 25 2025 at 14:24)</a>:</h4>
<blockquote>
<p>incompatible with the return type of the enclosing function</p>
</blockquote>
<p>I don't understand, the type of <code>something</code> is not specified, so how does it know the return type should be a <code>Str</code>?</p>



<a name="495875227"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875227" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875227">(Jan 25 2025 at 14:25)</a>:</h4>
<p>Because it's operating on a List Str</p>



<a name="495875258"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875258" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875258">(Jan 25 2025 at 14:25)</a>:</h4>
<p>And the ? can AST node has special Result type checking I added</p>



<a name="495875472"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875472" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875472">(Jan 25 2025 at 14:28)</a>:</h4>
<p>We could make the error message better when ? is used on the return value of a function, I don't think that's ever valid</p>



<a name="495875480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875480">(Jan 25 2025 at 14:28)</a>:</h4>
<p>But this message is accurate for now</p>



<a name="495875516"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875516" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875516">(Jan 25 2025 at 14:29)</a>:</h4>
<p>So I don't think we should block release on such an error message</p>



<a name="495875519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495875519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495875519">(Jan 25 2025 at 14:29)</a>:</h4>
<p>Assuming we merge this PR</p>



<a name="495876253"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876253" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876253">(Jan 25 2025 at 14:39)</a>:</h4>
<p>In this case the <code>?</code> is not used on the return value:</p>
<div class="codehilite" data-code-language="Scala"><pre><span></span><code><span class="n">app</span><span class="w"> </span><span class="p">[</span><span class="n">main</span><span class="o">!</span><span class="p">]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">pf</span><span class="p">:</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.19.0/bi5zubJ-_Hva9vxxPq4kNx4WHX6oFs8OP&gt;</span>
<span class="s">}</span>

<span class="s">import pf.Stdout</span>

<span class="s">main! = |_args|</span>
<span class="s">    Stdout.line!("</span><span class="err">"</span><span class="p">)</span>

<span class="n">find</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="nc">U64</span><span class="p">,</span><span class="w"> </span><span class="nc">U64</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Result</span><span class="w"> </span><span class="nc">U64</span><span class="w"> </span><span class="p">[</span><span class="nc">ValueWasNotFound</span><span class="w"> </span><span class="p">(</span><span class="nc">List</span><span class="w"> </span><span class="nc">U64</span><span class="p">)</span><span class="w"> </span><span class="nc">U64</span><span class="p">]</span>
<span class="n">find</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">|</span>
<span class="w">    </span><span class="n">binary_search</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="n">min_index</span><span class="p">,</span><span class="w"> </span><span class="n">max_index</span><span class="o">|</span>
<span class="w">        </span><span class="n">middle_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">min_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">max_index</span><span class="p">)</span><span class="w"> </span><span class="c1">// 2</span>
<span class="w">        </span><span class="n">middle_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">List</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">middle_index</span><span class="p">)</span><span class="o">?</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">middle_value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nc">Ok</span><span class="p">(</span><span class="n">middle_index</span><span class="p">)</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">min_index</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">max_index</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nc">Err</span><span class="p">(</span><span class="nc">ValueWasNotFound</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">))</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">middle_value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nc">Ok</span><span class="p">(</span><span class="n">binary_search</span><span class="p">((</span><span class="n">middle_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">max_index</span><span class="p">)</span><span class="o">?</span><span class="p">)</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nc">Ok</span><span class="p">(</span><span class="n">binary_search</span><span class="p">(</span><span class="n">min_index</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">middle_index</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="o">?</span><span class="p">)</span>

<span class="w">    </span><span class="n">binary_search</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="p">.</span><span class="n">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Result</span><span class="p">.</span><span class="n">on_err</span><span class="p">(</span><span class="o">|</span><span class="n">_|</span><span class="w"> </span><span class="nc">Err</span><span class="p">(</span><span class="nc">ValueWasNotFound</span><span class="p">(</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)))</span>

<span class="n">#</span><span class="w"> </span><span class="n">finds</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">element</span>
<span class="n">expect</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Ok</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<p>What's the problem here, is it just operator precedence?</p>



<a name="495876273"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876273" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876273">(Jan 25 2025 at 14:39)</a>:</h4>
<p>I approved the PR</p>



<a name="495876278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876278">(Jan 25 2025 at 14:40)</a>:</h4>
<p>The error is:</p>
<div class="codehilite"><pre><span></span><code>── TOO FEW ARGS in BinarySearch.roc ────────────────────────────────────────────

The get function expects 2 arguments, but it got only 1:

7│          middle_value = array |&gt; List.get(middle_index)?
                                    ^^^^^^^^

Roc does not allow functions to be partially applied. Use a closure to
make partial application explicit.

────────────────────────────────────────────────────────────────────────────────

1 error and 0 warnings found in 30 ms
</code></pre></div>



<a name="495876367"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876367" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876367">(Jan 25 2025 at 14:40)</a>:</h4>
<p>Yes, precendence would be the issue</p>



<a name="495876380"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876380" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876380">(Jan 25 2025 at 14:40)</a>:</h4>
<p>a suffix would bind stronger than a infix</p>



<a name="495876493"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876493" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876493">(Jan 25 2025 at 14:42)</a>:</h4>
<p>Hmm, in the case of </p>
<div class="codehilite"><pre><span></span><code>4│      [&quot;hello&quot;] |&gt; List.first()?
        ^^^^^^^^^^^^^^^^^^^^^^^^^
</code></pre></div>
<p>It looks like <code>|&gt;</code> is binding stronger</p>



<a name="495876806"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876806" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876806">(Jan 25 2025 at 14:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/463736-bugs/topic/too.20few.20args/near/495876278">said</a>:</p>
<blockquote>
<p>The error is:</p>
<p><div class="codehilite"><pre><span></span><code>── TOO FEW ARGS in BinarySearch.roc ────────────────────────────────────────────

The get function expects 2 arguments, but it got only 1:

7│          middle_value = array |&gt; List.get(middle_index)?
                                    ^^^^^^^^

Roc does not allow functions to be partially applied. Use a closure to
make partial application explicit.

────────────────────────────────────────────────────────────────────────────────

1 error and 0 warnings found in 30 ms
</code></pre></div><br>
</p>
</blockquote>
<p>Is this on my PR branch?</p>



<a name="495876821"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876821" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876821">(Jan 25 2025 at 14:47)</a>:</h4>
<p>No</p>



<a name="495876834"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495876834" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495876834">(Jan 25 2025 at 14:47)</a>:</h4>
<p>Okay good</p>



<a name="495877091"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877091" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877091">(Jan 25 2025 at 14:50)</a>:</h4>
<p>The precedence is changed in <a href="https://github.com/roc-lang/roc/pull/7548">PR#7548</a>, it seems like the old precedence made more sense</p>



<a name="495877099"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877099" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877099">(Jan 25 2025 at 14:50)</a>:</h4>
<p>Merged</p>



<a name="495877132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877132">(Jan 25 2025 at 14:51)</a>:</h4>
<p>You're right that the old precedence made more sense</p>



<a name="495877142"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877142" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877142">(Jan 25 2025 at 14:51)</a>:</h4>
<p>The problem IMO is that pizza and PNC don't make sense together</p>



<a name="495877154"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877154" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877154">(Jan 25 2025 at 14:51)</a>:</h4>
<p>But we need to support them both somehow while they coexist in this middle Roc</p>



<a name="495877219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/495877219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#495877219">(Jan 25 2025 at 14:52)</a>:</h4>
<p>So this PR is the only way for a pipeline to make sense IMO</p>



<a name="496154049"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/496154049" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#496154049">(Jan 27 2025 at 15:47)</a>:</h4>
<p>Do we have an issue for this?</p>



<a name="496154438"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/496154438" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#496154438">(Jan 27 2025 at 15:48)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/7530">https://github.com/roc-lang/roc/issues/7530</a></p>



<a name="496154476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/496154476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#496154476">(Jan 27 2025 at 15:49)</a>:</h4>
<p>Already closed since my PR should have fixed it</p>



<a name="496155118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/496155118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McLerran <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#496155118">(Jan 27 2025 at 15:51)</a>:</h4>
<p>Ah, great, thanks Sam. I must need to update.</p>



<a name="496156343"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/463736-bugs/topic/too%20few%20args/near/496156343" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/463736-bugs/topic/too.20few.20args.html#496156343">(Jan 27 2025 at 15:56)</a>:</h4>
<p>Nightly release is very behind right now, you'll need to come from source for that to be available</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
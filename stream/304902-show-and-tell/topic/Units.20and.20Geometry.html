<html>
<head><meta charset="utf-8"><title>Units and Geometry · show and tell · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/index.html">show and tell</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html">Units and Geometry</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="299232223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299232223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299232223">(Sep 16 2022 at 19:57)</a>:</h4>
<p>I've been a huge fan of <span class="user-mention" data-user-id="282726">@Ian Mackenzie</span> 's packages in Elm. I use a bunch of them for a space simulation thing I've been building and they've helped me to not mix numbers with different units (which there are lot of in space). Even more so with making sure things are scaled properly! So I started playing porting them to Roc. Not sure how far I'll get (there's a lot of work) but it's a fun way to learn Roc <a href="/user_uploads/22008/ZPYvx1Iwf8hupOlcyQAsLb01/Screen-Shot-2022-09-16-at-2.56.56-PM.png">Screen-Shot-2022-09-16-at-2.56.56-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/ZPYvx1Iwf8hupOlcyQAsLb01/Screen-Shot-2022-09-16-at-2.56.56-PM.png" title="Screen-Shot-2022-09-16-at-2.56.56-PM.png"><img src="/user_uploads/22008/ZPYvx1Iwf8hupOlcyQAsLb01/Screen-Shot-2022-09-16-at-2.56.56-PM.png"></a></div>



<a name="299232379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299232379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299232379">(Sep 16 2022 at 19:58)</a>:</h4>
<p>Currently taking the Breakout example app and wrapping values</p>



<a name="299245324"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299245324" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299245324">(Sep 16 2022 at 21:40)</a>:</h4>
<p>I love that I can have <code>Bounds</code> and <code>Rect</code> implicitly convert from/to Rust f32 and a wrapped Roc <code>Quantity F32 Pixels</code>. Makes it so the platform gives and takes pixels.</p>



<a name="299252246"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299252246" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299252246">(Sep 16 2022 at 22:49)</a>:</h4>
<p>This is satisfying :)</p>



<a name="299339330"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299339330" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299339330">(Sep 17 2022 at 16:05)</a>:</h4>
<p>Trying to migrate the existing <code>Rect</code> to a shapes like those in <code>elm-geometry</code> and struggling with getting a <code>Point3d</code> to work. Some of it is definitely me trying to write Elm in Roc <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="299339762"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299339762" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299339762">(Sep 17 2022 at 16:09)</a>:</h4>
<p>Trying to figure out how to be able to set a <code>Point3d a units coordinates := { x : a, y : a, z : a }</code> in my Model. Wondering if I need to be more constrained with my <code>a</code> <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="299339897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299339897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299339897">(Sep 17 2022 at 16:10)</a>:</h4>
<p>I mean. You might want <code>Num a</code>, but that shouldn't be an error</p>



<a name="299339906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299339906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299339906">(Sep 17 2022 at 16:11)</a>:</h4>
<p>What error are you getting with that struct?</p>



<a name="299340021"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340021" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340021">(Sep 17 2022 at 16:12)</a>:</h4>
<p>I keep getting <code>thread '&lt;unnamed&gt;' panicked at 'called </code>Result::unwrap()<code> on an </code>Err<code> value: Erroneous', crates/compiler/mono/src/ir.rs:3228:18</code> when I have</p>
<div class="codehilite"><pre><span></span><code>Model : {
    ballPosition : Point3d Pixels ScreenSpace,
}
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Model : {
    ballPosition : Point3d Pixels ScreenSpace,
}
</code></pre></div>
<p>init ...<br>
     { ballPosition: Point3d.pixels<br>
                        (width |&gt; Quantity.scaleBy 0.5 |&gt; Pixels.inPixels)<br>
                        (height |&gt; Quantity.scaleBy 0.4 |&gt; Pixels.inPixels)<br>
                        (0),<br>
    }</p>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>



<a name="299340065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340065">(Sep 17 2022 at 16:12)</a>:</h4>
<p><code>width |&gt; Quantity.scaleBy 0.5 |&gt; Pixels.inPixels</code> and give an <code>a</code>, which I think should be an <code>F32</code> in this case</p>



<a name="299340314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340314">(Sep 17 2022 at 16:15)</a>:</h4>
<p>Same error with <code>ballPosition: Point3d.pixels 5.0f32 10.0f32 0.0f32,</code> (trying to eliminate other causes)</p>



<a name="299340417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340417">(Sep 17 2022 at 16:16)</a>:</h4>
<p>Maybe I need to be defining <code>Point3d</code> in the Rust part of the platform?</p>



<a name="299340777"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340777" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340777">(Sep 17 2022 at 16:21)</a>:</h4>
<p>Shouldn't point3d take 3 values, not 2? At least based on the definition</p>



<a name="299340847"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299340847" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299340847">(Sep 17 2022 at 16:22)</a>:</h4>
<p>Also, not sure it will give you a better error, but make sure to try <code>roc check</code> if you hit compiler errors. It tends to give better errors and not crash.</p>



<a name="299341094"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299341094" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299341094">(Sep 17 2022 at 16:25)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> ! Running <code>check</code> found the issue. I'd only written <code>imports [ pf.Point3d ]</code> and not <code>pf.Point3d.{Point3d}</code> <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="299341459"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299341459" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299341459">(Sep 17 2022 at 16:28)</a>:</h4>
<p>Ah</p>



<a name="299341461"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299341461" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299341461">(Sep 17 2022 at 16:28)</a>:</h4>
<p>Cool</p>



<a name="299341465"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299341465" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299341465">(Sep 17 2022 at 16:28)</a>:</h4>
<p>Glad to help</p>



<a name="299634666"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299634666" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299634666">(Sep 19 2022 at 19:53)</a>:</h4>
<p>I've found it easier to catch these simple mistakes by using <a href="http://eradman.com/entrproject/">http://eradman.com/entrproject/</a>, running it like <code>find ./examples/roc-geometry/**/*.roc | entr -s 'cargo run check examples/roc-geometry/breakout-2.roc'</code></p>



<a name="299645238"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299645238" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299645238">(Sep 19 2022 at 21:05)</a>:</h4>
<p>I don't know what I did, but my branch <a href="https://github.com/wolfadex/roc/tree/wolfadex/roc-geometry">https://github.com/wolfadex/roc/tree/wolfadex/roc-geometry</a> just hangs when running <code>cargo run check examples/roc-geometry/breakout-2.roc</code> and <code>cargo run run examples/roc-geometry/breakout-2.roc</code>. Even inserting a bad value like <code>carl = 5 * "steve"</code> at the top doesn't get it to fail</p>



<a name="299649020"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299649020" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299649020">(Sep 19 2022 at 21:35)</a>:</h4>
<p>I think it was a circular import. <code>Vector3d</code> imported <code>Direection3d</code>, which imported <code>Vector3d</code> (bad copy paste)</p>



<a name="299654523"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299654523" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299654523">(Sep 19 2022 at 22:23)</a>:</h4>
<p>Can you file an issue with a minimal repro. Would be good to print a proper error on something like this.</p>



<a name="299654642"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Units%20and%20Geometry/near/299654642" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Schuster <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Units.20and.20Geometry.html#299654642">(Sep 19 2022 at 22:24)</a>:</h4>
<p>Already did, should have linked it here, <a href="https://github.com/roc-lang/roc/issues/4075">https://github.com/roc-lang/roc/issues/4075</a></p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
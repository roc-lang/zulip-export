<html>
<head><meta charset="utf-8"><title>parser combinator · show and tell · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/index.html">show and tell</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html">parser combinator</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="255619626"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255619626" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255619626">(Sep 30 2021 at 18:01)</a>:</h4>
<p>I've been working on a parser combinator library:  file <code>Parser.roc</code> in  <code>./examples/parser</code> of the branch <code>jim-parser</code>.  There is are two test files of interest: <code>ParserTest.roc</code> and <code>ManyTest.roc</code>.  The latter contains test of code that causes a panic, so progress is stalled at the moment.</p>



<a name="255620292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255620292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255620292">(Sep 30 2021 at 18:03)</a>:</h4>
<p>There are some open PRs to fix some of those problems, but I keep uncovering more</p>



<a name="255639695"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255639695" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255639695">(Sep 30 2021 at 20:07)</a>:</h4>
<p>Thanks Folkert, good to know!</p>



<a name="255905585"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255905585" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255905585">(Oct 02 2021 at 23:14)</a>:</h4>
<p>Just an FYI: the file <code>examples/parser/ParserTest.roc</code> in branch <code>jim-parser</code> panics after the latest merge with <code>trunk</code>. File is unchanged.</p>
<div class="codehilite"><pre><span></span><code>➜  roc git:(jim-parser) cargo run examples/parser/ParserTest.roc
   Compiling roc_gen_wasm v0.1.0 (/Users/jxxcarlson/dev/roc/roc/compiler/gen_wasm)
   Compiling roc_build v0.1.0 (/Users/jxxcarlson/dev/roc/roc/compiler/build)
   Compiling roc_linker v0.1.0 (/Users/jxxcarlson/dev/roc/roc/linker)
   Compiling roc_cli v0.1.0 (/Users/jxxcarlson/dev/roc/roc/cli)
    Finished dev [unoptimized + debuginfo] target(s) in 21.03s
     Running `target/debug/roc examples/parser/ParserTest.roc`
thread &#39;main&#39; panicked at &#39;internal error: entered unreachable code: symbol/layout `fx.Effect.map` ProcLayout { arguments: [LambdaSet(LambdaSet { set: [(`fx.Effect.effect_closure_putLine`, [Builtin(Str)])], representation: Struct([Builtin(Str)]) }), LambdaSet(LambdaSet { set: [(`base.Task.6`, [])], representation: Struct([]) })], result: LambdaSet(LambdaSet { set: [(`fx.Effect.effect_map_inner`, [LambdaSet(LambdaSet { set: [(`fx.Effect.effect_closure_putLine`, [Builtin(Str)])], representation: Struct([Builtin(Str)]) }), LambdaSet(LambdaSet { set: [(`base.Task.6`, [])], representation: Struct([]) })])], representation: Struct([LambdaSet(LambdaSet { set: [(`fx.Effect.effect_closure_putLine`, [Builtin(Str)])], representation: Struct([Builtin(Str)]) }), LambdaSet(LambdaSet { set: [(`base.Task.6`, [])], representation: Struct([]) })]) }) } combo must be in DeclarationToIndex&#39;, compiler/mono/src/borrow.rs:227:9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
^C
</code></pre></div>



<a name="255905639"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255905639" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255905639">(Oct 02 2021 at 23:15)</a>:</h4>
<p>do you remember when you ran it last?</p>



<a name="255907627"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255907627" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255907627">(Oct 02 2021 at 23:55)</a>:</h4>
<p>September 30 for sure.  I haven't changed it in a good while -- am waiting for <code>ManyTest.roc</code> to pass before I proceed</p>



<a name="255968237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255968237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255968237">(Oct 03 2021 at 18:02)</a>:</h4>
<p><span class="user-mention" data-user-id="281543">@Folkert de Vries</span> , good news,  doing the below in the <code>jim-parser</code> branch now succeeds.</p>
<div class="codehilite"><pre><span></span><code>cargo run examples/parser/ParserTest.roc
</code></pre></div>



<a name="255968251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255968251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Carlson <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255968251">(Oct 03 2021 at 18:02)</a>:</h4>
<p>((after merging a few minutes ago with trunk))</p>



<a name="255969128"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/parser%20combinator/near/255969128" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/parser.20combinator.html#255969128">(Oct 03 2021 at 18:17)</a>:</h4>
<p>nice!</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
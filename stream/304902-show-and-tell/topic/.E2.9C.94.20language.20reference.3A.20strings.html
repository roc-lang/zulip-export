<html>
<head><meta charset="utf-8"><title>✔ language reference: strings · show and tell · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/index.html">show and tell</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html">✔ language reference: strings</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="410459712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410459712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410459712">(Dec 29 2023 at 17:50)</a>:</h4>
<p>I wrote up a <a href="https://gist.github.com/rtfeldman/35846b441ba011fe3bfef31890591223">draft of a language reference page for strings</a> in Roc!</p>



<a name="410459808"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410459808" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410459808">(Dec 29 2023 at 17:51)</a>:</h4>
<p>it's intended to be fairly comprehensive (although of course there is a tradeoff in terms of overall length), so if you think of any important string details that aren't mentioned in there, let me know</p>



<a name="410459815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410459815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410459815">(Dec 29 2023 at 17:51)</a>:</h4>
<p>any feedback on it welcome!</p>



<a name="410472147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410472147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410472147">(Dec 29 2023 at 19:52)</a>:</h4>
<blockquote>
<p>You can put any expression you like inside the parentheses, as long as it doesn't contain any newlines</p>
</blockquote>
<p>Why no newlines?</p>



<a name="410472173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410472173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410472173">(Dec 29 2023 at 19:53)</a>:</h4>
<p>In string interpolation expression values</p>



<a name="410472643"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410472643" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410472643">(Dec 29 2023 at 19:59)</a>:</h4>
<blockquote>
<p>conceptually equivalent strings (like "caf\u(e9)" "caf\u(301)e")</p>
</blockquote>
<p>I think that last <code>e</code> should be before the Unicode escape rather than after it</p>



<a name="410473239"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410473239" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410473239">(Dec 29 2023 at 20:04)</a>:</h4>
<p>oops, fixed!</p>



<a name="410473349"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410473349" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410473349">(Dec 29 2023 at 20:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="431893">Brian Carroll</span> <a href="#narrow/stream/304902-show-and-tell/topic/language.20reference.3A.20strings/near/410472147">said</a>:</p>
<blockquote>
<blockquote>
<p>You can put any expression you like inside the parentheses, as long as it doesn't contain any newlines</p>
</blockquote>
<p>Why no newlines?</p>
</blockquote>
<p>basically a combination of implementation complexity (then we'd have to track and enforce indentation level inside that arbitrary expression, to make sure it's "still inside the multiline string," which would affect parsing for all expressions) and incentives ("if you're writing a multiline expression in string interpolation, you're probably making code that's hard to read - just put it outside and give it a name")</p>



<a name="410473949"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410473949" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410473949">(Dec 29 2023 at 20:12)</a>:</h4>
<p>Ooooh do you mean newlines in the source code, as opposed to escaped newlines in the expression value? Because that isn't how I read it!</p>



<a name="410473984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410473984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410473984">(Dec 29 2023 at 20:13)</a>:</h4>
<p>ohhhhh gotcha! I'll edit that to clarify</p>



<a name="410473989"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410473989" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410473989">(Dec 29 2023 at 20:13)</a>:</h4>
<blockquote>
<p>A "length" unsigend integer</p>
</blockquote>
<p>Typo here in "unsigned"</p>



<a name="410474144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474144">(Dec 29 2023 at 20:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/stream/304902-show-and-tell/topic/language.20reference.3A.20strings/near/410473984">said</a>:</p>
<blockquote>
<p>ohhhhh gotcha! I'll edit that to clarify</p>
</blockquote>
<p>Yeah, I guess on my first reading I am not thinking this far out into edge-case land! I am thinking about strings.</p>



<a name="410474278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474278">(Dec 29 2023 at 20:17)</a>:</h4>
<p>I edited it - how does the current wording look?</p>



<a name="410474560"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474560" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474560">(Dec 29 2023 at 20:20)</a>:</h4>
<p>Yeah great <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span><span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="410474764"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474764" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474764">(Dec 29 2023 at 20:22)</a>:</h4>
<blockquote>
<p>Each of these three fields is the same size: 64 bits on a 64-bit system, and 32 bits on a 32-bit system. Empty strings do not have heap allocations, so an empty Str on a 64-bit system still takes up 24 bytes on the stack (due to its three 64-bit fields). The actual contents of the string are stored in one contiguous sequence of bytes, encoded as UTF-8.</p>
</blockquote>
<p>I think maybe the 2nd and 3rd sentences could be swapped. The last sentence switches back to being about general strings rather than just empty ones and that didn't match my expectation.</p>



<a name="410474919"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474919" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474919">(Dec 29 2023 at 20:24)</a>:</h4>
<blockquote>
<p>The reference count is stored on the heap immediately before the first byte of the string's contents, and it has the same size as a memory address.</p>
</blockquote>
<p>As users of the language, do we care where it's stored? This implies we do.</p>



<a name="410474979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410474979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410474979">(Dec 29 2023 at 20:25)</a>:</h4>
<p>I figure someone might care if they're thinking about memory cache locality and things</p>



<a name="410478957"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410478957" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410478957">(Dec 29 2023 at 21:10)</a>:</h4>
<p>Fair enough.</p>



<a name="410478979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410478979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410478979">(Dec 29 2023 at 21:11)</a>:</h4>
<p>Great to have this doc, nice work!</p>



<a name="410480287"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410480287" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410480287">(Dec 29 2023 at 21:29)</a>:</h4>
<p>This looks really good. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="410486437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410486437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Domas Tamašauskas <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410486437">(Dec 29 2023 at 22:53)</a>:</h4>
<p>Represents is mistyped twice in the performance section. I was also confused about graphemes not being part of Str, because I remember using <a href="https://www.roc-lang.org/builtins/Str#graphemes">https://www.roc-lang.org/builtins/Str#graphemes</a>, I assume this means it will be moved, right? Other than that the document is really well written and was a joy to read <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="410488072"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410488072" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410488072">(Dec 29 2023 at 23:17)</a>:</h4>
<p>sorry haha, yeah the plan is to remove it from <code>Str</code> <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="410504227"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410504227" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410504227">(Dec 30 2023 at 02:36)</a>:</h4>
<p>This is great! Very informative and friendly <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="410510268"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410510268" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes Nevalainen <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410510268">(Dec 30 2023 at 04:20)</a>:</h4>
<p>Nice read! I think it would be a very useful read for many programmers :)</p>



<a name="410523221"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410523221" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410523221">(Dec 30 2023 at 08:10)</a>:</h4>
<p>I learned so much by reading this.</p>
<p>Maybe you could add <code>\\</code> as another Escape sequence.</p>
<p>What was not obvious to me is, that this</p>
<div class="codehilite" data-code-language="roc"><pre><span></span><code>"\nVery long string with a newline at the beginning"
|&gt; Str.trim
|&gt; doSomeStrManipulation
</code></pre></div>
<p>will copy the long string to a new allocated space in memory, even if it looks like, it could manipulate the string in place.</p>
<p>Does Str.trim return a seamless slice, if the white spaces are at the end, or does it return the original string with a smaller length?</p>



<a name="410542483"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410542483" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410542483">(Dec 30 2023 at 12:32)</a>:</h4>
<p>Excellent explanation!</p>



<a name="410543099"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/410543099" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#410543099">(Dec 30 2023 at 12:42)</a>:</h4>
<p>Not sure current impl, but should be slice if beginning, same str if just end.</p>



<a name="418181293"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/%E2%9C%94%20language%20reference%3A%20strings/near/418181293" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/.E2.9C.94.20language.20reference.3A.20strings.html#418181293">(Jan 25 2024 at 23:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
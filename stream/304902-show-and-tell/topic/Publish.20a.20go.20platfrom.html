<html>
<head><meta charset="utf-8"><title>Publish a go platfrom · show and tell · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/index.html">show and tell</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Publish.20a.20go.20platfrom.html">Publish a go platfrom</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="430673933"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Publish%20a%20go%20platfrom/near/430673933" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Publish.20a.20go.20platfrom.html#430673933">(Apr 01 2024 at 22:21)</a>:</h4>
<p>Until now, it was <a href="#narrow/stream/302903-Writing-a-platform/topic/Link.20roc.20with.20go">difficult</a> to use a go-platform.  You first had to build roc and afterwards go. So the user of the platform had to install and run go to run the roc code.</p>
<p>With the <a href="https://github.com/roc-lang/roc/pull/6614">recent change to roc</a>, this is not necessary anymore. Now, it is possible to preprocess a go-platform, as you would preprocess any other platform. The user of the platform does not have to install or run go. He/She can just use the prebuilt-platform, and let the surgical linker combine the go-platform and the roc code.</p>
<p>A go-platform now behaves the same as any other platform.</p>
<p>To preprocess a go-platform, you can use the following commands:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>roc<span class="w"> </span>build<span class="w"> </span>--lib<span class="w"> </span>path/to/example/main.roc<span class="w"> </span>--output<span class="w"> </span>platform/libapp.so
<span class="nv">CC</span><span class="o">=</span><span class="s2">"zig cc"</span><span class="w"> </span>go<span class="w"> </span>build<span class="w"> </span>-C<span class="w"> </span>platform<span class="w"> </span>-buildmode<span class="o">=</span>pie<span class="w"> </span>-o<span class="w"> </span>dynhost
roc<span class="w"> </span>preprocess-host<span class="w"> </span>path/to/example/main.roc
roc<span class="w"> </span>run<span class="w"> </span>--prebuilt-platform<span class="w"> </span>my_app/main.roc
</code></pre></div>



<a name="430677349"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Publish%20a%20go%20platfrom/near/430677349" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Van Doren <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Publish.20a.20go.20platfrom.html#430677349">(Apr 01 2024 at 22:54)</a>:</h4>
<p>Awesome, thanks for sharing this!</p>



<a name="430682497"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/304902-show%20and%20tell/topic/Publish%20a%20go%20platfrom/near/430682497" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/304902-show-and-tell/topic/Publish.20a.20go.20platfrom.html#430682497">(Apr 01 2024 at 23:50)</a>:</h4>
<p>If the platform is distributed as a URL, the default is to use the prebuilt-platform, so end users (app authors) can just use <code>roc run app/main.roc</code> <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
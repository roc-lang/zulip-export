<html>
<head><meta charset="utf-8"><title>Bool toNum builtin · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html">Bool toNum builtin</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="490228269"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490228269" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490228269">(Dec 20 2024 at 20:46)</a>:</h4>
<p>Hey y'all, it's been a while since I've contributed to Roc but I have the next couple of weeks off so I'd like to get back into it a bit!</p>
<p>I see that <span class="user-mention" data-user-id="461444">@Sam Mohr</span> create <a href="https://github.com/roc-lang/roc/issues/7395">this issue to add a builtin</a> an hour ago. This seems like a straightforward one to get started with. Since the issue was created so recently, I'm assuming it's up for grabs, but if it's not or someone thinks there's something better for me to work on, please let me know!</p>
<p>I'm planning on following <a href="https://github.com/roc-lang/roc/pull/6993/files">this similar PR</a> which adds other some builtins function!</p>



<a name="490228354"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490228354" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490228354">(Dec 20 2024 at 20:47)</a>:</h4>
<p>nice, go for it! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="490228363"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490228363" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490228363">(Dec 20 2024 at 20:47)</a>:</h4>
<p>You should assume if there is not an assignee, it's up for grabs!</p>



<a name="490243789"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490243789" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490243789">(Dec 20 2024 at 23:16)</a>:</h4>
<p>Okay, so small wrinkle:</p>
<p>Adding <code>Bool.toNum : Bool -&gt; Num *</code> requires importing <code>Num</code> in <code>Bool</code>, causing a cyclical dependency (because <code>Num</code> already imports <code>Bool</code>).</p>
<p>One possible solution here is moving both the definitions of the types <code>Num</code> and <code>Bool</code> to a third module, then importing that from both <code>Num</code> and <code>Bool</code>. These modules could then re-export their respective types. This seems like it could have broader implications though.</p>
<p>What do y'all think? Has there been any thought into this kind of thing before?</p>



<a name="490243824"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490243824" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490243824">(Dec 20 2024 at 23:17)</a>:</h4>
<p>You don't need to import Num because it's a Builtin</p>



<a name="490243865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490243865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490243865">(Dec 20 2024 at 23:17)</a>:</h4>
<p>At least that's my understanding that it is also the case even in the Builtins package</p>



<a name="490243970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490243970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490243970">(Dec 20 2024 at 23:18)</a>:</h4>
<p>I'm wrong</p>



<a name="490243977"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490243977" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490243977">(Dec 20 2024 at 23:19)</a>:</h4>
<p>Don't listen to me</p>



<a name="490244116"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244116" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244116">(Dec 20 2024 at 23:20)</a>:</h4>
<p>I think we might then want to have <code>Num.fromBool : Bool -&gt; Num *</code></p>



<a name="490244132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244132">(Dec 20 2024 at 23:21)</a>:</h4>
<p>To avoid the cycle</p>



<a name="490244167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244167">(Dec 20 2024 at 23:21)</a>:</h4>
<p>Yeah, that makes sense to me!</p>



<a name="490244375"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244375" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244375">(Dec 20 2024 at 23:24)</a>:</h4>
<p>What's the typical process to reach consensus on something like this?</p>



<a name="490244415"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244415" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244415">(Dec 20 2024 at 23:24)</a>:</h4>
<p>Or we just wait for folks to weigh in?</p>



<a name="490244905"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490244905" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490244905">(Dec 20 2024 at 23:30)</a>:</h4>
<p><code>Num.fromBool</code> seems fine! <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="490248278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490248278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490248278">(Dec 21 2024 at 00:11)</a>:</h4>
<p>Great PR is up <a href="https://github.com/roc-lang/roc/pull/7396">here</a>!</p>



<a name="490248823"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490248823" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490248823">(Dec 21 2024 at 00:18)</a>:</h4>
<p>Looks great, but I'm on mobile and can't give approval.</p>
<p>Part of me wants to guarantee it will optimize to not generate a branch, but llvm should always optimize that to not generate a branch. Just will be a branch in dev backend and normal builds</p>



<a name="490248873"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490248873" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490248873">(Dec 21 2024 at 00:19)</a>:</h4>
<p>It's going to need mono snapshots regenerated i think... but I kicked off CI anyway</p>



<a name="490252291"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490252291" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490252291">(Dec 21 2024 at 01:06)</a>:</h4>
<p><span class="user-mention" data-user-id="341568">@Jared Ramirez</span> are you able to update the mono snapshots?</p>



<a name="490258675"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490258675" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490258675">(Dec 21 2024 at 02:42)</a>:</h4>
<p>Yup, I can do it tomorrow! What’s the command to do so?</p>



<a name="490288711"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490288711" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490288711">(Dec 21 2024 at 10:58)</a>:</h4>
<div class="codehilite"><pre><span></span><code>    cargo test -p test_mono -p uitest --no-fail-fast
    git add -u
    git commit -S -m &quot;update mono tests&quot;
    git push origin YOUR_BRANCH_NAME
</code></pre></div>



<a name="490548413"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Bool%20toNum%20builtin/near/490548413" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Bool.20toNum.20builtin.html#490548413">(Dec 23 2024 at 16:42)</a>:</h4>
<p>Great, updated the snapshots</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
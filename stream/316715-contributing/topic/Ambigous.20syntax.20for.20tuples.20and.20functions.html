<html>
<head><meta charset="utf-8"><title>Ambigous syntax for tuples and functions · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html">Ambigous syntax for tuples and functions</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="488915712"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488915712" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488915712">(Dec 13 2024 at 20:31)</a>:</h4>
<p>While fixing <a href="https://github.com/roc-lang/roc/issues/2457#issue-1125456771">#2457</a>, there was a much larger problem that I found in <code>crates/compiler/test_syntax/tests/snapshots/pass/annotate_tuple_func.expr.roc</code>. Namely, this syntax is ambiguous<br>
The problem in short is that if we have a definition of the form</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">func</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="p">(</span><span class="nv">x</span><span class="p">,</span><span class="nv">y</span><span class="nf">-&gt;</span><span class="nv">z</span><span class="p">)</span>
</code></pre></div>
<p>this can be interpreted in two ways</p>
<ol>
<li><code>func</code> is the type of a singleton couple who's only element is a function that takes types <code>x</code> and <code>y</code> and returns <code>z</code></li>
<li><code>func</code> is the type of a size two tuple, the first of which has the type <code>x</code>, the second the type <code>y-&gt;z</code>.<br>
Which of these should be preferred?</li>
</ol>



<a name="488916222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916222">(Dec 13 2024 at 20:35)</a>:</h4>
<p>I think functions in tuples require parens</p>



<a name="488916237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916237">(Dec 13 2024 at 20:36)</a>:</h4>
<p>So that is not ambigious. It can only be a function</p>



<a name="488916292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916292">(Dec 13 2024 at 20:36)</a>:</h4>
<p>That is at least my understanding of the syntax today</p>



<a name="488916366"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916366" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916366">(Dec 13 2024 at 20:36)</a>:</h4>
<p>For that to be a tuple, it would have to be <code>tup : (x,(y-&gt;z))</code></p>



<a name="488916442"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916442" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916442">(Dec 13 2024 at 20:37)</a>:</h4>
<p>Ok, this isn't the behavior in the snapshot, i didn't realize until i <em>really</em> looked at it that it was actually wrong, but this will also fix that as well, so two birds one stone ig</p>



<a name="488916470"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916470" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916470">(Dec 13 2024 at 20:37)</a>:</h4>
<p>interesting</p>



<a name="488916612"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916612" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916612">(Dec 13 2024 at 20:38)</a>:</h4>
<p>Also, someone else with more parser knowledge may jump in later and correct what I said above, but I think it is correct.</p>



<a name="488916691"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916691" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916691">(Dec 13 2024 at 20:39)</a>:</h4>
<p>so just to be clear this change to the snapshot ought to be approved?</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gu">@0-16 Defs(</span>
<span class="w"> </span>    Defs {
<span class="w"> </span>        tags: [
<span class="w"> </span>            EitherIndex(2147483648),
<span class="w"> </span>        ],
<span class="w"> </span>        regions: [
<span class="w"> </span>            @0-13,
<span class="w"> </span>        ],
<span class="w"> </span>        space_before: [
<span class="w"> </span>            Slice&lt;roc_parse::ast::CommentOrNewline&gt; { start: 0, length: 0 },
<span class="w"> </span>        ],
<span class="w"> </span>        space_after: [
<span class="w"> </span>            Slice&lt;roc_parse::ast::CommentOrNewline&gt; { start: 0, length: 0 },
<span class="w"> </span>        ],
<span class="w"> </span>        spaces: [],
<span class="w"> </span>        type_defs: [],
<span class="w"> </span>        value_defs: [
<span class="w"> </span>            Annotation(
<span class="w"> </span>                @0-1 NumLiteral(
<span class="w"> </span>                    "1",
<span class="w"> </span>                ),
<span class="w"> </span>                @2-13 Tuple {
<span class="w"> </span>                    elems: [
<span class="gd">&lt;                        @3-4 SpaceAfter(</span>
<span class="gd">&lt;                            BoundVariable(</span>
<span class="gd">&lt;                                "f",</span>
<span class="gd">&lt;                            ),</span>
<span class="gi">&gt;                        @3-11 Function(</span>
<span class="w"> </span>                            [
<span class="gd">&lt;                                Newline,</span>
<span class="gd">&lt;                            ],</span>
<span class="gd">&lt;                        ),</span>
<span class="gd">&lt;                        @6-11 Function(</span>
<span class="gd">&lt;                            [</span>
<span class="gi">&gt;                                @3-4 BoundVariable(</span>
<span class="gi">&gt;                                    "f",</span>
<span class="gi">&gt;                                ),</span>
<span class="w"> </span>                                @6-8 BoundVariable(
<span class="w"> </span>                                    "ww",
<span class="w"> </span>                                ),
<span class="w"> </span>                            ],
<span class="w"> </span>                            Pure,
<span class="w"> </span>                            @10-11 BoundVariable(
<span class="w"> </span>                                "p",
<span class="w"> </span>                            ),
<span class="w"> </span>                        ),
<span class="w"> </span>                    ],
<span class="w"> </span>                    ext: Some(
<span class="w"> </span>                        @12-13 BoundVariable(
<span class="w"> </span>                            "e",
<span class="w"> </span>                        ),
<span class="w"> </span>                    ),
<span class="w"> </span>                },
<span class="w"> </span>            ),
<span class="w"> </span>        ],
<span class="w"> </span>    },
<span class="w"> </span>    @14-16 SpaceBefore(
<span class="w"> </span>        Tag(
<span class="w"> </span>            "Mh",
<span class="w"> </span>        ),
<span class="w"> </span>        [
<span class="w"> </span>            Newline,
<span class="w"> </span>        ],
<span class="w"> </span>    ),
<span class="w"> </span>)
</code></pre></div>
<p>(from</p>
<div class="codehilite"><pre><span></span><code>1:(f
,ww-&gt;p)e
Mh
</code></pre></div>
<p>)</p>



<a name="488916822"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916822" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916822">(Dec 13 2024 at 20:40)</a>:</h4>
<p>I don't think it should be in a tuple at all</p>



<a name="488916858"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916858" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916858">(Dec 13 2024 at 20:40)</a>:</h4>
<p><code>func : (x,y-&gt;z)</code> should be the same as <code>func : x,y-&gt;z</code></p>



<a name="488916876"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916876" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916876">(Dec 13 2024 at 20:40)</a>:</h4>
<p>Cause we don't have 1 element tuples</p>



<a name="488916906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916906">(Dec 13 2024 at 20:40)</a>:</h4>
<p>wait really, why not?</p>



<a name="488916978"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488916978" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488916978">(Dec 13 2024 at 20:41)</a>:</h4>
<p><a class="stream-topic" data-stream-id="304641" href="/#narrow/channel/304641-ideas/topic/1-tuples">#ideas &gt; 1-tuples</a></p>



<a name="488917073"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917073" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917073">(Dec 13 2024 at 20:42)</a>:</h4>
<p>Has at least a little bit of context</p>



<a name="488917375"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917375" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917375">(Dec 13 2024 at 20:44)</a>:</h4>
<p>hmmm ok so that to</p>



<a name="488917401"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917401" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917401">(Dec 13 2024 at 20:44)</a>:</h4>
<p>wait is that covered in <code>can</code>?</p>



<a name="488917664"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917664" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917664">(Dec 13 2024 at 20:45)</a>:</h4>
<p>My understanding there is nothing in explicitly blocks 1 tuples, we just never generate them when parsing.</p>



<a name="488917810"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917810" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917810">(Dec 13 2024 at 20:45)</a>:</h4>
<p>but that is just a guess</p>



<a name="488917937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488917937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488917937">(Dec 13 2024 at 20:46)</a>:</h4>
<p><span class="user-mention" data-user-id="461444">@Sam Mohr</span> or <span class="user-mention" data-user-id="453336">@Joshua Warner</span> would know a lot better</p>



<a name="488918144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488918144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488918144">(Dec 13 2024 at 20:47)</a>:</h4>
<p>Yeah, we support 1 element tuples as far as I can tell past parsing. We need them for the custom types approach to aliasing types</p>



<a name="488918246"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488918246" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488918246">(Dec 13 2024 at 20:48)</a>:</h4>
<p>Because <code>MyStr := Str</code> will be a 1-tuple around Str</p>



<a name="488918486"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488918486" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488918486">(Dec 13 2024 at 20:50)</a>:</h4>
<p>It's more that Roc stays a small language by only including features that we need, and there doesn't seem to be a good use case for 1-tuples being definable as literals</p>



<a name="488918869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488918869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488918869">(Dec 13 2024 at 20:53)</a>:</h4>
<p>okay then, so then that needs to be implemented because it appears to view <code>(T)</code> as a (valid) type</p>



<a name="488919977"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488919977" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488919977">(Dec 13 2024 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="461444">@Sam Mohr</span> what do you think <code>func : (x,y-&gt;z)</code> should parse to?</p>



<a name="488920886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488920886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488920886">(Dec 13 2024 at 21:06)</a>:</h4>
<p>oh and something else i realized, <code>e</code> is a type extension, so how should that go  over, as one cannot ask for the <code>rest</code> of a functions fields...</p>



<a name="488921360"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921360" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921360">(Dec 13 2024 at 21:09)</a>:</h4>
<p>wait can tuples even have extensions?</p>



<a name="488921726"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921726" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921726">(Dec 13 2024 at 21:12)</a>:</h4>
<blockquote>
<p>For that to be a tuple, it would have to be <code>tup : (x,(y-&gt;z))</code></p>
</blockquote>



<a name="488921779"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921779" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921779">(Dec 13 2024 at 21:12)</a>:</h4>
<p>Your suggestion is my vote</p>



<a name="488921799"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921799" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921799">(Dec 13 2024 at 21:12)</a>:</h4>
<p>That's already how we format tuples in type signatures with functions in them</p>



<a name="488921864"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921864" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921864">(Dec 13 2024 at 21:12)</a>:</h4>
<p>and can tuples have extensions?</p>



<a name="488921880"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921880" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921880">(Dec 13 2024 at 21:13)</a>:</h4>
<p>Tuples can have extensions</p>



<a name="488921936"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921936" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921936">(Dec 13 2024 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> so if we wanted what you just asked about to be a function, we should remove the parens</p>



<a name="488921944"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921944" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921944">(Dec 13 2024 at 21:13)</a>:</h4>
<p>That's important at least in the type system. I'm not sure I've ever seen real code that annotated such a type, where the more general annotation enabled by extensions was important</p>



<a name="488921961"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488921961" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488921961">(Dec 13 2024 at 21:13)</a>:</h4>
<p>But even with parens it would be a 2 argument function to me</p>



<a name="488922025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922025">(Dec 13 2024 at 21:14)</a>:</h4>
<p>so should <code>(x)y</code> be interpreted as a singleton tuple with extension <code>y</code> or just the types <code>x</code> and <code>y</code></p>



<a name="488922052"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922052" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922052">(Dec 13 2024 at 21:14)</a>:</h4>
<p>I don't believe we support that syntax</p>



<a name="488922071"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922071" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922071">(Dec 13 2024 at 21:14)</a>:</h4>
<p>Yeah we do :)</p>



<a name="488922088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922088">(Dec 13 2024 at 21:14)</a>:</h4>
<p><code>(x)y</code> is a tuple with an ext, but <code>(x) y</code> is a type application</p>



<a name="488922095"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922095" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922095">(Dec 13 2024 at 21:14)</a>:</h4>
<p>Oh, cool!</p>



<a name="488922114"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922114" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922114">(Dec 13 2024 at 21:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="461444">Sam Mohr</span> <a href="#narrow/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions/near/488921936">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> so if we wanted what you just asked about to be a function, we should remove the parens</p>
</blockquote>
<p>Yeah, I would expect the formatter to remove the parens</p>



<a name="488922131"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922131" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922131">(Dec 13 2024 at 21:15)</a>:</h4>
<p>basically the code currently thinks <code>(f,ww-&gt;p)e</code> is a tuple with an extension <code>e</code>, but is this incorrect?</p>



<a name="488922177"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922177" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922177">(Dec 13 2024 at 21:15)</a>:</h4>
<p>That sounds wrong to me <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="488922179"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922179" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922179">(Dec 13 2024 at 21:15)</a>:</h4>
<p>The only reason we really use that at outside of signatures at the moment is for tuple getters</p>



<a name="488922362"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922362" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922362">(Dec 13 2024 at 21:16)</a>:</h4>
<p>should i change this then?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="n">fields</span><span class="p">.</span><span class="n">len</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">ext</span><span class="p">.</span><span class="n">is_some</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="o">..</span><span class="p">.}</span>
</code></pre></div>
<p>to just</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="n">fields</span><span class="p">.</span><span class="n">len</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">{</span><span class="o">..</span><span class="p">.}</span>
</code></pre></div>
<p>(in the type in parens function)<br>
just making sure because this is a little bit confusing</p>



<a name="488922529"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922529" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922529">(Dec 13 2024 at 21:18)</a>:</h4>
<p>Oh wait sorry, I read that wrong</p>



<a name="488922552"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922552" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922552">(Dec 13 2024 at 21:18)</a>:</h4>
<p>That does look correct</p>



<a name="488922579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922579">(Dec 13 2024 at 21:18)</a>:</h4>
<p>(for some reason my eyes glossed over the <code>e</code> ext in your example)</p>



<a name="488922689"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488922689" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488922689">(Dec 13 2024 at 21:19)</a>:</h4>
<p>so it <strong>should</strong> be a tuple ?</p>



<a name="488923520"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488923520" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488923520">(Dec 13 2024 at 21:25)</a>:</h4>
<p>or a function, or should it be rejected?</p>



<a name="488924237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924237">(Dec 13 2024 at 21:30)</a>:</h4>
<p>It should be a tuple with a single element, which is itself a function.</p>



<a name="488924344"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924344" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924344">(Dec 13 2024 at 21:31)</a>:</h4>
<p>got it</p>



<a name="488924558"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924558" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924558">(Dec 13 2024 at 21:33)</a>:</h4>
<p>so then this diff <em>is</em> simply correct<br>
<a class="message-link" href="/#narrow/channel/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions/near/488916691">#contributing &gt; Ambigous syntax for tuples and functions @ 💬</a></p>



<a name="488924592"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924592" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924592">(Dec 13 2024 at 21:33)</a>:</h4>
<p>Yes, that looks right to me</p>



<a name="488924603"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924603" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924603">(Dec 13 2024 at 21:33)</a>:</h4>
<p>What change triggered that?</p>



<a name="488924669"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924669" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924669">(Dec 13 2024 at 21:34)</a>:</h4>
<p>Interesting. I would have guess that it was something that shouldn't parse.</p>



<a name="488924752"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924752" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924752">(Dec 13 2024 at 21:34)</a>:</h4>
<p>I guess if it parses as a tuple with a function, the formatter would add in the extra parents which is fine</p>



<a name="488924803"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924803" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924803">(Dec 13 2024 at 21:35)</a>:</h4>
<p>Why would there be extra parens?</p>



<a name="488924830"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924830" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924830">(Dec 13 2024 at 21:35)</a>:</h4>
<p><a href="https://github.com/wizard7377/roc/commit/7465a0c3ea02f6b2651559b5bfc04d04bc5d9852">this one</a> and then also <a href="https://github.com/wizard7377/roc/commit/92ed5a56b7db717f89aba137f31e00223f706ce0">this one</a></p>



<a name="488924899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924899">(Dec 13 2024 at 21:36)</a>:</h4>
<p>I would have thought that only these are valid:</p>
<div class="codehilite"><pre><span></span><code>func : (x,y-&gt;z)
func : x,y-&gt;z

tuple_extension : ((x,y-&gt;z))e
tuple_extension : (x,(y-&gt;z))e
</code></pre></div>



<a name="488924956"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488924956" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488924956">(Dec 13 2024 at 21:36)</a>:</h4>
<blockquote>
<p>Why would there be extra parens?</p>
</blockquote>
<p>function signature in tuple type requires parens</p>



<a name="488925027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925027">(Dec 13 2024 at 21:37)</a>:</h4>
<p>Ah; I guess the formatter may add extra parens to be conservative, but it doesn't technically have to</p>



<a name="488925053"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925053" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925053">(Dec 13 2024 at 21:37)</a>:</h4>
<p>It'll parse fine if it doesn't, in this special case of a 1-elem tuple</p>



<a name="488925202"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925202" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925202">(Dec 13 2024 at 21:38)</a>:</h4>
<p>I just find it exceptionally strange that this is not a tuple type <code>func : (x,y-&gt;z)</code>, but this is <code>tup: (x,y-&gt;z)e</code></p>



<a name="488925255"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925255" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925255">(Dec 13 2024 at 21:39)</a>:</h4>
<p>feels like a huge inconsistency even if it can technically parse</p>



<a name="488925279"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925279" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925279">(Dec 13 2024 at 21:39)</a>:</h4>
<p>TBH tuples are very weird at a syntactic level. As are exts.</p>



<a name="488925317"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925317" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925317">(Dec 13 2024 at 21:39)</a>:</h4>
<p>This grammar is balancing on a knife's edge ;)</p>



<a name="488925456"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925456" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925456">(Dec 13 2024 at 21:40)</a>:</h4>
<p>ok yep that's the only test that failed, and is now updated, pr should be ready to go in like 10 minutes</p>



<a name="488925506"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925506" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925506">(Dec 13 2024 at 21:40)</a>:</h4>
<p>Also, to be fair, extension are changing and it will fix up this case</p>



<a name="488925545"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925545" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925545">(Dec 13 2024 at 21:41)</a>:</h4>
<div class="codehilite"><pre><span></span><code>func : (x,y-&gt;z)
func : x,y-&gt;z

tuple_extension : ((x,y-&gt;z), ..e)
tuple_extension : (x,(y-&gt;z), ..e)
</code></pre></div>



<a name="488925566"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925566" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925566">(Dec 13 2024 at 21:41)</a>:</h4>
<p>Now the parens around the function are clearly needed</p>



<a name="488925568"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925568" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925568">(Dec 13 2024 at 21:41)</a>:</h4>
<p>Oh cool that's so much nicer to parse <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span></p>



<a name="488925664"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925664" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925664">(Dec 13 2024 at 21:42)</a>:</h4>
<p>also why not use one deliminator for tuples and another for just grouping (in types)</p>



<a name="488925666"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925666" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925666">(Dec 13 2024 at 21:42)</a>:</h4>
<p>See <a href="https://github.com/roc-lang/roc/issues/7091">https://github.com/roc-lang/roc/issues/7091</a><br>
for Simplify Types with <code>..</code> Spread Syntax</p>



<a name="488925894"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488925894" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488925894">(Dec 13 2024 at 21:44)</a>:</h4>
<blockquote>
<p>also why not use one deliminator for tuples and another for just grouping (in types)</p>
</blockquote>
<p>Reasonable question. Not sure if alternative delimiters were considered when discussing the implementation for tuples.</p>



<a name="488926773"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488926773" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488926773">(Dec 13 2024 at 21:51)</a>:</h4>
<p>I don't think it was every discussion. People are too used to tuples being <code>(..., ..., ...)</code></p>



<a name="488926848"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488926848" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488926848">(Dec 13 2024 at 21:52)</a>:</h4>
<p>We did discuss maybe following python and allowing a one tuple as <code>(...,)</code></p>



<a name="488926899"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488926899" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488926899">(Dec 13 2024 at 21:52)</a>:</h4>
<p>Summary was that we really hadn't seen demand for it in roc, but sounds fine if needed.</p>



<a name="488932830"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/488932830" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#488932830">(Dec 13 2024 at 22:42)</a>:</h4>
<p>yeah I'm default leaning towards not having 1-tuple syntax, based on what we've discussed so far, but it's conceivable that the tradeoffs could change in the future</p>



<a name="489495337"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Ambigous%20syntax%20for%20tuples%20and%20functions/near/489495337" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sky Rose <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Ambigous.20syntax.20for.20tuples.20and.20functions.html#489495337">(Dec 17 2024 at 14:14)</a>:</h4>
<p>I just proposed a way to resolve this ambiguity in <a class="stream-topic" data-stream-id="304641" href="/#narrow/channel/304641-ideas/topic/Change.20tuple.20syntax.20from.20.28.29.20to.20.7B.7D.3F">#ideas &gt; Change tuple syntax from () to {}?</a></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
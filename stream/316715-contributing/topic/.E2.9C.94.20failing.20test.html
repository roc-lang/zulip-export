<html>
<head><meta charset="utf-8"><title>✔ failing test · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html">✔ failing test</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="341188800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341188800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341188800">(Mar 11 2023 at 22:00)</a>:</h4>
<p>Locally, <code>tests::opaque_wrap_function</code> in <code>repl_test</code> is failing for me on main. Is anyone else seeing this:</p>
<p><code>cargo test -p repl_test --lib -- tests::opaque_wrap_function</code></p>



<a name="341190032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341190032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341190032">(Mar 11 2023 at 22:16)</a>:</h4>
<p>oh, it is an issue with dirty builds and the test using a version of roc I built on another branch.</p>



<a name="341190134"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341190134" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341190134">(Mar 11 2023 at 22:18)</a>:</h4>
<p>ah yup</p>



<a name="341190158"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341190158" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341190158">(Mar 11 2023 at 22:18)</a>:</h4>
<p>also happens to me from time to time, and then I remember</p>



<a name="341192440"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341192440" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341192440">(Mar 11 2023 at 22:43)</a>:</h4>
<p>so <code>cargo clean</code> is the fix then?</p>



<a name="341192540"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341192540" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341192540">(Mar 11 2023 at 22:44)</a>:</h4>
<p>no, <code>cargo build</code></p>



<a name="341192552"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/341192552" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#341192552">(Mar 11 2023 at 22:44)</a>:</h4>
<p>that updates the roc binary that the test invokes</p>



<a name="365327321"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365327321" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365327321">(Jun 11 2023 at 14:07)</a>:</h4>
<p>Hi! First time trying contributing to open source. I wanted to run the tests before touching anything. <br>
On my x86_64 linux,  on main branch, running <code>cargo test -p roc_glue --test test_glue_cli</code> fails (<em>0 passed; 17 failed; 1 ignored</em>).  I've <code>cargo clean</code> -ed the directory, entered the nix dev shell, ran <code>cargo build</code> and then run the tests. Is this known, and should I just ignore this?</p>



<a name="365330087"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365330087" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365330087">(Jun 11 2023 at 14:23)</a>:</h4>
<p>Yep, known</p>



<a name="365330147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365330147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365330147">(Jun 11 2023 at 14:23)</a>:</h4>
<p>Those tests require the roc executive to be built before they can run</p>



<a name="365331259"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365331259" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Hajagos <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365331259">(Jun 11 2023 at 14:30)</a>:</h4>
<p>Does the latest release-mode compiled <strong>roc</strong> binary have to be in the path, or something like that? Asking, since I ran <code>cargo build</code> beforehand.</p>



<a name="365343202"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365343202" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365343202">(Jun 11 2023 at 15:29)</a>:</h4>
<p>we should really fix this</p>



<a name="365343274"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365343274" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365343274">(Jun 11 2023 at 15:29)</a>:</h4>
<p><code>cargo test</code> should just work without cleaning</p>



<a name="365358610"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365358610" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365358610">(Jun 11 2023 at 16:56)</a>:</h4>
<p>Hmm. I thought it should work with regular cargo build</p>



<a name="365358649"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365358649" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365358649">(Jun 11 2023 at 16:56)</a>:</h4>
<p>let me double check how we are doing this</p>



<a name="365358863"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365358863" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365358863">(Jun 11 2023 at 16:58)</a>:</h4>
<p>Hmm. According to our code, the tests should compile the roc binary if it doesn't exist.</p>



<a name="365366818"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365366818" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365366818">(Jun 11 2023 at 17:47)</a>:</h4>
<p>I'll have a fix up shortly</p>



<a name="365369768"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/365369768" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#365369768">(Jun 11 2023 at 18:06)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/5541">#5541</a> should fix this</p>



<a name="366155768"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20failing%20test/near/366155768" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20failing.20test.html#366155768">(Jun 14 2023 at 11:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>fewer custom platforms in the repo · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html">fewer custom platforms in the repo</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="404463024"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404463024" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404463024">(Nov 27 2023 at 17:57)</a>:</h4>
<p>thinking about how many platforms need to be changed every time we update something about how hosts work (e.g. Folkert's calling convention improvement), or we're about to need <code>roc_dbg</code> for <code>dbg</code> to use <code>Inspect</code>), it would be great if we reduced the quantity of different platforms in the repo that needed to be updated.</p>
<p>I think it makes sense to have:</p>
<ul>
<li>platforms loaded from URLs in <code>examples/</code></li>
<li>one portion of <code>examples/</code> that's specifically about platform switching (which also demonstrates how to get a platform locally instead of from a URL)</li>
<li>test cases which run local platforms - but a lot of these could probably share one local platform instead of each having their own</li>
</ul>



<a name="404463030"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404463030" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404463030">(Nov 27 2023 at 17:57)</a>:</h4>
<p>what do others think?</p>



<a name="404463792"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404463792" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404463792">(Nov 27 2023 at 18:02)</a>:</h4>
<p>Sounds good to me</p>



<a name="404464348"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404464348" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404464348">(Nov 27 2023 at 18:04)</a>:</h4>
<p>I guess one note, changing to url platforms actually just makes things worse. They will break on these changes but be more work/delay to update.</p>



<a name="404464713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404464713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404464713">(Nov 27 2023 at 18:07)</a>:</h4>
<p>true, but we have to do the same amount of work to fix those anyway <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="404465107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404465107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404465107">(Nov 27 2023 at 18:09)</a>:</h4>
<p>Well, we just can't block merging on the examples passing. Because otherwise we can't make a compiler change that changes the platform API while still having examples with old platforms passing.</p>



<a name="404465113"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404465113" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404465113">(Nov 27 2023 at 18:09)</a>:</h4>
<p>Yeah, but now they are scattered and need a release process instead of just direct changes in the roc repo</p>



<a name="404485147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404485147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404485147">(Nov 27 2023 at 20:32)</a>:</h4>
<p>Wouldn't it make more sense to put all that common code into a shared directory in the repo?<br>
One Zig file and one Rust crate that all the hosts can import and re-export.</p>
<p>Zig and Rust both have their own mechanisms for sharing code. It doesn't have to be a Roc-specific mechanism.</p>
<p>Then we can also make slight differences between the platforms where needed. And we can still make atomic commits to upgrade everything at once.</p>



<a name="404739281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404739281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404739281">(Nov 28 2023 at 23:44)</a>:</h4>
<p>Did we resolve a plan here? I'm not sure if we settled on a decision with this discussion?</p>



<a name="404739561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404739561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404739561">(Nov 28 2023 at 23:46)</a>:</h4>
<p>Another idea, what about moving the platforms to <a href="https://github.com/roc-lang/examples/tree/main">https://github.com/roc-lang/examples/tree/main</a> and making a platforms folder there? We can include a README which explains more about these. Do we need any of the current examples for tests?</p>



<a name="404739674"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404739674" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404739674">(Nov 28 2023 at 23:47)</a>:</h4>
<p>With this idea we could remove examples entirely or leave a README pointing to the repository.</p>



<a name="404739769"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404739769" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404739769">(Nov 28 2023 at 23:48)</a>:</h4>
<p>This might make upgrades simpler as these platforms might fall behind, but they wont hold up CI on roc, and can be update in a follow-up PR on the example repository.</p>



<a name="404826153"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/fewer%20custom%20platforms%20in%20the%20repo/near/404826153" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/fewer.20custom.20platforms.20in.20the.20repo.html#404826153">(Nov 29 2023 at 09:57)</a>:</h4>
<p>I think it definitely makes sense to move all the other language examples (ruby, python, java...) to the examples repo. Perhaps we should keep nodejs-interop in the main repo <span class="user-mention" data-user-id="281383">@Richard Feldman</span>?</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
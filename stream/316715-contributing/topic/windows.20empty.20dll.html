<html>
<head><meta charset="utf-8"><title>windows empty dll · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/windows.20empty.20dll.html">windows empty dll</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="295713190"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/windows%20empty%20dll/near/295713190" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/windows.20empty.20dll.html#295713190">(Aug 28 2022 at 13:55)</a>:</h4>
<p>for the windows surgical linker, it would be convenient to have a fairly empty DLL to use as a base. I tried making one with zig, but it insists on adding a bunch of extra junk that we don't need. </p>
<p><a href="/user_uploads/22008/ZbEcDx7l8SGHEwGf-cpwriHs/windows_dummy.obj">windows_dummy.obj</a> </p>
<p>for linux, we've had success with using an object file (like the one above) and turning that into a <code>.so</code> (shared object) using the system linker. I'm hoping someone on windows can take the <code>.obj</code> above and turn it into a <code>.dll</code> in a similar way. </p>
<p>There seems to be very little material about using a linker manually on windows. I'd expect something like</p>
<div class="codehilite"><pre><span></span><code>ld windows_dummy.obj -o windows_dummy.dll
</code></pre></div>
<p>but it likely needs some sort of <code>-dynamic</code> or <code>-shared</code> flag to work.</p>



<a name="295713621"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/windows%20empty%20dll/near/295713621" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/windows.20empty.20dll.html#295713621">(Aug 28 2022 at 13:59)</a>:</h4>
<p>you might be able to use the linker through the C compiler</p>
<div class="codehilite"><pre><span></span><code>cc -Os -s windows_dummy.obj windows_dummy.dll
</code></pre></div>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
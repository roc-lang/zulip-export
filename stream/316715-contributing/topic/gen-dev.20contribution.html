<html>
<head><meta charset="utf-8"><title>gen-dev contribution · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html">gen-dev contribution</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="321888948"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321888948" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321888948">(Jan 17 2023 at 17:46)</a>:</h4>
<p>Hey, I recently started looking into roc-lang and want to contribute to the project! <br>
I have previously worked a little on other compilers in Rust, and would be interested in helping wherever I can! :)</p>
<p>I've been eyeing helping on the <code>gen-dev</code> backend through some of the "good first issue"s for that, for example <a href="https://github.com/roc-lang/roc/issues/3796">https://github.com/roc-lang/roc/issues/3796</a></p>
<p>I want to sanity checking that I wouldn't be stepping on any toes of anyone already looking to work on the issue, and I would also like to ask for a little bit of general guidance &lt;3</p>
<p>For now I have tried to just copy the existing <code>NumSub</code> generation at <a href="https://github.com/roc-lang/roc/compare/main...thehabbos007:roc:asa/numsubwrap">https://github.com/roc-lang/roc/compare/main...thehabbos007:roc:asa/numsubwrap</a> and gotten <code>test-gen-dev</code> to run</p>



<a name="321890017"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321890017" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321890017">(Jan 17 2023 at 17:51)</a>:</h4>
<p>help there is very welcome!</p>



<a name="321890272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321890272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321890272">(Jan 17 2023 at 17:52)</a>:</h4>
<p>the usual procedure is to write some c/rust/zig in <a href="https://godbolt.org/">https://godbolt.org/</a> to show us the assembly that we want to get</p>



<a name="321890386"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321890386" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321890386">(Jan 17 2023 at 17:53)</a>:</h4>
<p>and then make that happen. For numerics in particular it's good to check it for a few different types (widths) because the assembly can change sometimes</p>



<a name="321892562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321892562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321892562">(Jan 17 2023 at 18:02)</a>:</h4>
<p>Cool, thanks! Will make sure to use that for opcodes. Are there any good reference sites other than the compiler explorer?</p>



<a name="321893030"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321893030" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321893030">(Jan 17 2023 at 18:04)</a>:</h4>
<p>Also it seems that optimizations usually optimize away the interesting bits (for rust at least). Other than something like <code>-O0</code> can I do anything?</p>



<a name="321893449"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321893449" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321893449">(Jan 17 2023 at 18:06)</a>:</h4>
<p>yeah, I think <a href="https://doc.rust-lang.org/stable/std/hint/fn.black_box.html">https://doc.rust-lang.org/stable/std/hint/fn.black_box.html</a> is what you're looking for</p>



<a name="321893484"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321893484" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321893484">(Jan 17 2023 at 18:06)</a>:</h4>
<p>or just don't provide input values at all</p>



<a name="321893797"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321893797" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321893797">(Jan 17 2023 at 18:08)</a>:</h4>
<p>e.g. </p>
<div class="codehilite"><pre><span></span><code>// Type your code here, or load an example.
pub fn square(a: i32, b: i32) -&gt; i32 {
    a - b
}
</code></pre></div>
<p>will show you useful assembly with <code>-O</code> for rust</p>



<a name="321893835"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321893835" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321893835">(Jan 17 2023 at 18:08)</a>:</h4>
<p>because there are no inputs, it cannot make weird assumptions based on the inputs</p>



<a name="321895433"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321895433" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321895433">(Jan 17 2023 at 18:17)</a>:</h4>
<p>If you haven't, make sure to read through: <a href="https://github.com/roc-lang/roc/blob/main/crates/compiler/gen_dev/README.md">https://github.com/roc-lang/roc/blob/main/crates/compiler/gen_dev/README.md</a></p>
<p>It has a lot of info and some links to useful tools.</p>



<a name="321895572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321895572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321895572">(Jan 17 2023 at 18:18)</a>:</h4>
<p>Also, if you need help, feel free to reach out here or request to pair. I definitely could help run you through an addition.</p>



<a name="321895838"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321895838" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321895838">(Jan 17 2023 at 18:19)</a>:</h4>
<p>for sub specifically, there is <a href="https://github.com/roc-lang/roc/pull/4101">https://github.com/roc-lang/roc/pull/4101</a> but that one is pretty stale</p>



<a name="321896181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321896181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321896181">(Jan 17 2023 at 18:21)</a>:</h4>
<p>that PR does not actually do anything, and there was some confusion about what test command to run. No real activity since september</p>



<a name="321896231"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321896231" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321896231">(Jan 17 2023 at 18:21)</a>:</h4>
<p>Also, here is another useful doc: <a href="https://github.com/rtfeldman/roc/issues/1932#issuecomment-964860520">https://github.com/rtfeldman/roc/issues/1932#issuecomment-964860520</a></p>



<a name="321897308"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321897308" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321897308">(Jan 17 2023 at 18:27)</a>:</h4>
<p>Thanks Brendan for the links!<br>
I suppose the PR linked is for the non-wrapping sub, which I assume is different?</p>



<a name="321898107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898107">(Jan 17 2023 at 18:31)</a>:</h4>
<p>technically, yes, but I believe that we don't do the overflow check yet for the dev backend</p>



<a name="321898198"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898198" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898198">(Jan 17 2023 at 18:31)</a>:</h4>
<p>in roc, <code>a + b</code> should panic if that operation overflows, but the dev backend just used the <code>add</code> instruction, which will silently overflow</p>



<a name="321898312"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898312" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898312">(Jan 17 2023 at 18:32)</a>:</h4>
<p>I see. Should I look into another issue instead, then?</p>



<a name="321898492"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898492" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898492">(Jan 17 2023 at 18:32)</a>:</h4>
<p>no, this one is fine, and subtraction is useful</p>



<a name="321898702"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898702" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898702">(Jan 17 2023 at 18:33)</a>:</h4>
<p>there is just a lot to implement and we do it in small steps. The panicking is not really required to run most programs</p>



<a name="321898835"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321898835" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321898835">(Jan 17 2023 at 18:34)</a>:</h4>
<p>and it is more complicated than just emitting some instructions; you have to call a panic function there. So we've skipped that so far</p>



<a name="321899278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321899278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321899278">(Jan 17 2023 at 18:36)</a>:</h4>
<p>I see. Would that to-be-added panic code be emitted as part of the <code>build_*</code> methods rather than the the specialized <code>ASM::sub_reg...</code> functions? I ask because I assume I wouldn't need to make a <code>ASM::wrapping_sub_reg..</code> equivalent if we do the panics in the former step</p>



<a name="321899593"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321899593" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321899593">(Jan 17 2023 at 18:38)</a>:</h4>
<p>yes the panic would wrap the lower level stuff</p>



<a name="321899686"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321899686" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321899686">(Jan 17 2023 at 18:38)</a>:</h4>
<p>it's sort of <code>if bunch_of_check { panic!() } else { do_the_normal_assembly }</code></p>



<a name="321899698"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321899698" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321899698">(Jan 17 2023 at 18:38)</a>:</h4>
<p>in the general case</p>



<a name="321899773"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321899773" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321899773">(Jan 17 2023 at 18:39)</a>:</h4>
<p>for addition/subtraction there are probably some flags that we could use to figure out if the addition overflowed</p>



<a name="321900032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321900032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321900032">(Jan 17 2023 at 18:40)</a>:</h4>
<p>Thanks for the explanation, that does make sense :)</p>



<a name="321908280"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/321908280" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#321908280">(Jan 17 2023 at 19:22)</a>:</h4>
<p>I opened a PR here <a href="https://github.com/roc-lang/roc/pull/4917">https://github.com/roc-lang/roc/pull/4917</a>, but no rush reviewing it of course!</p>



<a name="322708116"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322708116" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322708116">(Jan 21 2023 at 11:35)</a>:</h4>
<p>Hey, sort of unrelated to the above stuff, but still relevant to the topic: I've tried implementing the <code>List.withCapcity</code> builtin in the gen_dev backend, I changed an existing test to account for List capacity but it seems that the wasm backend doesn't have the expected capacity Does anyone have some insights as to why the wasm <code>RocList</code> seems to be different?</p>
<p>CI result: <a href="https://github.com/roc-lang/roc/actions/runs/3970756961/jobs/6809484103#step:12:1132">https://github.com/roc-lang/roc/actions/runs/3970756961/jobs/6809484103#step:12:1132</a></p>
<p>Changed test: <a href="https://github.com/roc-lang/roc/pull/4931/files#diff-aeb94571b7796cf095dd599a6dcb9dfb58abcf71d19ed7731af3a0def3f7cab0R3398-R3400">https://github.com/roc-lang/roc/pull/4931/files#diff-aeb94571b7796cf095dd599a6dcb9dfb58abcf71d19ed7731af3a0def3f7cab0R3398-R3400</a></p>



<a name="322717205"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322717205" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322717205">(Jan 21 2023 at 12:34)</a>:</h4>
<p>I suspect this is a problem with getting the value back from wasm to rust. based on the chrome debugger, within wasm, the capacity is 10</p>



<a name="322717242"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322717242" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322717242">(Jan 21 2023 at 12:34)</a>:</h4>
<p>I'll see if I can fix this on your branch</p>



<a name="322717664"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322717664" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322717664">(Jan 21 2023 at 12:37)</a>:</h4>
<p>Thank you, I appreciate it :)</p>



<a name="322723599"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322723599" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322723599">(Jan 21 2023 at 13:18)</a>:</h4>
<p>it's not that simple. Somehow something is wrong allocating. The wasm program takes a different route through the zig code than the llvm program, and in the process the capacity gets messed up</p>



<a name="322724083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322724083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322724083">(Jan 21 2023 at 13:22)</a>:</h4>
<p>Interesting. Should I just undo the test changes and put aside the wasm issue?</p>



<a name="322724719"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322724719" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322724719">(Jan 21 2023 at 13:27)</a>:</h4>
<p>no I'm on it. There turns out to be a second issue, which is more in the area where I originally thought it would be</p>



<a name="322724770"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322724770" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322724770">(Jan 21 2023 at 13:27)</a>:</h4>
<p>Got it. Again, thank you!</p>



<a name="322738794"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322738794" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322738794">(Jan 21 2023 at 14:59)</a>:</h4>
<p>allright, I found it. We were using a pointer as if it were an integer</p>



<a name="322738872"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322738872" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322738872">(Jan 21 2023 at 15:00)</a>:</h4>
<p>that meant a list with a very large capacity was created</p>



<a name="322739015"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322739015" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322739015">(Jan 21 2023 at 15:01)</a>:</h4>
<p>Neat, nice find! Excited to see the piece of code this was in</p>



<a name="322740391"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322740391" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322740391">(Jan 21 2023 at 15:09)</a>:</h4>
<p>can you rebase your branch on <a href="https://github.com/roc-lang/roc/tree/list-with-capacity">https://github.com/roc-lang/roc/tree/list-with-capacity</a>? I suspect the "draft PR" does not work well with the <code>gh</code> tool, so it's hard for me to push to your branch</p>



<a name="322740618"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322740618" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322740618">(Jan 21 2023 at 15:11)</a>:</h4>
<p>Yes, can do. I can open up for review too</p>



<a name="322740875"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322740875" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322740875">(Jan 21 2023 at 15:12)</a>:</h4>
<p>I did that already but it still did not work. I'm upgrading <code>gh</code>  now, maybe that is what it is</p>



<a name="322740959"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322740959" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322740959">(Jan 21 2023 at 15:13)</a>:</h4>
<p>My commit is already in the branch, perhaps that's why it's a noop</p>



<a name="322741016"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322741016" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322741016">(Jan 21 2023 at 15:13)</a>:</h4>
<p>but my commits aren't right?</p>



<a name="322741177"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322741177" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322741177">(Jan 21 2023 at 15:14)</a>:</h4>
<p>I mean that the <a href="https://github.com/roc-lang/roc/tree/list-with-capacity">https://github.com/roc-lang/roc/tree/list-with-capacity</a> branch has my commit, so a rebase is a noop</p>



<a name="322741355"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322741355" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322741355">(Jan 21 2023 at 15:15)</a>:</h4>
<p>right, ok then maybe just <code>reset --hard my_branch</code> on your branch, so the PR updates?</p>



<a name="322741586"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/gen-dev%20contribution/near/322741586" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ahmad Sattar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/gen-dev.20contribution.html#322741586">(Jan 21 2023 at 15:17)</a>:</h4>
<p>There we go, thanks!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
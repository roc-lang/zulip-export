<html>
<head><meta charset="utf-8"><title>Roc Glue · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html">Roc Glue</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="569877672"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569877672" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan G Knutson <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569877672">(Jan 24 2026 at 15:45)</a>:</h4>
<p>What's the state of <code>roc glue</code>? I know that it's not implemented in the new toolchain, but is there a plan or design doc kind of thing? Is this something that would be reasonable for me to work on, or should I wait / hack it without?</p>



<a name="569877820"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569877820" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569877820">(Jan 24 2026 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span></p>



<a name="569897456"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569897456" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569897456">(Jan 24 2026 at 19:27)</a>:</h4>
<p>It's not implemented yet.</p>



<a name="569897724"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569897724" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569897724">(Jan 24 2026 at 19:31)</a>:</h4>
<p>I have a thing I made which is similar, I intended it to be a halfway thing or stepping stone. </p>
<p>I rebased and made a draft PR so I could share it <a href="https://github.com/roc-lang/roc/pull/9082">https://github.com/roc-lang/roc/pull/9082</a></p>
<p>This give you a flag <code>--dump-platform-abi=&lt;path&gt;</code> to generate a C header file from a platform ABI</p>
<div class="codehilite"><pre><span></span><code>$ roc build --help
Build a binary from the given .roc file, but don&#39;t run it

Usage: roc build [OPTIONS] [ROC_FILE]

Arguments:
  [ROC_FILE] The .roc file to build [default: main.roc]

Options:
      --output=&lt;output&gt;              The full path to the output binary, including filename. To specify directory only, specify a path that ends in a directory separator (e.g. a slash)
      &lt;snipped&gt;
      --dump-platform-abi=&lt;path&gt;     Generate C header file with platform ABI
</code></pre></div>
<p>AFAIK there isn't a design doc for <code>roc glue</code> -- but we are copying the functionality from the old rust compiler so we could glean from that.</p>



<a name="569900832"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569900832" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569900832">(Jan 24 2026 at 20:16)</a>:</h4>
<p>I asked claude to summarise how it worked in the rust compiler <a href="https://gist.github.com/lukewilliamboswell/c75da540018770e0a960fa158cc9bec4">https://gist.github.com/lukewilliamboswell/c75da540018770e0a960fa158cc9bec4</a></p>
<p>sharing here to save anyone the tokens if they wanted to do the same</p>



<a name="569902746"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569902746" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569902746">(Jan 24 2026 at 20:50)</a>:</h4>
<p>I was wondering A, how do roc types work in host-lang and B, wtf is roc glue.  I am just using List(U8) in my host API, and then parse-don't-validate into nominal tag union with methods.  Not sure i want glue in this specific context.   Though i guess have my own glue for List(U8), not sure</p>



<a name="569902980"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569902980" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569902980">(Jan 24 2026 at 20:54)</a>:</h4>
<p>It mostly helps when you want to use custom type like a record  or a list containing other types like <code>List(MyOtherThing)</code> then you don't have to hand roll the source code for <code>MyOtherThing</code> and get that right (field ordering, alignment, padding, etc) for different architectures. When you have more complex types like nested tag unions with payloads etc it gets really difficult very quickly if these aren't generated for you. If you make a change to the Roc type, it can be much easier to just regenerate the source that matches that then trying to keep them in sync manually.</p>



<a name="569903230"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569903230" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569903230">(Jan 24 2026 at 21:00)</a>:</h4>
<p>I'd like host this doc in roc-init, at least temporarily.  Roc-init is completely application-focused, right now, but I have a few plat-dev docs off in a dusty corner</p>



<a name="569903276"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569903276" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569903276">(Jan 24 2026 at 21:00)</a>:</h4>
<p>That gist is for the old rust compiler... I wouldn't confuse it with anything for the new compiler</p>



<a name="569903706"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569903706" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Hull <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569903706">(Jan 24 2026 at 21:08)</a>:</h4>
<p>Doh right.  Good background info.</p>



<a name="569920658"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569920658" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan G Knutson <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569920658">(Jan 25 2026 at 02:59)</a>:</h4>
<p>I got started on adding a <code>roc glue</code> command for the Zig toolchain. I don't know how built-out it should be before opening a PR, but I can at least throw a draft up tomorrow.</p>



<a name="569920683"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Glue/near/569920683" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Glue.html#569920683">(Jan 25 2026 at 02:59)</a>:</h4>
<p>Sounds good</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
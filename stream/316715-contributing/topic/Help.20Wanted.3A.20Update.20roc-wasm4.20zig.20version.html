<html>
<head><meta charset="utf-8"><title>Help Wanted: Update roc-wasm4 zig version · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html">Help Wanted: Update roc-wasm4 zig version</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="441157826"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441157826" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441157826">(May 29 2024 at 03:38)</a>:</h4>
<p>Someone recently had an issue using roc-wasm4, <a href="https://github.com/lukewilliamboswell/roc-wasm4/issues/25">https://github.com/lukewilliamboswell/roc-wasm4/issues/25</a></p>
<p>I was wondering if anyone would be interested in helping update the platform use a later zig version, such as 0.12.0? </p>
<p>It's a tiny code base, so there shouldn't be much to upgrade. I think it might be limited to the <code>build.zig</code> script.</p>
<p>Or maybe a better solution is to add a flake or similar to help people get set up on the correct version?</p>



<a name="441174647"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441174647" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441174647">(May 29 2024 at 06:40)</a>:</h4>
<p>Ah, I started experimenting in this direction and even made some progress. But my zig knowledge (especially regarding its build system) is very limited, so it's moving very slowly</p>



<a name="441174847"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441174847" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441174847">(May 29 2024 at 06:42)</a>:</h4>
<p>Yeah, I haven't looked at zig 0.12.0 much yet.</p>



<a name="441205470"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441205470" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441205470">(May 29 2024 at 09:54)</a>:</h4>
<p>I’m game to take a look at this in the next few days unless someone else has time before I do. </p>
<p>Should be a good way to get more familiar with both Zig and platforms.</p>



<a name="441590981"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441590981" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441590981">(May 31 2024 at 01:16)</a>:</h4>
<p>I have a draft PR open: <a href="https://github.com/lukewilliamboswell/roc-wasm4/pull/26">https://github.com/lukewilliamboswell/roc-wasm4/pull/26</a></p>



<a name="441590991"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441590991" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441590991">(May 31 2024 at 01:16)</a>:</h4>
<p>I feel like I've made a fair bit of progress, but I haven't fixed everything.</p>



<a name="441590994"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441590994" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441590994">(May 31 2024 at 01:16)</a>:</h4>
<blockquote>
<p>Lots to change, especially in glue.</p>
</blockquote>
<p>That sounds like we need to update the builtins in Roc</p>



<a name="441591029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591029">(May 31 2024 at 01:17)</a>:</h4>
<p>Those glue files are vendored from the roc repository.</p>



<a name="441591030"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591030" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591030">(May 31 2024 at 01:17)</a>:</h4>
<p>Yes, I just checked the roc builtins and they definitely will need to change.</p>



<a name="441591043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591043">(May 31 2024 at 01:17)</a>:</h4>
<p>Yeah, I don't understand much of how glue works but I could see that you were pulling them in from the compiler builtins.</p>



<a name="441591055"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591055" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591055">(May 31 2024 at 01:17)</a>:</h4>
<p>Hmm. I guess we could update them here, check it's all good, and then it will be easy to copy back into the repository...</p>



<a name="441591131"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591131" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591131">(May 31 2024 at 01:18)</a>:</h4>
<p>My only concern is that if there are any PR's in roc that modify builtins we might get out of sync. But I don't think there are any currently under way</p>



<a name="441591174"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591174" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591174">(May 31 2024 at 01:19)</a>:</h4>
<p>I wasn't sure whether I should change the files in this repo or not. So I'm definitely ok with waiting if you'd prefer.</p>



<a name="441591180"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591180" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591180">(May 31 2024 at 01:19)</a>:</h4>
<p>I've been thinking of cleaning up those files anyway and removing all the non-essential parts. there's a lot there that isn't needed for platform development.</p>



<a name="441591262"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591262" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591262">(May 31 2024 at 01:20)</a>:</h4>
<p>Actually the best solution would be to update the files in <a href="https://github.com/lukewilliamboswell/roc-glue-code-gen">https://github.com/lukewilliamboswell/roc-glue-code-gen</a> and use a glue.roc script to generate the files in the roc-wasm4 platform.</p>



<a name="441591281"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591281" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591281">(May 31 2024 at 01:20)</a>:</h4>
<p>We could maybe have two versions of the builtins in the package, both 0.11 and 0.12.</p>



<a name="441591304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591304">(May 31 2024 at 01:21)</a>:</h4>
<p>And we could remove all the non-essential parts and simplify it for platform developers</p>



<a name="441591395"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591395" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591395">(May 31 2024 at 01:22)</a>:</h4>
<p>There's an example glue script and build script in <a href="https://github.com/lukewilliamboswell/roc-platform-template-zig/tree/main">https://github.com/lukewilliamboswell/roc-platform-template-zig/tree/main</a></p>



<a name="441591429"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591429" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591429">(May 31 2024 at 01:22)</a>:</h4>
<p>I'm happy to help as I have time, if it means I get to learn the mysteries of platform development.  As long as you don't mind some questions.</p>



<a name="441591492"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591492" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591492">(May 31 2024 at 01:23)</a>:</h4>
<p>Awesome! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> happy to answer all the questions (as best I can). Hopefully that will help others too, and might help us improve the docs for platform development</p>



<a name="441591589"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591589" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591589">(May 31 2024 at 01:25)</a>:</h4>
<p>Did somebody do something about platform development in one of the meetups sometime in the past year? <br>
Or perhaps was it a stream Brendan did?</p>
<p>I seem to recall that someone did a video session related to platform development, but I've slept since then <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="441591643"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591643" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591643">(May 31 2024 at 01:25)</a>:</h4>
<p>If that exists, I should watch it in case it answers some of my questions.</p>



<a name="441591785"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591785" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591785">(May 31 2024 at 01:26)</a>:</h4>
<p><a href="https://drive.google.com/file/d/1LHaGTKXWhP0N5VvbjkP5k2SazElzrG0D/view?usp=sharing&amp;t=2439">https://drive.google.com/file/d/1LHaGTKXWhP0N5VvbjkP5k2SazElzrG0D/view?usp=sharing&amp;t=2439</a></p>
<p>Yeah that was me. I'm not happy with my presentation -- I was very tired and it shows. But this was the talk.</p>



<a name="441591836"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591836" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591836">(May 31 2024 at 01:27)</a>:</h4>
<p>And here are the slides from my presentation <a href="/user_uploads/22008/SxnK9z_JUjeDLJpdWyWIXUdP/20230525-Roc-Platform-Development-1.pdf">20230525-Roc-Platform-Development.pdf</a> too</p>



<a name="441591860"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591860" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591860">(May 31 2024 at 01:27)</a>:</h4>
<p>Nice! Thanks for digging that up!</p>



<a name="441591862"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441591862" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441591862">(May 31 2024 at 01:27)</a>:</h4>
<p>I've been thinking I should include these somewhere more discoverable... but I'm not sure where that could live</p>



<a name="441592237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592237">(May 31 2024 at 01:31)</a>:</h4>
<p>Ok, so next steps are updating roc-glue-code-gen for Zig 0.12, and then we should be able to generate the files for roc-wasm4. Did I understand that correctly?</p>



<a name="441592243"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592243" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592243">(May 31 2024 at 01:31)</a>:</h4>
<p>The idea behind that glue code gen package is that we can have one place for these glue files to live and then they are automatically generated by build scripts. That will make updates like this easier in future. Ofc, when we made roc-wasm4 we didn't have that, as I only just figured out how to put all this together and made those template repositories</p>



<a name="441592368"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592368" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592368">(May 31 2024 at 01:32)</a>:</h4>
<p>Yeah, it might be easiest just to update in the roc-wasm4, and then once we know its good we can copy and paste into the package and change roc-wasm4 to use a build script to generate these glue files.</p>



<a name="441592477"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592477" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592477">(May 31 2024 at 01:33)</a>:</h4>
<p>Ah, so the generated files wouldn't live in source control anymore for roc-wasm4?</p>



<a name="441592564"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592564" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592564">(May 31 2024 at 01:34)</a>:</h4>
<p>Or would you still commit them?</p>



<a name="441592769"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592769" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592769">(May 31 2024 at 01:36)</a>:</h4>
<p>I'm not 100%, but my understanding is that it is best not to commit auto generated files.</p>



<a name="441592880"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592880" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592880">(May 31 2024 at 01:37)</a>:</h4>
<p>Yeah, that's my instinct as well. Just wanted to confirm I was following. So then the <code>build.zig</code> in roc-wasm4 would run roc glue as part of the build, perhaps?</p>



<a name="441592885"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441592885" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441592885">(May 31 2024 at 01:37)</a>:</h4>
<p>I like that you can just <code>git clone</code> and your off and away, and theres always a script to regenerate them... but I guess it means if there are bug-fixes in the source that wont be reflected unless someone actually regenerates and commits the files</p>



<a name="441593039"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593039" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593039">(May 31 2024 at 01:38)</a>:</h4>
<p>Or perhaps there would be a way to check whether generating glue is necessary? if the glue dir is empty, run <code>roc glue</code>, else assume it's ok.</p>



<a name="441593049"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593049" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593049">(May 31 2024 at 01:39)</a>:</h4>
<p>In the zig platform template I currently have a <code>build.roc</code> which drives everything. I've kind of just settled on that as it feels nice to have all the platforms using roc as the "build" script. But it may make more sense for the zig build system to be in charge</p>



<a name="441593230"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593230" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593230">(May 31 2024 at 01:40)</a>:</h4>
<p>I don't anticipate having any complaints about writing a build script in Roc vs Zig <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> </p>
<p>Would make the experience of developing a game using roc-wasm4 more, uh, roc-y?</p>



<a name="441593314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593314">(May 31 2024 at 01:41)</a>:</h4>
<p>Either way, sounds like there is plenty to do!</p>



<a name="441593768"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593768" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593768">(May 31 2024 at 01:44)</a>:</h4>
<p>I'm not sure whether my changes to the builtins are good, because I'm running into another error. See my comment on the PR regarding the wasm build artifact. I may end up needing help on that one, though it is possible that I'll find the answer in the documentation somewhere on my next go. I'm guessing I'll have more time tomorrow evening.</p>



<a name="441593844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441593844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441593844">(May 31 2024 at 01:45)</a>:</h4>
<p>Any assistance will be most appreciated. I try to just to a little bit here and there, and hopefully together we will be able to build something really nice over time</p>



<a name="441594102"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594102" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594102">(May 31 2024 at 01:46)</a>:</h4>
<p>Your "little bit here and there" seems to be quite a bit relative to the Roc project!</p>



<a name="441594103"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594103" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594103">(May 31 2024 at 01:46)</a>:</h4>
<p>Oh, this is the same issue I am currently stuck on with <a href="https://github.com/lukewilliamboswell/roc-platform-template-wasi">https://github.com/lukewilliamboswell/roc-platform-template-wasi</a></p>



<a name="441594189"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594189" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594189">(May 31 2024 at 01:47)</a>:</h4>
<p>I haven't had a chance to thoroughly investigate though. I think we could keep it as a sharedLibrary for now if that still works?</p>



<a name="441594391"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594391" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594391">(May 31 2024 at 01:48)</a>:</h4>
<p>Let me see, I think I changed it because I got an error about the target not supporting dynamic libs or something?</p>



<a name="441594538"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594538" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594538">(May 31 2024 at 01:50)</a>:</h4>
<p>Brendan left a comment there which is why I suspected that I needed to use <code>addExecutable</code>. But I really have no clue what I'm doing <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="441594839"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441594839" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441594839">(May 31 2024 at 01:52)</a>:</h4>
<p>I'm guessing we want sharedLibrary, would need to dive into wasm4 docs. The <code>b.addExecutable</code> probably instructs zig to build for WASI, but I'm thinking we may not need all that for wasm4 game carts</p>



<a name="441595063"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441595063" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441595063">(May 31 2024 at 01:54)</a>:</h4>
<p>Ah, ok. Because the cart is just a library that W4 links when you run it?</p>



<a name="441595154"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441595154" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441595154">(May 31 2024 at 01:54)</a>:</h4>
<p>Or something like that?</p>



<a name="441595401"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441595401" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441595401">(May 31 2024 at 01:56)</a>:</h4>
<p>Yeah, the wasm4 game engine loads the <code>.wasm</code> file as a game cartidge</p>



<a name="441595620"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441595620" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441595620">(May 31 2024 at 01:58)</a>:</h4>
<p>And a <code>.wasm</code> file is basically a dynamic/shared library. The "exectuable" kind of wasm is basically WASI, and the zig compiler adds additional things so a runtime like wasmer, wasmtime etc will run these like normal programs with access to filesystem and other OS resources just using the zig std library.</p>



<a name="441596429"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441596429" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441596429">(May 31 2024 at 02:05)</a>:</h4>
<p>Ok, I think that makes sense. WASM is simply a binary instruction format. WASI allows wasm instructions to interact with the system. But in the case of W4, we don’t need to interact with the system directly. The W4 runtime takes care of all that.</p>



<a name="441596555"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441596555" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441596555">(May 31 2024 at 02:06)</a>:</h4>
<p>Hence, if we target WASI, the cart will be bloated with things we don’t need.</p>



<a name="441596687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441596687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441596687">(May 31 2024 at 02:07)</a>:</h4>
<p>Yeah, I think so.</p>



<a name="441815825"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441815825" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryce Miller <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441815825">(May 31 2024 at 22:06)</a>:</h4>
<p>Ok, got it working with <code>addExeutable</code> by referencing the zig template generated by w4. This should at least allow us to validate the changes to the builtin files.</p>



<a name="441829695"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441829695" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441829695">(Jun 01 2024 at 00:01)</a>:</h4>
<p>Ah yeah, they changed to add executable in 0.12</p>



<a name="441829707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441829707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441829707">(Jun 01 2024 at 00:01)</a>:</h4>
<p>Forget why it didn't work in 0.11</p>



<a name="441834191"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/441834191" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#441834191">(Jun 01 2024 at 00:40)</a>:</h4>
<p>It seems the solution to my WASI problems and roc linking may be that we need to upgrade roc to 0.12. <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="442127831"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20Wanted%3A%20Update%20roc-wasm4%20zig%20version/near/442127831" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20Wanted.3A.20Update.20roc-wasm4.20zig.20version.html#442127831">(Jun 03 2024 at 01:25)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="522634">@Bryce Miller</span> - zig 12 works well <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
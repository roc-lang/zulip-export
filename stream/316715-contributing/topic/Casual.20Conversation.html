<html>
<head><meta charset="utf-8"><title>Casual Conversation Â· contributing Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html">Casual Conversation</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="402932690"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402932690" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402932690">(Nov 19 2023 at 00:49)</a>:</h4>
<p>Can anyone think of a reason why <code>Stdout.write</code> would flush but <code>Stdout.line</code> doesn't? </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[no_mangle]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="k">fn</span> <span class="nf">roc_fx_stdoutLine</span><span class="p">(</span><span class="n">line</span>: <span class="kp">&amp;</span><span class="nc">RocStr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">as_str</span><span class="p">();</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#[no_mangle]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="k">fn</span> <span class="nf">roc_fx_stdoutWrite</span><span class="p">(</span><span class="n">text</span>: <span class="kp">&amp;</span><span class="nc">RocStr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">.</span><span class="n">as_str</span><span class="p">();</span>
<span class="w">    </span><span class="fm">print!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">stdout</span><span class="p">().</span><span class="n">flush</span><span class="p">().</span><span class="n">unwrap</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>



<a name="402936630"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402936630" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402936630">(Nov 19 2023 at 01:21)</a>:</h4>
<p>Cause somebody needed it to flush for a clic game or something</p>



<a name="402936653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402936653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402936653">(Nov 19 2023 at 01:21)</a>:</h4>
<p>At least, I think that is why</p>



<a name="402936677"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402936677" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402936677">(Nov 19 2023 at 01:21)</a>:</h4>
<p>Probably should add a separate flush effect</p>



<a name="402937168"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402937168" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402937168">(Nov 19 2023 at 01:26)</a>:</h4>
<p>I can do that, just add a separate flush Effect. Would it be acceptable for it to flush stdout and stderr with the same or better to have two separate ones?</p>



<a name="402937193"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402937193" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402937193">(Nov 19 2023 at 01:26)</a>:</h4>
<p>Like <code>Stdout.flush</code> and <code>Stderr.flush</code></p>



<a name="402937749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402937749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402937749">(Nov 19 2023 at 01:31)</a>:</h4>
<p>I guess it should handle the errors too, like if not all bytes could be written due to I/O errors or EOF being reached. So more like <code>Stdout.flush : Task {} [IOError, EOF]</code> or something</p>



<a name="402940787"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402940787" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402940787">(Nov 19 2023 at 01:54)</a>:</h4>
<p>Yeah, should be separate.</p>



<a name="402940852"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402940852" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402940852">(Nov 19 2023 at 01:55)</a>:</h4>
<p>Also, technically even write and line should also have error returns, but I'm not sure what our decision around that for basic CLI was. I think we were ignoring some of those kinds of errors for simplicity of the platform, but I guess it is up to us overall to decide.</p>



<a name="402940885"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402940885" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402940885">(Nov 19 2023 at 01:55)</a>:</h4>
<p>I think for most simple platforms, people just care about std in returning errors so they can recognize eof.</p>



<a name="402940888"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402940888" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402940888">(Nov 19 2023 at 01:55)</a>:</h4>
<p>Currently implementing error handling for flush, would be easy to add RN if we are happy with that API change</p>



<a name="402944435"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402944435" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402944435">(Nov 19 2023 at 02:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="343810">Brendan Hansknecht</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/402940852">said</a>:</p>
<blockquote>
<p>Also, technically even write and line should also have error returns, but I'm not sure what our decision around that for basic CLI was. I think we were ignoring some of those kinds of errors for simplicity of the platform, but I guess it is up to us overall to decide.</p>
</blockquote>
<p>yeah I think if you want to write with error handling, that should be the unusual case</p>



<a name="402944462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402944462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402944462">(Nov 19 2023 at 02:35)</a>:</h4>
<p>it should be supported, but it shouldn't be the default because that's not what people want 99% of the time <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="402944561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402944561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402944561">(Nov 19 2023 at 02:36)</a>:</h4>
<p>Having played with this a bit I think it makes sense. My logic is;</p>
<ol>
<li>We are properly handling errors which could realistically occur</li>
<li>It's pretty much the exact same API but uses <code>Task.attempt</code> instead of <code>Task.await</code>, so we can always just ignore the result if we don't care about it. For example;</li>
</ol>
<div class="codehilite"><pre><span></span><code># Log request date, method and url
date &lt;- Utc.now |&gt; Task.map Utc.toIso8601Str |&gt; Task.await
_ &lt;- Stdout.line &quot;\(date) \(Http.methodToStr req.method) \(req.url)&quot; |&gt; Task.attempt
_ &lt;- Stdout.flush |&gt; Task.attempt
</code></pre></div>



<a name="402945381"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402945381" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402945381">(Nov 19 2023 at 02:42)</a>:</h4>
<p>I'm pretty sure it's normal stdout behavior to automatically flush when it encounters a newline: <a href="https://stackoverflow.com/a/65385249">https://stackoverflow.com/a/65385249</a></p>



<a name="402947724"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402947724" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402947724">(Nov 19 2023 at 02:58)</a>:</h4>
<p>I don't think <code>Stdin.line</code> or <code>Stdin.bytes</code> make sense for basic-webserver context so I am removing these</p>



<a name="402949886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402949886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402949886">(Nov 19 2023 at 03:16)</a>:</h4>
<p>Any idea why this generated glue assertion might be incorrect? Is this an easy fix? <br>
<a href="/user_uploads/22008/SWNj2xEL6Dt-hjy0zaVxYoDe/Screenshot-2023-11-19-at-14.16.02.png">Screenshot-2023-11-19-at-14.16.02.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/SWNj2xEL6Dt-hjy0zaVxYoDe/Screenshot-2023-11-19-at-14.16.02.png" title="Screenshot-2023-11-19-at-14.16.02.png"><img src="/user_uploads/22008/SWNj2xEL6Dt-hjy0zaVxYoDe/Screenshot-2023-11-19-at-14.16.02.png"></a></div>



<a name="402949906"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402949906" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402949906">(Nov 19 2023 at 03:16)</a>:</h4>
<p>My current workaround it to comment out this line for each architecture.</p>



<a name="402949963"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402949963" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402949963">(Nov 19 2023 at 03:17)</a>:</h4>
<p>difference between platforms maybe (I notice you are on aarch)</p>



<a name="402950033"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402950033" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402950033">(Nov 19 2023 at 03:18)</a>:</h4>
<p>That was in the <code>platform/src/glue_manual/src/aarch64.rs</code> file</p>



<a name="402950068"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402950068" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402950068">(Nov 19 2023 at 03:18)</a>:</h4>
<p>I'm working on this <a href="https://github.com/roc-lang/basic-webserver/pull/8">https://github.com/roc-lang/basic-webserver/pull/8</a> PR</p>



<a name="402952613"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402952613" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402952613">(Nov 19 2023 at 03:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/402947724">said</a>:</p>
<blockquote>
<p>I don't think <code>Stdin.line</code> or <code>Stdin.bytes</code> make sense for basic-webserver context so I am removing these</p>
</blockquote>
<p>I don't think <code>Stdin</code> makes sense for basic-webserver in general <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="402960897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402960897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402960897">(Nov 19 2023 at 05:04)</a>:</h4>
<p>Maybe you want to pipe in something to serve? Seems unusual though</p>



<a name="402962655"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402962655" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402962655">(Nov 19 2023 at 05:23)</a>:</h4>
<p>I'm currently coming up against this which is causing me troubles making a RocDict</p>
<div class="codehilite"><pre><span></span><code>impl&lt;K: Hash, V&gt; RocDict&lt;K, V&gt; {
    unsafe fn insert_unchecked(&amp;mut self, _key: K, _val: V) {
        todo!();
    }
}
</code></pre></div>



<a name="402964107"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402964107" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402964107">(Nov 19 2023 at 05:37)</a>:</h4>
<p>I'm going to temporarily change the API for <code>Env.dict : Task (Dict Str Str) *</code> to <code>Env.list: Task (List (Str, Str)) *</code> as a workaround as I have been unable to make a RocDict from rust</p>



<a name="402971266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/402971266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#402971266">(Nov 19 2023 at 06:49)</a>:</h4>
<p>Did we ever implement <code>RocDict</code> in rust?</p>
<p>Aside, Dict may be one of the most painful pieces for platforms/glue to implement. Especially since they have to depend on a ton of implementation details (like the hashing function among others)</p>



<a name="403016663"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/403016663" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> timotree <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#403016663">(Nov 19 2023 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/402932690">said</a>:</p>
<blockquote>
<p>Can anyone think of a reason why <code>Stdout.write</code> would flush but <code>Stdout.line</code> doesn't? </p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[no_mangle]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="k">fn</span> <span class="nf">roc_fx_stdoutLine</span><span class="p">(</span><span class="n">line</span>: <span class="kp">&amp;</span><span class="nc">RocStr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">as_str</span><span class="p">();</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#[no_mangle]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span><span class="w"> </span><span class="k">fn</span> <span class="nf">roc_fx_stdoutWrite</span><span class="p">(</span><span class="n">text</span>: <span class="kp">&amp;</span><span class="nc">RocStr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">.</span><span class="n">as_str</span><span class="p">();</span>
<span class="w">    </span><span class="fm">print!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">stdout</span><span class="p">().</span><span class="n">flush</span><span class="p">().</span><span class="n">unwrap</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Since stdout is line-buffered by default, doesn't <code>println!</code> flush automatically?</p>



<a name="404016695"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404016695" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404016695">(Nov 24 2023 at 20:26)</a>:</h4>
<p>I think <a href="https://github.com/roc-lang/basic-cli/releases/tag/0.6.1">https://github.com/roc-lang/basic-cli/releases/tag/0.6.1</a> somehow regressed, with calls to Http now failing with 301 for some reason... I'm just investigating now</p>



<a name="404016865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404016865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404016865">(Nov 24 2023 at 20:28)</a>:</h4>
<p>I'm wondering if we need to regenerate glue, I do have a PR for that but it hasn't passed CI yet.</p>



<a name="404017084"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404017084" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404017084">(Nov 24 2023 at 20:31)</a>:</h4>
<div class="codehilite"><pre><span></span><code>$ echo &quot;http://roc-lang.org&quot; | roc run examples/http-get.roc
ðŸ”¨ Rebuilding platform...
Enter a URL to fetch. It must contain a scheme like &quot;http://&quot; or &quot;https://&quot;.
Request failed with status 301
</code></pre></div>



<a name="404017400"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404017400" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404017400">(Nov 24 2023 at 20:35)</a>:</h4>
<p>Building from source it works just fine for me</p>



<a name="404017469"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404017469" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404017469">(Nov 24 2023 at 20:36)</a>:</h4>
<p>301 is expected for <code>http://roc-lang.org</code> it is redirecting to <code>https://www.roc-lang.org</code></p>



<a name="404018389"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404018389" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404018389">(Nov 24 2023 at 20:48)</a>:</h4>
<p>I get the same with "echo <code>http://www.roc-lang.org" | roc run examples/http-get.roc</code></p>



<a name="404018422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404018422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404018422">(Nov 24 2023 at 20:49)</a>:</h4>
<p><span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="404018434"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404018434" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404018434">(Nov 24 2023 at 20:49)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span></p>



<a name="404018603"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/404018603" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#404018603">(Nov 24 2023 at 20:51)</a>:</h4>
<p>I hadn't paid enough attention to the <code>http</code> vs <code>https</code> too. Also, there was a bug in the way I was using <code>Dir.list</code>.</p>



<a name="413072169"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/413072169" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#413072169">(Jan 16 2024 at 03:19)</a>:</h4>
<p>I found this <a href="https://sans-io.readthedocs.io/">https://sans-io.readthedocs.io/</a> and thought it may be a good reference for future implementations in pure Roc.</p>



<a name="416675309"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/416675309" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#416675309">(Jan 19 2024 at 00:29)</a>:</h4>
<p>There is an issue <a href="https://github.com/roc-lang/basic-webserver/actions/runs/7577479595/job/20638360851?pr=19">in basic-webserver CI</a> I haven't seen before -- it should be totally unrelated to the changes in that PR. The surgical linker is unhappy with <code>__umodti3</code>. I've had a quick look and haven't resolved yet, posting here in case anyone else is able to look at this further. I'll circle back later, but want to progress some other things rn.</p>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;Undefined Symbol in relocation, (+4ef2, Relocation { kind: PltRelative, encoding: Generic, size: +20, target: Symbol(SymbolIndex(+88)), addend: +fffffffffffffffc, implicit_addend: false }): Ok(Symbol { name: &quot;__umodti3&quot;, address: +0, size: +0, kind: Unknown, section: Undefined, scope: Unknown, weak: false, flags: Elf { st_info: +10, st_other: +0 } })&#39;, crates/linker/src/elf.rs:1486:25
</code></pre></div>



<a name="417568139"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/417568139" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#417568139">(Jan 24 2024 at 03:16)</a>:</h4>
<p>I cannot reproduce the failures in CI for <a href="https://github.com/roc-lang/roc/pull/6415">https://github.com/roc-lang/roc/pull/6415</a></p>



<a name="417568163"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/417568163" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#417568163">(Jan 24 2024 at 03:16)</a>:</h4>
<p>I've tried all kinds of different things, am tempted to try re-run CI and maybe that will resolve things? otherwise I'm out of ideas</p>



<a name="422133264"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/422133264" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#422133264">(Feb 18 2024 at 22:07)</a>:</h4>
<p>27 messages were moved from this topic to <a class="stream-topic" data-stream-id="304641" href="/#narrow/stream/304641-ideas/topic/package.20shorthands.20when.20compiling.20interface.20modules">#ideas &gt; package shorthands when compiling interface modules</a> by <span class="user-mention silent" data-user-id="281383">Richard Feldman</span>.</p>



<a name="424161465"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/424161465" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trevor Settles <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#424161465">(Mar 01 2024 at 05:08)</a>:</h4>
<p>I've been looking at fixing a bug regarding <a href="https://github.com/roc-lang/roc/issues/6532">aliasing option record fields</a>. The core of this seems to be a parsing error. I've read through the parser file, but still not sure how to modify the parser (and any implications after that). Are there any other places I can read to get some more context on how to implement this fix?</p>



<a name="424166649"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/424166649" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#424166649">(Mar 01 2024 at 06:21)</a>:</h4>
<p>I am not very educated on the parser, but the root of the issue is here: <a href="https://github.com/roc-lang/roc/blob/9bf57d63370f69093c5ce2660d39cafe9a424aa7/crates/compiler/parse/src/pattern.rs#L494-L500">https://github.com/roc-lang/roc/blob/9bf57d63370f69093c5ce2660d39cafe9a424aa7/crates/compiler/parse/src/pattern.rs#L494-L500</a></p>



<a name="424166749"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/424166749" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#424166749">(Mar 01 2024 at 06:22)</a>:</h4>
<p>You can see that it is select either of the two instead of optionally  accepting <code>:</code> and then optionally accepting <code>?</code></p>



<a name="424167222"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/424167222" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#424167222">(Mar 01 2024 at 06:28)</a>:</h4>
<p>If I understand correctly, which id definitely might not, I think the changes would just be parser local. Cause you are just changing the variable name of the parser output when renaming and optional</p>



<a name="448999976"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/448999976" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#448999976">(Jul 04 2024 at 04:44)</a>:</h4>
<p>Checkout the <span aria-label="cool" class="emoji emoji-1f192" role="img" title="cool">:cool:</span> diagram I made for my basic-cli build script <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span> </p>
<p><a href="https://github.com/roc-lang/basic-cli/tree/refactor-host?tab=readme-ov-file#building-the-platform">https://github.com/roc-lang/basic-cli/tree/refactor-host?tab=readme-ov-file#building-the-platform</a></p>



<a name="449003186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449003186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449003186">(Jul 04 2024 at 05:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/448999976">said</a>:</p>
<blockquote>
<p>Checkout the <span aria-label="cool" class="emoji emoji-1f192" role="img" title="cool">:cool:</span> diagram I made for my basic-cli build script <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span> </p>
<p><a href="https://github.com/roc-lang/basic-cli/tree/refactor-host?tab=readme-ov-file#building-the-platform">https://github.com/roc-lang/basic-cli/tree/refactor-host?tab=readme-ov-file#building-the-platform</a></p>
</blockquote>
<p>What did you make it with?</p>



<a name="449003202"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449003202" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449003202">(Jul 04 2024 at 05:11)</a>:</h4>
<p>PowerPoint</p>



<a name="449003219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449003219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449003219">(Jul 04 2024 at 05:11)</a>:</h4>
<p>Classic</p>



<a name="449129928"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449129928" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trevor Settles <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449129928">(Jul 04 2024 at 16:49)</a>:</h4>
<p>Quite helpful! That looks familiar. Was tat from one your your recent meetup presentations?</p>



<a name="449177548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449177548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449177548">(Jul 04 2024 at 23:15)</a>:</h4>
<p>No, I just put it together yesterday for Anton. He wanted something for the new basic-cli. I've got a PR that should hopefully land soon which refactors the rust code out into crates from the roc platform code. So to build the platform we use rust's cargo toolchain. I added a build script using (ironically a release of) basic-cli to drive all the different steps. </p>
<p>This is in preparation for removing the platform rebuilding from the roc cli. Platforms should be responsible for building the binaries for their host using the native toolchains, i.e. zig, cargo, etc. Roc shouldn't need to have dependencies on any of this. Roc should only need to understand how to link the host binaries using one of the linkers (legacy, additive or surgical).</p>



<a name="449182697"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449182697" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449182697">(Jul 05 2024 at 00:04)</a>:</h4>
<p>FYI -- I've got family staying with me this weekend (including 4x under the age of 5) so I don't expect I'll get much time to dig into to roc things. <span aria-label="beach umbrella" class="emoji emoji-26f1" role="img" title="beach umbrella">:beach_umbrella:</span></p>



<a name="449183204"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/449183204" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#449183204">(Jul 05 2024 at 00:07)</a>:</h4>
<p>nice, enjoy the family time! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="450046747"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/450046747" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#450046747">(Jul 09 2024 at 03:30)</a>:</h4>
<p>Git noob question -- can anyone tell me why this PR has a bunch of unrelated commits in the history in GH? <a href="https://github.com/roc-lang/roc/pull/6859">https://github.com/roc-lang/roc/pull/6859</a></p>



<a name="450049250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/450049250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#450049250">(Jul 09 2024 at 03:39)</a>:</h4>
<p>I suspect it is because I merged in remote/main. But those other commits are from previous PR's that have been merged already</p>



<a name="450051029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/450051029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#450051029">(Jul 09 2024 at 03:46)</a>:</h4>
<p>This is why I hate merge and always rebase if possible</p>



<a name="450051083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/450051083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#450051083">(Jul 09 2024 at 03:47)</a>:</h4>
<p>I just did something super ugly, and rebased then squished</p>



<a name="450051094"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/450051094" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#450051094">(Jul 09 2024 at 03:47)</a>:</h4>
<p>Seems to be happy now</p>



<a name="456973397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456973397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456973397">(Aug 06 2024 at 23:04)</a>:</h4>
<p>How do we feel about using resources from a CDN for examples? </p>
<p>I was thinking of adding a small text editor example to basic-webserver using htmx and <a href="https://quilljs.com">quilljs</a>, with the sqlite backend.</p>



<a name="456973451"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456973451" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456973451">(Aug 06 2024 at 23:05)</a>:</h4>
<p>The examples should be reflective of how we think people would write real-life Roc code, just smaller. If you think it's better for someone to depend on a CDN instead of including the files in the Roc binary, then that works for me.</p>



<a name="456973561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456973561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456973561">(Aug 06 2024 at 23:06)</a>:</h4>
<p>It seems like that would be useful if they want to keep a smaller binary size.</p>



<a name="456973620"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456973620" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456973620">(Aug 06 2024 at 23:07)</a>:</h4>
<p>The other place this kind of example could live is in roc-lang/examples. It's not necessarily specific to basic-webserver in that it brings in other resources and is somewhat opinionated about how to do things (htmx, quill etc), so just demonstrates one way to do things.</p>



<a name="456973723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456973723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456973723">(Aug 06 2024 at 23:08)</a>:</h4>
<p>If I'm getting super excited I might even pull in tailwindcss from a CDN to make it look ok</p>



<a name="456974121"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456974121" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456974121">(Aug 06 2024 at 23:13)</a>:</h4>
<p>Or I guess I could just make it a blog post. I'm not sure how we'd make an expect test for this in CI -- and it's more stuff to maintain.</p>



<a name="456977559"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456977559" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456977559">(Aug 06 2024 at 23:53)</a>:</h4>
<p>can we just host them on GH pages in one of our repos or something?</p>



<a name="456977570"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456977570" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456977570">(Aug 06 2024 at 23:53)</a>:</h4>
<p>so it's a CDN but it's a CDN we know isn't going to 404 without our knowing about it <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="456977830"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456977830" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456977830">(Aug 06 2024 at 23:56)</a>:</h4>
<p>I could add them to the static files hosted on the roc website.</p>



<a name="456977947"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456977947" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456977947">(Aug 06 2024 at 23:58)</a>:</h4>
<p>If we do that, it would make more sense for this kind of example to live in roc-lang/examples</p>



<a name="456978001"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456978001" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456978001">(Aug 06 2024 at 23:59)</a>:</h4>
<p>I just don't know if we want an example like this and have the additional burden of maintaining it.</p>
<p>I could just make a blog post, and then we link it under "external" examples.</p>



<a name="456978025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456978025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456978025">(Aug 06 2024 at 23:59)</a>:</h4>
<p>How do we draw that line?</p>



<a name="456978200"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/456978200" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#456978200">(Aug 07 2024 at 00:00)</a>:</h4>
<p>external seems fine for now I guess, as long as we're using a CDN that seems likely to be up for a long time</p>



<a name="457072579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/457072579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#457072579">(Aug 07 2024 at 10:19)</a>:</h4>
<blockquote>
<p>small text editor example to basic-webserver using htmx and <a href="https://quilljs.com/">quilljs</a>, with the sqlite backend.</p>
</blockquote>
<p>This seems quite niche, I would put it in its own repo and link to it on roc-awesome</p>



<a name="457073227"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/457073227" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#457073227">(Aug 07 2024 at 10:23)</a>:</h4>
<p>Turned out to be really simple, and quite small. So I just shared in a gist in show and tell.</p>



<a name="457093205"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/457093205" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#457093205">(Aug 07 2024 at 12:11)</a>:</h4>
<p>In Germany and Austria, we had programs, that people, that used Google fonds from the Google servers got sued for privacy reasons. The cases came to a good end. But it is still not decided, if it is legal in Europe to use Google fonts or for the same reason a CDN, when the data is processed outside of Europe.</p>
<p>I had cases in my circle of friends, where they got an "Abmahnung". (I have no idea how to translate this. This is a really problematic legal construct we have here.) I am absolutely sure, that a high Court will allow CDNs, but I don't want to be the person, that has to go to court for that. So I removed all CDNs from all my pages. I also know from companies, where they had to remove them.</p>
<p>So if it's possible, I would always advise people in Germany not to use a CDN and ship the files by their own service.</p>



<a name="457093908"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/457093908" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#457093908">(Aug 07 2024 at 12:14)</a>:</h4>
<blockquote>
<p>"Abmahnung"</p>
</blockquote>
<p>We have a Dutch word for that as well, perhaps this is similar to a "Cease and Desist"?</p>



<a name="457107494"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/457107494" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oskar Hahn <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#457107494">(Aug 07 2024 at 13:18)</a>:</h4>
<p>Maybe. An "Abmahnung" is a letter from a lawyer, which is so friendly to inform you, that you are doing something wrong. You should sign a declaration, that you will not do this again in the future. And you should also pay the bill of the lawyer. This may not be a big problem for companies, but it is for people and small charity organizations. A lot of them are doing what the laws say and are paying the bill. So there are lawyers that have built their business model on this system. We even have a word for that "Abmahnindustrie" maybe ChatGPT can explain it better</p>



<a name="459941367"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/459941367" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#459941367">(Aug 11 2024 at 20:32)</a>:</h4>
<p>Speaking of CDNs<br>
<a href="https://httptoolkit.com/blog/public-cdn-risks/">https://httptoolkit.com/blog/public-cdn-risks/</a></p>



<a name="465405798"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/465405798" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#465405798">(Aug 27 2024 at 10:44)</a>:</h4>
<p>Have we seen this before on linux x86? Just doing a fresh install of my server and building from source</p>
<div class="codehilite"><pre><span></span><code>  = note: /usr/bin/ld: cannot find -lz: No such file or directory
          /usr/bin/ld: cannot find -lzstd: No such file or directory
          collect2: error: ld returned 1 exit status
</code></pre></div>



<a name="465405836"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/465405836" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#465405836">(Aug 27 2024 at 10:45)</a>:</h4>
<p>(deleted)</p>



<a name="465407244"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/465407244" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#465407244">(Aug 27 2024 at 10:51)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> </p>
<div class="codehilite"><pre><span></span><code>$ sudo apt install libz-dev libzstd-dev
</code></pre></div>
<p>Seems to have worked ok and given me the correct dependencies... is this worth adding to the getting started guide for linux?</p>



<a name="465419162"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/465419162" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#465419162">(Aug 27 2024 at 11:39)</a>:</h4>
<p>The getting started page is targeted towards Roc users using the nightly releases, I would add it to BUILDING_FROM_SOURCE.md</p>



<a name="473403623"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473403623" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473403623">(Sep 29 2024 at 02:29)</a>:</h4>
<p>Not really something to open a new thread about, but I thought I would share that I spent some time today updating my <a href="https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo/tree/main">https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo/tree/main</a> demo -- it's now working again.</p>
<p>I encountered a number of compiler bugs along the way which made the process challenging. </p>
<p>One example is that I've stripped out the Session management as that was giving me grief and responsible for an error in alias analysis bug somewhere. </p>
<p>Also, <a href="https://github.com/roc-lang/roc/issues/7127">this bug</a> currently prevents Isaac's RTL from finishing which needs to be manually worked around.</p>
<p>I don't have any specific issue here to resolve or anything, but more a general observation that the experience wasn't great with our current state.</p>



<a name="473403716"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473403716" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473403716">(Sep 29 2024 at 02:30)</a>:</h4>
<p>I like coming back to this demo and using it to help find bugs and test changes.</p>



<a name="473403962"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473403962" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473403962">(Sep 29 2024 at 02:35)</a>:</h4>
<p>relatedly, I have a mostly working (with some gaps; it's not all the way there yet) implementation of Ayaz's standalone monomorphization-of-types pass, which is part 1 of the new lambda sets overhaul</p>
<p>gives a pretty amusing overview of the magnitude of difference between proof-of-concept OCaml and production Rust implementation <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> </p>
<ul>
<li><a href="https://github.com/ayazhafiz/cor/blob/b67174d98b6dde16809b3606f9f88d4863d8743f/experiments/lss/monotype/lower_type.ml">working OCaml proof-of-concept</a></li>
<li><a href="https://github.com/roc-lang/roc/compare/specialize-types">mostly-done Rust implementation</a></li>
</ul>
<p>(most of the difference is just in the proof-of-concept type system being intentionally way simpler)</p>



<a name="473404043"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404043" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404043">(Sep 29 2024 at 02:36)</a>:</h4>
<p>also I'm trying out a new "never panic" strategy for dealing with errors: everything takes a <code>problems: &amp;mut Vec&lt;Problem&gt;</code> and if something happens that's definitely a compiler bug, we just push into there and continue as best we can</p>



<a name="473404059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404059">(Sep 29 2024 at 02:37)</a>:</h4>
<p>if all the passes end up doing that strategy, then we won't have any compiler panics, and even if there are bugs, you'll still get some partial (and hopefully helpful enough to unblock you) errors because we won't have panicked prior to the reporting step</p>



<a name="473404070"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404070" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404070">(Sep 29 2024 at 02:38)</a>:</h4>
<p>Will also make tracking them down and fixing much easier I imagine</p>



<a name="473404113"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404113" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404113">(Sep 29 2024 at 02:38)</a>:</h4>
<p>maybe haha...right now they aren't including much context, but in the future we could throw a backtrace in there or something</p>



<a name="473404130"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404130" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404130">(Sep 29 2024 at 02:38)</a>:</h4>
<p>mainly I'm just trying to make it so they don't panic, but do record where the problem is so we have <em>some</em> way of handling it better down the line</p>



<a name="473404147"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404147" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404147">(Sep 29 2024 at 02:39)</a>:</h4>
<p>I guess I'm thinking we wont be throwing away the previous problems we've collected which may be useful for the user to fix also</p>



<a name="473404266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Kramer <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404266">(Sep 29 2024 at 02:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/473403623">said</a>:</p>
<blockquote>
<p>Not really something to open a new thread about, but I thought I would share that I spent some time today updating my <a href="https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo/tree/main">https://github.com/lukewilliamboswell/roc-htmx-tailwindcss-demo/tree/main</a> demo -- it's now working again.</p>
</blockquote>
<p>It's a cool demo, I've been trying to find a way into Roc and I was taking a look at it last night, even though it was in a kind of broken state it was fun to play around with.</p>



<a name="473404355"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404355" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404355">(Sep 29 2024 at 02:43)</a>:</h4>
<p>Glad you enjoyed looking at it. There's a bunch of things in there now I'm looking at it I'd like to improve. When I last really touched it, was before module params... so I think there is plenty of space to explore with refactoring to use those better.</p>



<a name="473404375"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404375" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404375">(Sep 29 2024 at 02:43)</a>:</h4>
<p>I've also used it to find API designs for basic-webserver... it's good to have a larger app to help find which helpers or types we might want to include in the platform.</p>



<a name="473404409"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404409" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Kramer <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404409">(Sep 29 2024 at 02:44)</a>:</h4>
<p>I'll have to look into module params. <span aria-label="note" class="emoji emoji-1f4dd" role="img" title="note">:note:</span> <br>
Question, is there a way to get the LSP to show autocomplete suggestions for package imports? or does that require changes to the LSP</p>



<a name="473404473"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404473" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404473">(Sep 29 2024 at 02:45)</a>:</h4>
<p>I'm not sure, I know we've discussed in zulip at some point. <span class="user-mention" data-user-id="651372">@Eli Dowling</span> would probably know I think. </p>
<p>It may be something specific to an editor though. I'm not familiar with the LSP api myself</p>



<a name="473404997"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473404997" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473404997">(Sep 29 2024 at 02:55)</a>:</h4>
<blockquote>
<p>Convert a type-checked canonical IR to a monomorphized IR by creating specializations of all functions, such that they are monomorphic in types</p>
</blockquote>
<p>Just to check my understanding. After this we have no type variables, the functions are duplicated (specialized) for each possible combination of types that is used.</p>



<a name="473405080"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473405080" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473405080">(Sep 29 2024 at 02:56)</a>:</h4>
<p>correct</p>



<a name="473405497"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473405497" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473405497">(Sep 29 2024 at 03:03)</a>:</h4>
<p>Just trying to follow this from a high level --- I can see we have the Subs types in <code>crates/compiler/types/src/subs.rs</code>, does the Mono IR (monomorphized IR) referred to  here also use these same types?</p>
<p><a href="/user_uploads/22008/OOr0eFCWpi-oJWnPfmAXuU75/Screenshot-2024-09-29-at-13.00.11.png">Screenshot 2024-09-29 at 13.00.11.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/OOr0eFCWpi-oJWnPfmAXuU75/Screenshot-2024-09-29-at-13.00.11.png" title="Screenshot 2024-09-29 at 13.00.11.png"><img data-original-dimensions="1290x348" src="/user_uploads/thumbnail/22008/OOr0eFCWpi-oJWnPfmAXuU75/Screenshot-2024-09-29-at-13.00.11.png/840x560.webp"></a></div>



<a name="473405640"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473405640" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473405640">(Sep 29 2024 at 03:05)</a>:</h4>
<p>I'm guessing mono is in <code>crates/compiler/mono/src/ir.rs</code></p>



<a name="473409948"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473409948" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473409948">(Sep 29 2024 at 04:21)</a>:</h4>
<p>In <a href="https://github.com/roc-lang/roc/pull/7130">https://github.com/roc-lang/roc/pull/7130</a> snobee asks for clarification </p>
<blockquote>
<p>I'm making some assumptions here that I wanted to confirm:<br>
1. All definitions begin at the start of a line<br>
2. The left side of a type annotation is the exact same as the left side of a definition</p>
</blockquote>
<p>This sounds correct to me. Just wanted to ask here too.</p>



<a name="473413881"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473413881" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473413881">(Sep 29 2024 at 05:20)</a>:</h4>
<p>I believe that's correct</p>



<a name="473413904"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473413904" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473413904">(Sep 29 2024 at 05:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/473405497">said</a>:</p>
<blockquote>
<p>Just trying to follow this from a high level --- I can see we have the Subs types in <code>crates/compiler/types/src/subs.rs</code>, does the Mono IR (monomorphized IR) referred to  here also use these same types?</p>
<p><a href="/user_uploads/22008/OOr0eFCWpi-oJWnPfmAXuU75/Screenshot-2024-09-29-at-13.00.11.png">Screenshot 2024-09-29 at 13.00.11.png</a></p>
</blockquote>
<p>No, the type representation is different between mono and the earlier stages</p>



<a name="473413926"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473413926" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473413926">(Sep 29 2024 at 05:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/473404473">said</a>:</p>
<blockquote>
<p>I'm not sure, I know we've discussed in zulip at some point. <span class="user-mention silent" data-user-id="651372">Eli Dowling</span> would probably know I think. </p>
<p>It may be something specific to an editor though. I'm not familiar with the LSP api myself</p>
</blockquote>
<p>That does indeed require changes to the lsp. It's been a while since I looked at it, but from my memory the main issue was that before module Params and the changes to roc project structure that came with it, there wasn't a good way by default to find which file was the "root/module entry" of a project which made it mostly impossible to resolve what packages should be available in a particular file. </p>
<p>But I believe that should be sorted now, so it's definitely something that could be implemented!</p>
<p>There is kind of a uniform path for all the data to get into the lang-server from the compiler, and one section where we look for all the possible completions in the current scope. <br>
Again, just a guess, but adding it would be a matter of:</p>
<ul>
<li>add the extra data into the struct the Lang server gets form the compiler</li>
<li>maybe do a little bit of processing to get the data into the right shape to get completions from it.</li>
<li>add that new data source to the completion list generator. </li>
</ul>
<p>If you wanted to take a look, my suggestion is follow how we get in file completion vs imported completions.</p>
<p>The main process when doing the actual completion is:<br>
Figure out we are inside a package import using the ast (similar to how we find what completion are available at the current scope. </p>
<p>Perform a lookup that's similar to the current imported completions, but instead search all packages instead of ones we've already imported.</p>
<p><span class="user-mention" data-user-id="452796">@Nathan Kramer</span> if you wanted to take a crack at it, I'd be very happy to advise. I've been meaning to write some better docs for the lsp code anyway :)</p>



<a name="473417635"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473417635" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Kramer <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473417635">(Sep 29 2024 at 06:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="651372">Eli Dowling</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/473413926">said</a>:</p>
<blockquote>
<p>@Nathan Kramer if you wanted to take a crack at it, I'd be very happy to advise. I've been meaning to write some better docs for the lsp code anyway :)</p>
</blockquote>
<p>I think it's a bit outside the scope of my competence... I don't know rust <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> <br>
Appreciate you taking the time to write out these thoughts, maybe I can work my way up to something like that!</p>



<a name="473417869"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/473417869" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eli Dowling <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#473417869">(Sep 29 2024 at 06:20)</a>:</h4>
<p>Hahah, I see. Yeah, learning rust is certainly a bit of a hurdle to get over. Obviously I misunderstood <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="477549223"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477549223" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477549223">(Oct 18 2024 at 01:27)</a>:</h4>
<p>I go to clean up 1 thing... and end up cleaning up 5 others... and I still haven't yet got back to the thing I started with. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> </p>
<p>I've implemented a few fixes for basic-webserver... and then to test it I thought I'd use the htmx example, and next thing I know I'm updating roc-ansi and random other things.</p>



<a name="477552713"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477552713" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477552713">(Oct 18 2024 at 02:09)</a>:</h4>
<p>It takes some discipline to not clean up 40 things at once, but it's not like any of us are complaining when you do it!</p>



<a name="477553068"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553068" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553068">(Oct 18 2024 at 02:12)</a>:</h4>
<p><span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> -- I'm made that change to basic-webserver using a tag union for the method. I'm getting a segfault though. </p>
<p>I'm thinking I should we might be able to make some unit tests to be sure it's working correctly, but also help isolate the bug. I'm going to try that.</p>



<a name="477553145"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553145" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553145">(Oct 18 2024 at 02:13)</a>:</h4>
<p>Here's the glue module I've got so far <a href="https://gist.github.com/lukewilliamboswell/e13968df1b305288555cbdadf84a9078">https://gist.github.com/lukewilliamboswell/e13968df1b305288555cbdadf84a9078</a></p>



<a name="477553453"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553453" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553453">(Oct 18 2024 at 02:16)</a>:</h4>
<p>Lol, immediately after I wrote this, I think I realised a way we could dramatically simplify the glue. Move the RocStr value up into the <code>RequestToAndFromHost</code> struct. It'll be empty most of the time but that ok. </p>
<p>Is there some way we can have an <code>Option&lt;xxx&gt;</code> in a Roc record so we're not allocating an empty string?</p>



<a name="477553544"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553544" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553544">(Oct 18 2024 at 02:17)</a>:</h4>
<p>Empty strings don't allocate</p>



<a name="477553571"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553571" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553571">(Oct 18 2024 at 02:17)</a>:</h4>
<p>So should be fine to just leave the string in</p>



<a name="477553725"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553725" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553725">(Oct 18 2024 at 02:18)</a>:</h4>
<p>Hmm. the problem though with this plan, is that then we introduce a deep copy for every request&amp;response pair becuase now the platform will translate between the host version and what the app sees</p>



<a name="477553791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477553791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477553791">(Oct 18 2024 at 02:19)</a>:</h4>
<p>I think we might be doing that everytime anyway</p>



<a name="477557181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/477557181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#477557181">(Oct 18 2024 at 02:44)</a>:</h4>
<p>Yeah, I'm ditching this plan. It's just a bit too fragile and I want to move on.</p>



<a name="483815508"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483815508" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483815508">(Nov 22 2024 at 00:41)</a>:</h4>
<p>Is there anyone online who has an Intel mac and would be free to help me with something?</p>



<a name="483815656"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483815656" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483815656">(Nov 22 2024 at 00:42)</a>:</h4>
<p>Juts going back and forwards on this PR <a href="https://github.com/lukewilliamboswell/roc-platform-template-zig/pull/3">https://github.com/lukewilliamboswell/roc-platform-template-zig/pull/3</a>  with CI, I think I've found a fix, but then every time I have to wait for Nix to do it's thing which takes a while.</p>



<a name="483815680"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483815680" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483815680">(Nov 22 2024 at 00:43)</a>:</h4>
<p>I could probably make my life easier if I just used a nightly... but where's the fun in that</p>



<a name="483820935"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483820935" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483820935">(Nov 22 2024 at 01:42)</a>:</h4>
<p>All good now... figured it out</p>



<a name="483823968"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483823968" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483823968">(Nov 22 2024 at 02:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/483815508">said</a>:</p>
<blockquote>
<p>Is there anyone online who has an Intel mac and would be free to help me with something?</p>
</blockquote>
<p>I think <span class="user-mention" data-user-id="281543">@Folkert de Vries</span> has one if I remember right! <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="483824037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483824037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483824037">(Nov 22 2024 at 02:18)</a>:</h4>
<p>oh nm glad it worked out!</p>



<a name="483824090"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483824090" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483824090">(Nov 22 2024 at 02:19)</a>:</h4>
<p>Yeah, I figured out how to make a nice GH matrix runner that tests the platform against most of the roc supported os/archs</p>



<a name="483824156"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483824156" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483824156">(Nov 22 2024 at 02:19)</a>:</h4>
<p>Between that and nix, I'm pretty happy with the coverage</p>



<a name="483896913"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483896913" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483896913">(Nov 22 2024 at 12:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/465405798">said</a>:</p>
<blockquote>
<p>Have we seen this before on linux x86? Just doing a fresh install of my server and building from source</p>
<p><div class="codehilite"><pre><span></span><code>  = note: /usr/bin/ld: cannot find -lz: No such file or directory
          /usr/bin/ld: cannot find -lzstd: No such file or directory
          collect2: error: ld returned 1 exit status
</code></pre></div><br>
</p>
</blockquote>
<p>I'm seeing a similar error on MacOS (with M1 Pro). </p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>  = note: ld: library not found for -lzstd
          clang: error: linker command failed with exit code 1 (use -v to see invocation)


error: could not compile `roc_cli` (bin "roc") due to 1 previous error
</code></pre></div>
<p>I have zstd installed, and have even tried adding it's path to LDFLAGS, no dice.  Anyone seen that before?</p>



<a name="483900021"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483900021" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483900021">(Nov 22 2024 at 12:26)</a>:</h4>
<p>And I'm sorry, but I don't have the time to grok everything nix wants to do to my system, so I don't plan on installing it</p>



<a name="483901537"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483901537" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483901537">(Nov 22 2024 at 12:35)</a>:</h4>
<blockquote>
<p>I have zstd installed, and have even tried adding it's path to LDFLAGS, no dice. Anyone seen that before?</p>
</blockquote>
<p>Can you tell me the path where zstd is installed?</p>



<a name="483901800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483901800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483901800">(Nov 22 2024 at 12:36)</a>:</h4>
<blockquote>
<p>but I don't have the time to grok everything nix wants to do to my system</p>
</blockquote>
<p>I've never experienced any problems after installing nix but I understand the desire to know everything it does.</p>



<a name="483920348"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483920348" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483920348">(Nov 22 2024 at 14:16)</a>:</h4>
<p>It's <code>/opt/homebrew/opt/zstd</code> which is a symlink to <code>/opt/homebrew/Cellar/zstd/1.5.6</code></p>



<a name="483920609"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483920609" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483920609">(Nov 22 2024 at 14:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/483901800">said</a>:</p>
<blockquote>
<blockquote>
<p>but I don't have the time to grok everything nix wants to do to my system</p>
</blockquote>
<p>I've never experience any problems after installing nix but I understand the desire to know everything it does.</p>
</blockquote>
<p>Yeah, just going through the installer it talks about adding users and groups and a top level directory and more.  I just need to spend some time eventually to get it.  I know some people I trust use it and love it.</p>



<a name="483921310"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483921310" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483921310">(Nov 22 2024 at 14:21)</a>:</h4>
<p>I've tried</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">"-L/usr/local/opt/llvm/lib,-L/opt/homebrew/opt,-rpath,/usr/local/opt/llvm/lib"</span>
</code></pre></div>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">"-L/usr/local/opt/llvm/lib,-L/opt/homebrew/Cellar/zstd/1.5.6,-rpath,/usr/local/opt/llvm/lib"</span>
</code></pre></div>
<p>And then both of those with -Wl put in various places (which yes, means I don't understand <code>ld</code> very well even though I read the entire man page).</p>



<a name="483921970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483921970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483921970">(Nov 22 2024 at 14:24)</a>:</h4>
<p>Also tried paring down LDFLAGS to just <code>-L/opt/homebrew/opt</code> OR <code>-L/opt/homebrew/Cellar/zstd/1.5.6</code> and no dice</p>



<a name="483922589"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483922589" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483922589">(Nov 22 2024 at 14:27)</a>:</h4>
<p>Running <code>find / -name zstd</code> I see that I have it also in a few Go packages, in some Cargo crates, and in Go itself</p>



<a name="483923681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483923681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483923681">(Nov 22 2024 at 14:32)</a>:</h4>
<p>I'll check and compare on my mac in a bit</p>



<a name="483923844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483923844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483923844">(Nov 22 2024 at 14:33)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="361169">@Anton</span> I figured it out.  Did some searching on here and found another thread from <span class="user-mention" data-user-id="515757">@Luke Boswell</span> about this.  I needed:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">LIBRARY_PATH</span><span class="o">=</span><span class="s2">"/opt/homebrew/Cellar/zstd/1.5.6/lib"</span>
</code></pre></div>



<a name="483923925"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483923925" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483923925">(Nov 22 2024 at 14:33)</a>:</h4>
<p>Had nothing to do with LDFLAGS.  Don't worry, that was only an hour of my life wasted <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span></p>



<a name="483924016"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483924016" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483924016">(Nov 22 2024 at 14:34)</a>:</h4>
<p>Maybe we should add this to the BUILDING_FROM_SOURCE.md file?</p>



<a name="483924248"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483924248" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483924248">(Nov 22 2024 at 14:35)</a>:</h4>
<p>It was right in the github workflow for macos apple silicon.... <span aria-label="man facepalming" class="emoji emoji-1f926-200d-2642" role="img" title="man facepalming">:man_facepalming:</span></p>



<a name="483924994"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483924994" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483924994">(Nov 22 2024 at 14:40)</a>:</h4>
<p>I thought we removed the zstd dependency <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="483925038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483925038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483925038">(Nov 22 2024 at 14:40)</a>:</h4>
<p>maybe that was something else?</p>



<a name="483925761"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483925761" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483925761">(Nov 22 2024 at 14:44)</a>:</h4>
<p>In good news, from my local repl:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>Â» this_should_work = 1

1 : Num *
Â» holy_hell = "This worked"

"This worked" : Str
Â» repl_is_slow = True

True : [True]
Â» bad_tag = Yuck_This_Is_God_Awful

â”€â”€ SYNTAX PROBLEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Underscores are not allowed in tag or opaque ref names:

10â”‚      bad_tag = Yuck_This_Is_God_Awful
                   ^^^^^^^^^^^^^^^^^^^^^^

I recommend using PascalCase. It's the standard style in Roc code!

Â» bad_ref = @Yuck_This_Is_God_Awful

â”€â”€ SYNTAX PROBLEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Underscores are not allowed in tag or opaque ref names:

12â”‚      bad_ref = @Yuck_This_Is_God_Awful
                   ^^^^^^^^^^^^^^^^^^^^^^^

I recommend using PascalCase. It's the standard style in Roc code!
</code></pre></div>



<a name="483925977"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483925977" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483925977">(Nov 22 2024 at 14:45)</a>:</h4>
<p>And</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>Â» how_about___this_kind_thing = 42

â”€â”€ NAMING PROBLEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

I am trying to parse an identifier here:

14â”‚      how_about___this_kind_thing = 42
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^

While snake case is allowed here, only a single consecutive underscore
should be used.
</code></pre></div>



<a name="483926087"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483926087" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483926087">(Nov 22 2024 at 14:46)</a>:</h4>
<blockquote>
<p>I thought we removed the zstd dependency <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>I think it was removed but we had to put it back</p>



<a name="483926187"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483926187" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483926187">(Nov 22 2024 at 14:46)</a>:</h4>
<p>While waiting for some substantive review of my PR, I'm going to play with updating an example to use snake_case and build it</p>



<a name="483927313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483927313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483927313">(Nov 22 2024 at 14:53)</a>:</h4>
<p>Sweet, after changing all references of <code>fizzBuzz</code> to <code>fizz_buzz</code> in <code>examples/FizzBuzz</code>:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code> â€¦/roc-examples/examples/FizzBuzz  ï˜ main !  ïº 08:51
â¯ ../../../roc/target/debug/roc build
Downloading https://github.com/roc-lang/basic-cli/releases/download/0.16.0/O00IPk-Krg_diNS2dVWlI0ZQP794Vctxzv0ha96mK0E.tar.br
    into /Users/anthonybullard/.cache/roc/packages

[8.9 / 8.9 MB]
0 errors and 0 warnings found in 10613 ms
 while successfully building:

    main

 â€¦/roc-examples/examples/FizzBuzz  ï˜ main !  ïº 08:52
â¯ ./main
1,2,Fizz,4,Buzz,Fizz,7,8,Fizz,Buzz,11,Fizz,13,14,FizzBuzz,16,17,Fizz,19,Buzz,Fizz,22,23,Fizz,Buzz,26,Fizz,28,29,FizzBuzz,31,32,Fizz,34,Buzz,Fizz,37,38,Fizz,Buzz,41,Fizz,43,44,FizzBuzz,46,47,Fizz,49,Buzz,Fizz,52,53,Fizz,Buzz,56,Fizz,58,59,FizzBuzz,61,62,Fizz,64,Buzz,Fizz,67,68,Fizz,Buzz,71,Fizz,73,74,FizzBuzz,76,77,Fizz,79,Buzz,Fizz,82,83,Fizz,Buzz,86,Fizz,88,89,FizzBuzz,91,92,Fizz,94,Buzz,Fizz,97,98,Fizz,Buzz
</code></pre></div>



<a name="483947606"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483947606" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483947606">(Nov 22 2024 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/483926087">said</a>:</p>
<blockquote>
<blockquote>
<p>I thought we removed the zstd dependency <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>I think it was removed but we had to put it back</p>
</blockquote>
<p>ah I see - <a href="https://github.com/roc-lang/roc/pull/7008">llvm needs it</a></p>
<p>so I guess once we're building our own llvm from source, we can drop the dependency?</p>



<a name="483947746"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483947746" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483947746">(Nov 22 2024 at 16:33)</a>:</h4>
<p>most likely</p>



<a name="483949910"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483949910" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483949910">(Nov 22 2024 at 16:44)</a>:</h4>
<p>This hasn't gone as swimmingly since.  It seems that there is a problem with the basic-cli platform latest where the Arg module is still using Str.split and that is not available in the latest version of the compiler</p>



<a name="483950383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483950383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483950383">(Nov 22 2024 at 16:47)</a>:</h4>
<p>Just linking to my comments here: <a href="#narrow/channel/302903-platform-development/topic/Platform.20.2F.20Language.20version.20compatibility/near/483949925">https://roc.zulipchat.com/#narrow/channel/302903-platform-development/topic/Platform.20.2F.20Language.20version.20compatibility/near/483949925</a></p>



<a name="483988383"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483988383" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483988383">(Nov 22 2024 at 20:43)</a>:</h4>
<p>My Roc journey this month:</p>
<ol>
<li>I'm gonna make a platform and apps for a project</li>
<li>First I'll copy and modify an existing platform</li>
<li>No, first I need to figure out how purity-inference impacts platform APIs</li>
<li>No, first I need to figure out these other syntax changes</li>
<li>No, first I need to read some examples</li>
<li>No, first I need to make those examples</li>
<li>No, first I need to re-read the tutorial</li>
<li>No, first I need to update the tutorial <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></li>
</ol>
<p>Updating the tutorial is really helping me understand the scope of recent changes <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="483989259"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483989259" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483989259">(Nov 22 2024 at 20:50)</a>:</h4>
<p>I'm sorry for the rabbit hole <span aria-label="rabbit" class="emoji emoji-1f407" role="img" title="rabbit">:rabbit:</span> <span aria-label="hole" class="emoji emoji-1f573" role="img" title="hole">:hole:</span></p>



<a name="483989541"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483989541" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483989541">(Nov 22 2024 at 20:52)</a>:</h4>
<p>I'm stomping through the tall grass before the schoolbus arrives next week!</p>



<a name="483989581"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/483989581" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#483989581">(Nov 22 2024 at 20:52)</a>:</h4>
<p>How is December so soon?</p>



<a name="490718123"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490718123" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490718123">(Dec 24 2024 at 22:09)</a>:</h4>
<p>Basic CLI plans to support sqlite eventually, right?</p>
<p>Just thinking about the bundle of sqlite improvements that got reverted from basic webserver.</p>
<p>I might try to add them as a standalone crate and module in basic CLI (like <span class="user-mention" data-user-id="515757">@Luke Boswell</span> has been doing for other shared effects). Then I would work to add it back into basic webserver.</p>



<a name="490718773"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490718773" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490718773">(Dec 24 2024 at 22:19)</a>:</h4>
<p>Sounds great <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="490807600"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490807600" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490807600">(Dec 25 2024 at 20:47)</a>:</h4>
<p>What is the current reasoning about things like sqlite(shared libs) and platforms? As they make sense to be used across different platforms and it would be great if there was one great API for it instead of "learn the API for the same thing for each platform".</p>
<p>I've not followed much of the conversation for the last several months (due to becoming a dad! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> ) - so I wonder if the general conclusion was that platforms benefit from being batteries included instead of composing shared effectful libs.</p>



<a name="490809942"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490809942" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490809942">(Dec 25 2024 at 21:29)</a>:</h4>
<p>So sqlite is always special. If you want it, you must embed it in the platform. There is no implementing sqlite in roc. With many other things, like any other database, you can make a roc library built over tcp.</p>



<a name="490809950"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490809950" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490809950">(Dec 25 2024 at 21:29)</a>:</h4>
<p>Anyway, with basic cli and basic webserver, we are starting to do basic rust crate sharing</p>



<a name="490810018"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490810018" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490810018">(Dec 25 2024 at 21:30)</a>:</h4>
<p>So many effects are implemented in rust crates shared between the two platforms.</p>



<a name="490810026"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490810026" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490810026">(Dec 25 2024 at 21:30)</a>:</h4>
<p>Then a thin duplicate roc shell</p>



<a name="490813542"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490813542" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490813542">(Dec 25 2024 at 22:33)</a>:</h4>
<p>We could write a library for sqld/libsql and use the http protocol, but as far as â€œplatform level capabilityâ€ composition I hope we come up with something better than just sharing implementations in the long run. Iâ€™d like to have a singular Roc interface to many of these that also could be shared (and maybe built upon by plain Roc packages)</p>



<a name="490816174"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490816174" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490816174">(Dec 25 2024 at 23:26)</a>:</h4>
<p>I think the correct way to use sqlite is to embedded it and skip any protocols. This means the primitives must be in the platform.</p>



<a name="490816224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490816224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490816224">(Dec 25 2024 at 23:27)</a>:</h4>
<p>They can still be shared and libraries can still build on top of them, but the primitives would be required in each platform that wants to support sqlite</p>



<a name="490816254"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490816254" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490816254">(Dec 25 2024 at 23:27)</a>:</h4>
<p>The only other reasonable alternative is generic ffi (which roc could support, but is a much more complex topic)</p>



<a name="490816461"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490816461" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490816461">(Dec 25 2024 at 23:31)</a>:</h4>
<p>Someone could also make something to use the http protocol for sqlite, but, at least for me, that defeats essentially the entire point of using sqlite.</p>



<a name="490827118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490827118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490827118">(Dec 26 2024 at 02:37)</a>:</h4>
<p>Turso would disagree <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span>. They also have a binary protocol as well. You still have an extremely fast battle-tested database that is file based (and libsql has a bunch of improvements over mainline SQLite)</p>
<p>But I donâ€™t want to argue about SQLite in specific. I worry that having singular monolithic platforms instead of a runtime of effects that can be composed will, at scale, cause issues with adoption and many many speed bumps to a lot of reasonable use cases</p>



<a name="490828732"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490828732" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490828732">(Dec 26 2024 at 03:06)</a>:</h4>
<p>SQLite is an outlier database because it's the only one that's normally bundled as a dylib</p>



<a name="490828815"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490828815" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490828815">(Dec 26 2024 at 03:07)</a>:</h4>
<p>Postgres, MySQL, etc operate over a socket by default and so there's no problem making platform-agnostic pure-Roc packages to talk to them, such as roc-pg</p>



<a name="490828878"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490828878" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490828878">(Dec 26 2024 at 03:08)</a>:</h4>
<p>that's why these conversations always come up in the context of SQLite specifically: it's the only one that makes this tricky <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="490829038"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490829038" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490829038">(Dec 26 2024 at 03:11)</a>:</h4>
<p>Yeah, I think SQlite is specifically a bad example</p>



<a name="490829056"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490829056" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490829056">(Dec 26 2024 at 03:11)</a>:</h4>
<p>There are lots of other tools and effects to worry about.</p>



<a name="490829092"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490829092" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490829092">(Dec 26 2024 at 03:12)</a>:</h4>
<p>That said, I think sharing via rust crates is totally reasonable</p>



<a name="490862163"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490862163" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jasper Woudenberg <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490862163">(Dec 26 2024 at 10:33)</a>:</h4>
<p>Slightly tangential to this conversation, but tree-sitter might be a good example of a tool that's written in order to make it easy to use from different programming languages.</p>
<p>Most of it is written in C so any language with C-ffi can pull it in. I've been integrating tree-sittter into a Zig platform I'm working on, and also tree-sitter-highlight, a tool bundled with tree-sitter, written in Rust, with hooks for calling it from C.</p>
<p>Another thought is that it might also be interesting to watch how different platforms integrate sqlite for a while before we start investing in tooling to make it easier. For my Zig platform I needed a library for generating HTML. Hannes wrote one that I could have used, roc-html, but I realized that for my platform an ideal Html type would internally be represented like this:</p>
<div class="codehilite"><pre><span></span><code>Xml : List
        [
            FromSource { start: U32, end: U32 },
            RocGenerated (List U8),
        ]
</code></pre></div>
<p>I.e., a list of slices, some copied from a source file, others generated using functions like <code>Html.div</code>. This is super specific to my platform, so no generic HTML library will define the HTML type like this. There might still be a way to do code sharing here, possibly a HTLM library might define all the helper functions for constructing different node types, but require you to pass in a custom internal <code>XML</code> type and <code>node</code> function.</p>
<p>I'm curious if we'll see similar situations with regards to sqlite, or tree-sitter, or other libraries designed for performance and integration via C-ffi. Platform authors might find that they can integrate the C dependency in a way specific to their platform that squeezes out some extra performance. It's hard to know upfront, given the platform concept is such a new paradigm.</p>



<a name="490891292"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490891292" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georges Boris <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490891292">(Dec 26 2024 at 15:50)</a>:</h4>
<p>I remember an idea discussed here in the likes of "libraries that require the platform to expose some types that implement abilities x y z".</p>
<p>That way a general html library might work with a generic <code>Html msg</code> type while multiple platforms might pick up that type and render it in different ways (e.g. <a href="https://www.nicbarker.com/clay">clay</a> is an immediate mode rendering library that was just released that supports rendering as html, canvas and opengl - maybe a game engine platform could use it to render some html content using the same API)</p>



<a name="490921798"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/490921798" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#490921798">(Dec 26 2024 at 22:23)</a>:</h4>
<p>Yeah, that still can be the basis for a lot of sharing</p>



<a name="491020186"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020186" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020186">(Dec 27 2024 at 18:43)</a>:</h4>
<p>Can someone find the zulip discussion for <code>??</code> (providing defaults for results) as in <a href="https://github.com/roc-lang/roc/issues/7089">#7089</a>?</p>



<a name="491020326"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020326" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020326">(Dec 27 2024 at 18:45)</a>:</h4>
<p>It's a couple different discussions. I'm on it</p>



<a name="491020479"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020479" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020479">(Dec 27 2024 at 18:47)</a>:</h4>
<p>First mention by Richard: <a href="#narrow/channel/304641-ideas/topic/.60try-else.60.20error.20context.20adding.20syntax/near/470420320">#ideas &gt; &#96;try-else&#96; error context adding syntax @ ðŸ’¬</a></p>



<a name="491020921"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020921" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020921">(Dec 27 2024 at 18:52)</a>:</h4>
<p>Okay, not that many discussions</p>



<a name="491020939"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020939" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020939">(Dec 27 2024 at 18:52)</a>:</h4>
<p>That's basically the last one that isn't just giving usage examples</p>



<a name="491020982"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491020982" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491020982">(Dec 27 2024 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> did I ship something that's not meeting your expectations?</p>



<a name="491022551"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491022551" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491022551">(Dec 27 2024 at 19:10)</a>:</h4>
<p>No, that's not it, I was not immediately sold on the concept of the <code>??</code> operator and wanted to look at the discussion that lead to it.</p>



<a name="491023143"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491023143" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491023143">(Dec 27 2024 at 19:17)</a>:</h4>
<p>Yeah, I think it was suggested and no one really had an issue with it. So it was added (or planned for addition)</p>



<a name="491023462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491023462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491023462">(Dec 27 2024 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="361169">@Anton</span> If you aren't a fan, I'd like to hear why and have a discussion about it before I implement the <code>?</code> binop</p>



<a name="491086137"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491086137" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491086137">(Dec 28 2024 at 11:45)</a>:</h4>
<p>I was doubting if <code>Result.withDefault</code> is used so often that there should be an operator for it. I now see that  <code>??</code> will also be used for default value record fields, so it seems justified <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="491086219"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491086219" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491086219">(Dec 28 2024 at 11:46)</a>:</h4>
<p>I think <code>Result.withDefault</code> will be used a lot for things like getting data out of a list, set, or map.</p>



<a name="491086251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491086251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491086251">(Dec 28 2024 at 11:47)</a>:</h4>
<p>Pretty much like an <code>Option.withDefault</code> if we had Options</p>



<a name="491086260"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491086260" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491086260">(Dec 28 2024 at 11:47)</a>:</h4>
<p>That's how I found myself using it in AOC at least</p>



<a name="491090759"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491090759" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491090759">(Dec 28 2024 at 12:57)</a>:</h4>
<blockquote>
<p>like getting data out of a list, set, or map.</p>
</blockquote>
<p>Would using <code>Result.withDefault</code> in these cases not be a point of silent failure?</p>



<a name="491090864"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491090864" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491090864">(Dec 28 2024 at 12:58)</a>:</h4>
<p>It all depends on the use case</p>



<a name="491090891"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491090891" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491090891">(Dec 28 2024 at 12:59)</a>:</h4>
<p>But yes many times it would be.</p>



<a name="491090919"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491090919" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491090919">(Dec 28 2024 at 12:59)</a>:</h4>
<p>I think the main cases will be for those "scripty" sort of workflows</p>



<a name="491196524"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491196524" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491196524">(Dec 29 2024 at 18:14)</a>:</h4>
<p>Not 100% sure where this should go, so just asking it here:<br>
How does one transfer a PGP key between computers?</p>



<a name="491197244"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491197244" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491197244">(Dec 29 2024 at 18:26)</a>:</h4>
<p>you can use <code>gpg --export-secret-key</code></p>



<a name="491266701"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/491266701" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#491266701">(Dec 30 2024 at 10:43)</a>:</h4>
<p>This what I use for two linux machines:</p>
<div class="codehilite"><pre><span></span><code># on old pc:
gpg --list-keys --keyid-format SHORT | grep ^pub
gpg --export --armor [Your_Key_ID] &gt; public.key

# on new pc
gpg --import public.key
</code></pre></div>



<a name="499847447"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499847447" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499847447">(Feb 14 2025 at 23:04)</a>:</h4>
<p>I'm going to be hacking on the type checker for the next few hours. If anyone would like to join you're most welcome.</p>



<a name="499847562"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499847562" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499847562">(Feb 14 2025 at 23:05)</a>:</h4>
<p>I'm still at the "how does this thing work" phase of things... so it's pretty slow progress</p>



<a name="499848041"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848041" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848041">(Feb 14 2025 at 23:09)</a>:</h4>
<p>at the most basic level, I like to think of <code>Subs</code> as a "type database" (the name of that data structure could probably be better <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="499848113"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848113" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848113">(Feb 14 2025 at 23:10)</a>:</h4>
<p><code>Variable</code> is like a <code>TypeId</code> - the key in the key/value store of the types database</p>



<a name="499848210"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848210" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848210">(Feb 14 2025 at 23:10)</a>:</h4>
<p>and then the value in that key/value store is either a specific type like "this is a function with these arguments and this return value..." or else a "symlink" to another TypeId - like "see this other thing for what my type is"</p>



<a name="499848367"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848367" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848367">(Feb 14 2025 at 23:12)</a>:</h4>
<p>a really critical performance aspect of our type unification algorithm is that you're allowed to "compact" chains of symlinks at any point in the process without there being any chance of that changing the answer at the end of type-checking</p>



<a name="499848422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848422">(Feb 14 2025 at 23:12)</a>:</h4>
<p>in other words, if the type of A is "symlinked" to be whatever the type of B is, and B is "symlinked" to be whatever the type of C is, then we can compact that to have A be symlinked directly to C</p>



<a name="499848470"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848470" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848470">(Feb 14 2025 at 23:13)</a>:</h4>
<p>which means that later whenever we're looking up the final type of A (which can come up a lot during type inference, e.g. to check if something has a type mismatch with A), we don't have to go through B, we can go straight to C</p>



<a name="499848530"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848530" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848530">(Feb 14 2025 at 23:13)</a>:</h4>
<p>which means the symlink chains never get longer than 1 hop, instead of potentially growing to N hops - which could really get out of hand if it were allowed to happen <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="499848698"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499848698" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499848698">(Feb 14 2025 at 23:15)</a>:</h4>
<p><code>get_content</code> refers to "go get the actual type associated with this <code>Variable</code>" and <code>get_content_without_compacting</code> is the same thing except it takes a <code>&amp;Subs</code> instead of <code>&amp;mut Subs</code> and therefore won't (and can't, because it's not <code>mut</code>) compact any symlink chains it encounters</p>



<a name="499849663"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499849663" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499849663">(Feb 14 2025 at 23:22)</a>:</h4>
<p>By "symlinked" you're talking about substitutions?</p>



<a name="499849965"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499849965" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499849965">(Feb 14 2025 at 23:24)</a>:</h4>
<p>Yeah I've been trying to learn the theory basics and map that back to what we have in the rust impl. It's a challenge to unpick and see how it all works together. Just poking at the different data structures mostly and translating them mostly 1-1 to zig for now.</p>



<a name="499854673"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499854673" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499854673">(Feb 15 2025 at 00:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/499849663">said</a>:</p>
<blockquote>
<p>By "symlinked" you're talking about substitutions?</p>
</blockquote>
<p>yeah, I always thought of them as symlinks <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="499854685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499854685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499854685">(Feb 15 2025 at 00:03)</a>:</h4>
<p>but that's why it's called <code>Subs</code> - short for "substitutions table"</p>



<a name="499887699"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499887699" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499887699">(Feb 15 2025 at 06:31)</a>:</h4>
<p>Where do folks "join" for co-working or pairing or mobbing these days? All Zed? Sometimes Discord? I'm curious to try streaming some workdays, but I haven't felt motivated to set up OBS or perf check my hardware.</p>



<a name="499887791"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499887791" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499887791">(Feb 15 2025 at 06:33)</a>:</h4>
<p>Luke and I mainly do Google Meet, but sometimes Zed</p>



<a name="499887802"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499887802" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499887802">(Feb 15 2025 at 06:33)</a>:</h4>
<p>Discord is great, but lots of people don't really use it still</p>



<a name="499887984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499887984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499887984">(Feb 15 2025 at 06:36)</a>:</h4>
<p>I posted earlier when I was starting. I'm almost done for todays session. My plan is to let people know in here if I know I've got a few hours to hack on things.</p>



<a name="499887999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499887999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499887999">(Feb 15 2025 at 06:36)</a>:</h4>
<p>Oh, you're still going?</p>



<a name="499888002"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499888002" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499888002">(Feb 15 2025 at 06:37)</a>:</h4>
<p>Good to know</p>



<a name="499892077"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499892077" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kiryl Dziamura <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499892077">(Feb 15 2025 at 07:44)</a>:</h4>
<p>Ah, hopefully, I can join the next time. It's been a time since I last looked into rocâ€™s guts</p>



<a name="499985946"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499985946" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cancai Cai <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499985946">(Feb 16 2025 at 06:54)</a>:</h4>
<p>Hello, I would like to ask if the rust part of roc is still being updated? I want to learn about compiled languages â€‹â€‹through roc, and I might want to start with the rust part, but I see that roc seems to have been rewritten with zig?</p>



<a name="499986082"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499986082" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499986082">(Feb 16 2025 at 06:57)</a>:</h4>
<p>We have recently started a rewrite in zig. The rust compiler is still there and operational... all the recent effort to add new features is going into the zig compiler. </p>
<p>What are you hoping to learn about? You can definitely read through the rust compiler code, though there is a lot there.</p>



<a name="499986433"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499986433" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cancai Cai <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499986433">(Feb 16 2025 at 07:02)</a>:</h4>
<p>OK, thank you very much for your quick answer. I am very interested in the world of compiled languages â€‹â€‹and I hope to learn some knowledge about compiled languages â€‹â€‹from roc. I will try to read roc's rust code and try to make some contributions.</p>
<p>Are we currently accepting contributions for the rust part, or would it be more appropriate to start with zig?</p>



<a name="499986554"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/499986554" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#499986554">(Feb 16 2025 at 07:05)</a>:</h4>
<p>I would point you to the <a href="https://www.roc-lang.org/community#ideas">https://www.roc-lang.org/community#ideas</a> and say it's a good idea to discuss anything in here before you commit too much time on something you would like to merge. </p>
<p>I would suggest Zig is the best place, though there isn't much actually there to work with at the moment. We're trying to put the bare bones together and get a really simple compiler end to end -- which might take us a little while.</p>



<a name="500049342"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500049342" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500049342">(Feb 16 2025 at 22:08)</a>:</h4>
<p>I'll be jumping on either a Zed call or Google Meet in about an hour and a half to work on implementing the basic form of <code>coordinate.zig</code> if anyone would like to join!</p>



<a name="500054467"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500054467" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500054467">(Feb 16 2025 at 23:26)</a>:</h4>
<p>I'm in this call: <a href="https://meet.google.com/vse-gvzr-sqv">https://meet.google.com/vse-gvzr-sqv</a></p>



<a name="500054939"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500054939" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500054939">(Feb 16 2025 at 23:33)</a>:</h4>
<p>Is there an existing #roc channel for Zed, or should I create a new one?</p>



<a name="500055247"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500055247" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500055247">(Feb 16 2025 at 23:37)</a>:</h4>
<p>I thought we said one already existed, but not sure</p>



<a name="500067895"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500067895" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500067895">(Feb 17 2025 at 02:20)</a>:</h4>
<p>We jumped off for now, might jump back on later but not sure</p>



<a name="500068073"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/500068073" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#500068073">(Feb 17 2025 at 02:23)</a>:</h4>
<p>Yeah I'm just grabbing a bite to eat</p>



<a name="504932704"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/504932704" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#504932704">(Mar 11 2025 at 19:19)</a>:</h4>
<p>Heads up, if anyone is ever curious about any of the plans for how a part of the new Zig-based compiler will work, I'm happy to chat. Please feel free to ask questions here or in a direct message <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="507405361"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/507405361" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#507405361">(Mar 22 2025 at 03:38)</a>:</h4>
<p>For anyone interested, myself and a few other roc contributors will be meeting up at  <time datetime="2025-03-22T17:30:00Z">2025-03-22T10:30:00-07:00</time>. Just an ad hoc update and general discussion. Will be super laid back. I guess we'll <a href="https://meet.jit.si/moderated/672e6cc127f67c355ac33a6c800ab60136fe27de5db001bed534ad2d2e3ee02d">try jitsi for this one</a></p>



<a name="507471658"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/507471658" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#507471658">(Mar 22 2025 at 17:30)</a>:</h4>
<p>Starting now for anyone interested <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>



<a name="507477132"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/507477132" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#507477132">(Mar 22 2025 at 18:27)</a>:</h4>
<p>Here are screenshots showing a pathological case of my error message UX pain, where I'm deleting one line of code:<br>
<a href="/user_uploads/22008/XwUyVndvUgwZpBSOQ8ONyN0o/Screenshot_20250322_122439.png">Screenshot_20250322_122439.png</a><br>
<a href="/user_uploads/22008/ch4M7x7o2LLwvc8VPa-K71BL/Screenshot_20250322_122512.png">Screenshot_20250322_122512.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/XwUyVndvUgwZpBSOQ8ONyN0o/Screenshot_20250322_122439.png" title="Screenshot_20250322_122439.png"><img data-original-content-type="image/png" data-original-dimensions="1920x1200" src="/user_uploads/thumbnail/22008/XwUyVndvUgwZpBSOQ8ONyN0o/Screenshot_20250322_122439.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/22008/ch4M7x7o2LLwvc8VPa-K71BL/Screenshot_20250322_122512.png" title="Screenshot_20250322_122512.png"><img data-original-content-type="image/png" data-original-dimensions="1920x1200" src="/user_uploads/thumbnail/22008/ch4M7x7o2LLwvc8VPa-K71BL/Screenshot_20250322_122512.png/840x560.webp"></a></div>



<a name="510517518"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510517518" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510517518">(Apr 06 2025 at 20:30)</a>:</h4>
<p>btw know ive just been gone for the past little bit (got myself into a bit of a journey with <a href="https://racket-lang.org/">Racket</a>, but what's the status of the Zig rewrite so far (is the zig src folder readme state accurate, and why are theyre still issues for the rust version)?</p>



<a name="510518327"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510518327" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510518327">(Apr 06 2025 at 20:41)</a>:</h4>
<p>I think we basically have a full tokenizer and parser, but later stages just have shims or limited work. I know progress has been made for canonicalization and unification.</p>



<a name="510518359"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510518359" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510518359">(Apr 06 2025 at 20:42)</a>:</h4>
<p>We have done no work to clean up rust issues and we still log some rust bugs. Not that they are planned to be fixed. Just tracked.</p>



<a name="510518424"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510518424" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510518424">(Apr 06 2025 at 20:42)</a>:</h4>
<p>Oh, we also have made a decent bit of progress for fuzzing, snapshotting, and testing, to give a more robust base</p>



<a name="510518438"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510518438" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510518438">(Apr 06 2025 at 20:42)</a>:</h4>
<p>I think overall progress will ebb and flow in waves</p>



<a name="510519283"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510519283" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510519283">(Apr 06 2025 at 20:53)</a>:</h4>
<p>I've been trying to add some snapshoting (sexpr) support to canonicalize, but I've banging my head against a compiler error for a while. Would appreciate a second pair of eyes if one is available.</p>
<p>My current code is <a href="https://github.com/joshuawarner32/roc/blob/add-canonicalize-sexpr/src/check/canonicalize/IR.zig#L286">here</a>, and on that line specifically I'm seeing the following error:</p>
<div class="codehilite"><pre><span></span><code>src/check/canonicalize/IR.zig:286:42: error: no field or member function named &#39;toSExpr&#39; in &#39;collections.safe_list.SafeList(base.ModuleImport).Idx&#39;
                    var elem_sexpr = elem.toSExpr(env, ir);
                                     ~~~~^~~~~~~~
src/collections/safe_list.zig:31:25: note: enum declared here
        pub const Idx = enum(u32) { _ };
                        ^~~~~~~~~~~~~~~
</code></pre></div>
<p>Similar errors involving <code>SafeList(base.ModuleImport).Idx</code> also pop up when trying other variations of this loop.</p>
<p>AFAICT this code very explicitly is not doing anything involving ModuleImport's - so I'm very confused.</p>
<p>There are similar errors that pop up in some similar circumstances later in the file, clearly also mismatching in type arguments.</p>
<p>At this point I suspect there is a zig compiler bug of some sort, if nothing else in deciding which types to show to the user when rendering the error message.</p>
<p>Thoughts/tips?</p>



<a name="510522545"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510522545" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510522545">(Apr 06 2025 at 21:35)</a>:</h4>
<p>ok i know the idea for "type functions as comptime" in Roc was too compicated, but i just had a thought. Extend the Racket "seperate compilation guarentee" to <em>any</em> sort of logic beyond pattern matching. That is, a "type function" (generic type) could only act as a simple, pure, lambda from one term (that is a type) to another</p>



<a name="510523054"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510523054" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510523054">(Apr 06 2025 at 21:43)</a>:</h4>
<p>Probably worth spinning up a <a class="stream" data-stream-id="304641" href="/#narrow/channel/304641-ideas">#ideas</a> thread with more concrete details.</p>



<a name="510523077"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510523077" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510523077">(Apr 06 2025 at 21:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="453336">Joshua Warner</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/510519283">said</a>:</p>
<blockquote>
<p>I've been trying to add some snapshoting (sexpr) support to canonicalize, but I've banging my head against a compiler error for a while. Would appreciate a second pair of eyes if one is available.</p>
<p>My current code is <a href="https://github.com/joshuawarner32/roc/blob/add-canonicalize-sexpr/src/check/canonicalize/IR.zig#L286">here</a>, and on that line specifically I'm seeing the following error:</p>
<div class="codehilite"><pre><span></span><code>src/check/canonicalize/IR.zig:286:42: error: no field or member function named &#39;toSExpr&#39; in &#39;collections.safe_list.SafeList(base.ModuleImport).Idx&#39;
                    var elem_sexpr = elem.toSExpr(env, ir);
                                     ~~~~^~~~~~~~
src/collections/safe_list.zig:31:25: note: enum declared here
        pub const Idx = enum(u32) { _ };
                        ^~~~~~~~~~~~~~~
</code></pre></div>
<p>Similar errors involving <code>SafeList(base.ModuleImport).Idx</code> also pop up when trying other variations of this loop.</p>
<p>AFAICT this code very explicitly is not doing anything involving ModuleImport's - so I'm very confused.</p>
<p>There are similar errors that pop up in some similar circumstances later in the file, clearly also mismatching in type arguments.</p>
<p>At this point I suspect there is a zig compiler bug of some sort, if nothing else in deciding which types to show to the user when rendering the error message.</p>
<p>Thoughts/tips?</p>
</blockquote>
<p>Not immediately, but I probably can take a look tomorrow night or Tuesday.</p>



<a name="510524905"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510524905" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510524905">(Apr 06 2025 at 22:09)</a>:</h4>
<p>I think you need to fetch the child expressions and call toSExpr on them <span class="user-mention" data-user-id="453336">@Joshua Warner</span></p>



<a name="510525074"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510525074" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510525074">(Apr 06 2025 at 22:11)</a>:</h4>
<p>Like here: <a href="https://github.com/roc-lang/roc/blob/5ba1c8e24b555b4c2c625e7d718bfcb223f00281/src/check/parse/IR.zig#L2566">https://github.com/roc-lang/roc/blob/5ba1c8e24b555b4c2c625e7d718bfcb223f00281/src/check/parse/IR.zig#L2566</a></p>



<a name="510525822"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510525822" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510525822">(Apr 06 2025 at 22:22)</a>:</h4>
<p>Right, I was thinking roughly along those lines, but I haven't happened upon the right pattern to use with SafeMultiList. Applying this diff:</p>
<div class="codehilite"><pre><span></span><code>diff --git a/src/check/canonicalize/IR.zig b/src/check/canonicalize/IR.zig
index 3b4858fe9c..25db1cc804 100644
--- a/src/check/canonicalize/IR.zig
+++ b/src/check/canonicalize/IR.zig
@@ -283,7 +283,8 @@ pub const Expr = union(enum) {
                 appendTypeVarChild(&amp;node, gpa, &quot;elem_var&quot;, l.elem_var);
                 var elems_node = sexpr.Expr.init(gpa, &quot;elems&quot;);
                 for (l.elems.items(.expr)) |elem| {
-                    var elem_sexpr = elem.toSExpr(env, ir);
+                    const e = ir.exprs_at_regions.get(elem);
+                    var elem_sexpr = e.toSExpr(env, ir);
                     elems_node.appendNodeChild(gpa, &amp;elem_sexpr);
                 }
                 node.appendNodeChild(gpa, &amp;elems_node);
</code></pre></div>
<p>Results in a very similar error:</p>
<div class="codehilite"><pre><span></span><code>src/check/canonicalize/IR.zig:286:55: error: expected type &#39;collections.safe_list.SafeMultiList(check.canonicalize.IR.When).Idx&#39;, found &#39;collections.safe_list.SafeList(base.ModuleImport).Idx&#39;
                    const e = ir.exprs_at_regions.get(elem);
                                                      ^~~~
</code></pre></div>



<a name="510534604"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/510534604" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Warner <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#510534604">(Apr 07 2025 at 00:27)</a>:</h4>
<p>Ok yeah, found the issue. Zig is indeed giving error messages that involve incorrect types vs what it's actually using internally.</p>



<a name="511173602"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511173602" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511173602">(Apr 09 2025 at 13:29)</a>:</h4>
<p>Hey is there a place for open needed contributions for the zig rewrite so I donâ€™t step on anyoneâ€™s toes by doing something theyâ€™re already doing?</p>



<a name="511177897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511177897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511177897">(Apr 09 2025 at 13:45)</a>:</h4>
<p>Feel free to take anything without an emoji from <a href="https://github.com/roc-lang/roc/blob/main/src/README.md">here</a>. <span class="user-mention" data-user-id="489294">@Agus Zubiaga</span> was really busy with work so perhaps you can try finishing <a href="https://github.com/roc-lang/roc/pull/7634">https://github.com/roc-lang/roc/pull/7634</a> ?</p>



<a name="511196422"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511196422" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511196422">(Apr 09 2025 at 14:56)</a>:</h4>
<p>Sure, so long as he dosent mind Iâ€™ll copy the pr and start work on it</p>



<a name="511246844"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511246844" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511246844">(Apr 09 2025 at 19:17)</a>:</h4>
<p>i dont know how i would get by without git guis, ive started work on the pr</p>



<a name="511268181"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511268181" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511268181">(Apr 09 2025 at 21:51)</a>:</h4>
<p>are certain of the values in <a href="https://github.com/roc-lang/roc/blob/main/src/base/module_work.zig">https://github.com/roc-lang/roc/blob/main/src/base/module_work.zig</a> not supposed to be generic with Work and instead specific with can.IR?</p>



<a name="511273304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511273304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511273304">(Apr 09 2025 at 22:36)</a>:</h4>
<p>Should be generic if itâ€™s in base</p>



<a name="511274493"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511274493" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511274493">(Apr 09 2025 at 22:45)</a>:</h4>
<p>is it even used?</p>



<a name="511274594"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511274594" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511274594">(Apr 09 2025 at 22:46)</a>:</h4>
<p>also theres an error in the good for it (unless im just missing something here) </p>
<div class="codehilite"><pre><span></span><code>src/base/module_work.zig:92:43: error: expected type &#39;mem.Allocator&#39;, found pointer
                        .work = Work.init(&amp;can_irs.getWork(work_idx).env),
</code></pre></div>



<a name="511275397"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511275397" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511275397">(Apr 09 2025 at 22:52)</a>:</h4>
<p>Zig won't compiler or test anything it doesn't have to</p>



<a name="511275458"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511275458" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511275458">(Apr 09 2025 at 22:53)</a>:</h4>
<p>It will tree shake to remove code before compiling</p>



<a name="511275560"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511275560" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511275560">(Apr 09 2025 at 22:54)</a>:</h4>
<p>So unused code (like that written during the build out process) can easily become stale</p>



<a name="511275648"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511275648" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wizard ish <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511275648">(Apr 09 2025 at 22:55)</a>:</h4>
<p>ok, yeah zig's compiler is too smart :)</p>



<a name="511276314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511276314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511276314">(Apr 09 2025 at 23:00)</a>:</h4>
<p>Compiles faster, but means a lot of stuff is totally unchecked</p>



<a name="511918823"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511918823" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511918823">(Apr 13 2025 at 15:50)</a>:</h4>
<p>Finally have my Mac Mini on Linux (Fedora 41 w/ Gnome), and it is ready for Roc development!</p>



<a name="511918849"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511918849" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511918849">(Apr 13 2025 at 15:50)</a>:</h4>
<p>This is a machine that I'm much more likely to try out Nix on</p>



<a name="511929304"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929304" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929304">(Apr 13 2025 at 18:05)</a>:</h4>
<p>this was obviously unnecessary, but I thought it was fun: instead of looking up whether Zig's <code>@max</code> and <code>@min</code> are branchless (I assumed so, but wanted to double-check) I asked Claude to prove one way or the other by writing a small zig program, building it, disassembling the output, checking the assembly instructions, and then quoting relevant portions of the asm to me to prove whether they were branchless</p>
<p><a href="/user_uploads/22008/1yz4a6-2-OKpFz22C24ddsjX/screenshot.jpeg">screenshot.jpeg</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/1yz4a6-2-OKpFz22C24ddsjX/screenshot.jpeg" title="screenshot.jpeg"><img data-original-content-type="image/jpeg" data-original-dimensions="2698x1410" src="/user_uploads/thumbnail/22008/1yz4a6-2-OKpFz22C24ddsjX/screenshot.jpeg/840x560.webp"></a></div>



<a name="511929425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929425">(Apr 13 2025 at 18:07)</a>:</h4>
<p>And it explains how conditional select differs from a jump?</p>



<a name="511929543"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929543" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929543">(Apr 13 2025 at 18:08)</a>:</h4>
<p>I mean a cmp then a jmp</p>



<a name="511929694"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929694" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929694">(Apr 13 2025 at 18:10)</a>:</h4>
<p>Cool use, though still wouldn't truly prove anything. Zig could still be building the branches and llvm could just be removing them (not the case here, but difference between guarantees and happenstance).</p>



<a name="511929727"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929727" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929727">(Apr 13 2025 at 18:10)</a>:</h4>
<p>Just thinking about the complex heuristics in compilers and what can accidentally be assumed</p>



<a name="511929733"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511929733" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511929733">(Apr 13 2025 at 18:10)</a>:</h4>
<p>But really is just a brittle pattern</p>



<a name="511930261"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511930261" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511930261">(Apr 13 2025 at 18:17)</a>:</h4>
<p>oh sure, but the thing I care about is whether there's branching in the output asm</p>



<a name="511930273"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511930273" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511930273">(Apr 13 2025 at 18:17)</a>:</h4>
<p>so in that sense, it's testing exactly what I want it to test! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="511930302"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511930302" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511930302">(Apr 13 2025 at 18:17)</a>:</h4>
<p>and then I asked it to do the same thing on a function I wrote, and it confirmed that it was not branchless (as I had suspected) - that is, in this case the <code>if</code>s were not getting compiled to <code>csel</code>s</p>



<a name="511930460"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511930460" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511930460">(Apr 13 2025 at 18:20)</a>:</h4>
<p>basically a quicker way to verify that than my usual standby of "copy/paste as much as I need to into <a href="http://godbolt.org">godbolt.org</a> and scan the assembly output myself"</p>



<a name="511936532"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511936532" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511936532">(Apr 13 2025 at 19:42)</a>:</h4>
<p>That's fair</p>



<a name="511936551"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/511936551" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#511936551">(Apr 13 2025 at 19:42)</a>:</h4>
<p>Just make sure it runs with optimizations</p>



<a name="512020499"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512020499" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512020499">(Apr 14 2025 at 08:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="781658">Anthony Bullard</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/511918823">said</a>:</p>
<blockquote>
<p>Finally have my Mac Mini on Linux (Fedora 41 w/ Gnome), and it is ready for Roc development!</p>
</blockquote>
<p>This is a kind of setup that I have not tested before, let me know if you hit any issues! We do test aarch64 linux but macs can be special <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="512035336"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512035336" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512035336">(Apr 14 2025 at 09:50)</a>:</h4>
<p>Oh to be clear this is a 2018 Intel Mac Mini</p>



<a name="512035676"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512035676" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512035676">(Apr 14 2025 at 09:52)</a>:</h4>
<p>And it runs like a dream!  The only difficulty I had was figuring out how to get the WiFi card to work - just had to find the proprietary firmware.</p>



<a name="512329069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512329069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Magdiel Amor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512329069">(Apr 15 2025 at 14:02)</a>:</h4>
<p>I use a hp laptop that runs an Ubuntu 22.04 GNU-Linux OS...</p>
<p>I hope this works for Roc development? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="512331462"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512331462" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512331462">(Apr 15 2025 at 14:10)</a>:</h4>
<p>That should work, but feel free to ask if you hit any problems</p>



<a name="512638572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/512638572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#512638572">(Apr 16 2025 at 18:23)</a>:</h4>
<p><span class="user-mention" data-user-id="899457">@Magdiel Amor</span> Roc is delightful on Debian 12 on my Framework laptop, and Ubuntu 22.04 is based on Debian 12, so you should have a relatively smooth developer experience!</p>



<a name="513275340"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/513275340" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#513275340">(Apr 20 2025 at 13:40)</a>:</h4>
<p>Sorry for the slight change in plans, but Iâ€™m going to need to take a two week hiatus from Roc development work. My workload has went from busy to insane in the past two weeks and going to ludicrous through the first week of May.</p>
<p>I will try my best to be at the contributor meeting, but beyond that Iâ€™ll need to use my Roc time for work.</p>



<a name="513276698"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/513276698" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#513276698">(Apr 20 2025 at 13:58)</a>:</h4>
<p>no worriesâ€¦Iâ€™m in a similar boat. Biggest launch in Zedâ€™s history is like 3 weeks away (we have a hard deadline of launching before the RustWeek conference) and some of us are already making weekend PRs on it. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="513538556"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/513538556" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> FÃ¡bio BeirÃ£o <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#513538556">(Apr 22 2025 at 07:40)</a>:</h4>
<p>ðŸ¤žðŸ» please be the Windows version, please be the Windows version ðŸ¤žðŸ»<span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="515402042"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/515402042" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jan kili <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#515402042">(Apr 30 2025 at 21:25)</a>:</h4>
<p>Hey everyone, this week I started streaming myself working. <span aria-label="partying face" class="emoji emoji-1f973" role="img" title="partying face">:partying_face:</span> Right now I'm resuming (and will continue this week during North American office hours) script writing for my upcoming Roc syntax tutorial videos, and next week I hope to resume developing my Roc/Rust-based music synthesizer. Join me any time! <a href="https://www.twitch.tv/kili_ilo">https://www.twitch.tv/kili_ilo</a></p>



<a name="521306591"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/521306591" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#521306591">(May 30 2025 at 14:18)</a>:</h4>
<p>We did not have a test for <code>Tty.enable_raw_mode!({})</code> yet in basic-cli, so I made an example that uses it: snake in the terminal <span aria-label="snake" class="emoji emoji-1f40d" role="img" title="snake">:snake:</span> <br>
<a href="/user_uploads/22008/q67EeO5ECVy5sUOBIHFWO3-l/screenshot_snake.png">screenshot_snake.png</a><br>
Source code <a href="https://github.com/roc-lang/basic-cli/blob/main/examples/terminal-app-snake.roc">here</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/q67EeO5ECVy5sUOBIHFWO3-l/screenshot_snake.png" title="screenshot_snake.png"><img data-original-content-type="image/png" data-original-dimensions="298x422" src="/user_uploads/thumbnail/22008/q67EeO5ECVy5sUOBIHFWO3-l/screenshot_snake.png/840x560.webp"></a></div>



<a name="525228208"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525228208" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525228208">(Jun 22 2025 at 18:54)</a>:</h4>
<p><a href="/user_uploads/22008/m7qYBMe-FuMLPn3XsaAGfvh9/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png">My First Impressions of Gleam Â· mtlynch.io.jpeg.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/m7qYBMe-FuMLPn3XsaAGfvh9/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png" title="My First Impressions of Gleam Â· mtlynch.io.jpeg.png"><img data-original-content-type="image/png" data-original-dimensions="1179x2374" src="/user_uploads/thumbnail/22008/m7qYBMe-FuMLPn3XsaAGfvh9/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png/840x560.webp"></a></div><p>pretty wild how all of these except the last one are now things 0.1.0 will have...should be a much smoother learning curve for beginners! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="525228225"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525228225" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525228225">(Jun 22 2025 at 18:54)</a>:</h4>
<p>from <a href="https://mtlynch.io/notes/gleam-first-impressions/">https://mtlynch.io/notes/gleam-first-impressions/</a></p>



<a name="525228263"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525228263" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525228263">(Jun 22 2025 at 18:55)</a>:</h4>
<p>I've thought about list accessors btw...would be pretty straightforward, just <code>a[b]</code> desugars to <code>a.get(b)</code></p>



<a name="525228284"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525228284" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525228284">(Jun 22 2025 at 18:56)</a>:</h4>
<p>not sure it's worth having in the language, but the design would be pretty obvious given how <code>a + b</code> will desugar to <code>a.plus(b)</code> etc.</p>



<a name="525228964"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525228964" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525228964">(Jun 22 2025 at 19:12)</a>:</h4>
<p><a href="/user_uploads/22008/PdIadecpn5tZAJdclDuCmlpa/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png">My First Impressions of Gleam Â· mtlynch.io.jpeg.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/PdIadecpn5tZAJdclDuCmlpa/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png" title="My First Impressions of Gleam Â· mtlynch.io.jpeg.png"><img data-original-content-type="image/png" data-original-dimensions="1179x2556" src="/user_uploads/thumbnail/22008/PdIadecpn5tZAJdclDuCmlpa/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png/840x560.webp"></a></div><p>ha! this one too</p>



<a name="525229029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525229029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525229029">(Jun 22 2025 at 19:14)</a>:</h4>
<p><a href="/user_uploads/22008/Z1lKRAGCe-rRoWxYveEdKDi3/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png">My First Impressions of Gleam Â· mtlynch.io.jpeg.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/Z1lKRAGCe-rRoWxYveEdKDi3/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png" title="My First Impressions of Gleam Â· mtlynch.io.jpeg.png"><img data-original-content-type="image/png" data-original-dimensions="1179x1914" src="/user_uploads/thumbnail/22008/Z1lKRAGCe-rRoWxYveEdKDi3/My-First-Impressions-of-Gleam-mtlynch.io.jpeg.png/840x560.webp"></a></div><p>and this <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="525232751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525232751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525232751">(Jun 22 2025 at 20:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/525228263">said</a>:</p>
<blockquote>
<p>I've thought about list accessors btw...would be pretty straightforward, just <code>a[b]</code> desugars to <code>a.get(b)</code></p>
</blockquote>
<p>Worth a serious consideration. A lot of people probably would appreciate it.</p>



<a name="525234175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525234175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kilian Vounckx <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525234175">(Jun 22 2025 at 21:19)</a>:</h4>
<p>The one benefit I see to <code>.get</code> over accessors is that it is more obvious it could return a result. For some reason (probably just used to it), I expect brackets to not return a result, but a value or panic.<br>
I could probably get used to the (arguably better) semantics of brackets also returning a result</p>



<a name="525235086"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525235086" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525235086">(Jun 22 2025 at 21:45)</a>:</h4>
<p>Also thinking about tuple accessors, <code>t[0]</code> is probably nicer than <code>t.0</code></p>



<a name="525235457"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525235457" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jared Ramirez <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525235457">(Jun 22 2025 at 21:52)</a>:</h4>
<p>Going back to a convo about re-exporting pub types and when we used to need to put comments on all pub types: TIL that you can do:</p>
<div class="codehilite" data-code-language="Zig"><pre><span></span><code><span class="kr">pub</span><span class="w"> </span><span class="k">usingnamespace</span><span class="w"> </span><span class="nb">@import</span><span class="p">(</span><span class="s">"./types/types.zig"</span><span class="p">);</span>
</code></pre></div>
<p>To re-export all of a sub-modules types!</p>



<a name="525236519"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525236519" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525236519">(Jun 22 2025 at 22:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/channel/316715-contributing/topic/Casual.20Conversation/near/525235086">said</a>:</p>
<blockquote>
<p>Also thinking about tuple accessors, <code>t[0]</code> is probably nicer than <code>t.0</code></p>
</blockquote>
<p>it's not the same bc you can put variables in there - e.g. <code>tuple[x]</code></p>



<a name="525236586"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525236586" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525236586">(Jun 22 2025 at 22:19)</a>:</h4>
<p>a downside of brackets for familiarity is that although <code>x = list[y]</code> can work about the way you'd expect (give or take the <code>Result</code>), but <code>list[x] = y</code> wouldn't work at all for multiple reasons</p>



<a name="525236733"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525236733" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525236733">(Jun 22 2025 at 22:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="515757">Luke Boswell</span> <a href="#narrow/stream/316715-contributing/topic/Casual.20Conversation/near/525235086">said</a>:</p>
<blockquote>
<p>Also thinking about tuple accessors, <code>t[0]</code> is probably nicer than <code>t.0</code></p>
</blockquote>
<p>Hmmm....I think that has a problem of being a different signature. <code>t.0</code> would be compile time known and guaranteed in bounds. <code>t[0]</code> would also allow for <code>t[x]</code> and might be out of bounds. That said, I think we should support that for homogeneous tuples (essentially just treat them as array types).</p>



<a name="525236784"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525236784" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525236784">(Jun 22 2025 at 22:24)</a>:</h4>
<p>We could allow <code>list_[x] = y</code> to work though. Just require reassignment.</p>



<a name="525806661"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525806661" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525806661">(Jun 26 2025 at 00:20)</a>:</h4>
<p>For Records... I've been pulling together a number of snapshots to exercise different use cases. I think I should introduce those in a separate PR even though they aren't implemented yet. </p>
<p>I'd like someone (maybe <span class="user-mention" data-user-id="781658">@Anthony Bullard</span> or <span class="user-mention" data-user-id="281383">@Richard Feldman</span> ) to review and confirm I've got the syntax and describe behaviour correctly before working on "fixing" anything that isn't working in our current implementation.</p>
<p>Hopefully I'll have something to share soon.</p>



<a name="525806730"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525806730" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525806730">(Jun 26 2025 at 00:22)</a>:</h4>
<p>sounds good!</p>



<a name="525806745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525806745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525806745">(Jun 26 2025 at 00:22)</a>:</h4>
<p>i'm currently refactoring a bunch of stuff having to do with numbers in Can</p>



<a name="525806763"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525806763" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525806763">(Jun 26 2025 at 00:22)</a>:</h4>
<p>Are you working from main? Richard just merged his PR</p>



<a name="525807394"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525807394" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525807394">(Jun 26 2025 at 00:33)</a>:</h4>
<p>yeah <span class="user-mention" data-user-id="781658">@Anthony Bullard</span> make sure to take a look at <code>main</code> - a bunch of canonical number changes just landed!</p>



<a name="525807410"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525807410" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525807410">(Jun 26 2025 at 00:34)</a>:</h4>
<p>oh shoot!  i had no idea you were working on that</p>



<a name="525808314"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525808314" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525808314">(Jun 26 2025 at 00:47)</a>:</h4>
<p>OK, any change you might be able to look at these snapshot examples <a href="https://github.com/roc-lang/roc/pull/7874">https://github.com/roc-lang/roc/pull/7874</a></p>



<a name="525808430"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525808430" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525808430">(Jun 26 2025 at 00:49)</a>:</h4>
<p>yes in a bit</p>



<a name="525808459"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525808459" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525808459">(Jun 26 2025 at 00:50)</a>:</h4>
<p>my number changes might be able to be reused in a later stage but i doubt it</p>



<a name="525815873"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525815873" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525815873">(Jun 26 2025 at 02:50)</a>:</h4>
<p>i approved but you have a lot of spelling mistakes</p>



<a name="525815886"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525815886" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525815886">(Jun 26 2025 at 02:50)</a>:</h4>
<p>fields is uniformly spelled fileds</p>



<a name="525816261"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525816261" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525816261">(Jun 26 2025 at 02:57)</a>:</h4>
<p>This is what happens when your fingers don't obey your brain</p>



<a name="525818118"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525818118" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525818118">(Jun 26 2025 at 03:25)</a>:</h4>
<p>Should the Ident interner be de-duplicating strings? so if I "insert" two identical strings <code>name</code> and <code>name</code> I get the same Idx back?</p>



<a name="525818238"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525818238" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525818238">(Jun 26 2025 at 03:28)</a>:</h4>
<p>In Can there a quite a few places where we are comparing "strings", extracting their idents from the interner by idx then comparing bytes. I thought the idea was we intern them (paying the price once) and then we can use thier Idx's to compare very cheaply</p>



<a name="525819095"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525819095" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525819095">(Jun 26 2025 at 03:40)</a>:</h4>
<p>Update on this for anyone interested. </p>
<blockquote>
<p>The problem is that <strong>each occurrence of an identifier gets its own <code>Ident.Idx</code> value</strong>, even if it has the same text content. The interning system deduplicates the string storage, but still creates separate <code>Ident.Idx</code> values for each occurrence because they have different source locations.</p>
</blockquote>
<blockquote>
<p>So when we're doing scope lookups, we need to compare by text content (using <code>identsHaveSameText</code>) rather than by exact <code>Ident.Idx</code> equality, because the same variable name used in different places in the code will have different <code>Ident.Idx</code> values.</p>
</blockquote>



<a name="525822448"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525822448" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525822448">(Jun 26 2025 at 04:28)</a>:</h4>
<p>Note. We should still never need to compare strings</p>



<a name="525822476"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525822476" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525822476">(Jun 26 2025 at 04:29)</a>:</h4>
<p>Once you know the offset into the underlying byte storage you know if they match or not</p>



<a name="525822503"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525822503" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525822503">(Jun 26 2025 at 04:29)</a>:</h4>
<p>So it should just be a pointer/offset comparison and not a full string comparison</p>



<a name="525822579"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525822579" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525822579">(Jun 26 2025 at 04:30)</a>:</h4>
<p>Yeah the helper is called <code>identsHaveSameText</code> and it does that for us.</p>



<a name="525883598"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/525883598" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#525883598">(Jun 26 2025 at 11:36)</a>:</h4>
<p>i think Martin Odersky has been following you <span class="user-mention" data-user-id="281383">@Richard Feldman</span> </p>
<p><a href="/user_uploads/22008/eCtYV4a0JNSfJvc_DCpjzUpX/image_3B1C51AF-9251-49A2-AD1C-FE077EFB95C1_1750937783.png">image_3B1C51AF-9251-49A2-AD1C-FE077EFB95C1_1750937783.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/eCtYV4a0JNSfJvc_DCpjzUpX/image_3B1C51AF-9251-49A2-AD1C-FE077EFB95C1_1750937783.png" title="image_3B1C51AF-9251-49A2-AD1C-FE077EFB95C1_1750937783.png"><img data-original-content-type="image/png" data-original-dimensions="2796x1290" src="/user_uploads/thumbnail/22008/eCtYV4a0JNSfJvc_DCpjzUpX/image_3B1C51AF-9251-49A2-AD1C-FE077EFB95C1_1750937783.png/840x560.webp"></a></div>



<a name="528449185"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/528449185" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#528449185">(Jul 12 2025 at 10:42)</a>:</h4>
<p>A very quick way to get a backtrace when you hit a segfault:</p>
<div class="codehilite"><pre><span></span><code>$ gdb --batch --ex run --ex bt --args ./zig-out/bin/roc check myApp.roc
</code></pre></div>



<a name="528468270"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/528468270" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#528468270">(Jul 12 2025 at 16:03)</a>:</h4>
<p>What does <code>--batch</code> do there?</p>



<a name="528468858"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/528468858" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#528468858">(Jul 12 2025 at 16:14)</a>:</h4>
<p>It's for providing commands in a one liner; so you don't have to do <code>run</code> and <code>bt</code> separately in the gdb console.</p>



<a name="528468971"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/528468971" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#528468971">(Jul 12 2025 at 16:16)</a>:</h4>
<p>Ah, you need batch to use ex?</p>



<a name="528470384"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Casual%20Conversation/near/528470384" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Casual.20Conversation.html#528470384">(Jul 12 2025 at 16:41)</a>:</h4>
<p>No I was wrong, you can do it with just <code>--ex</code> if you want but then you're still in interactive mode (like paging for the backtrace). Batch is non-interactive, just regular output.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
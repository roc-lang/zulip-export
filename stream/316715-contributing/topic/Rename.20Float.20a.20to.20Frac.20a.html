<html>
<head><meta charset="utf-8"><title>Rename Float a to Frac a · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html">Rename Float a to Frac a</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="281598393"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281598393" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281598393">(May 08 2022 at 13:09)</a>:</h4>
<p>I'm working on <a href="https://github.com/rtfeldman/roc/issues/2848">this issue</a> this weekend!</p>
<p><span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<a name="281599331"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599331" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599331">(May 08 2022 at 13:30)</a>:</h4>
<p>awesome, thank you! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="281599340"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599340" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599340">(May 08 2022 at 13:30)</a>:</h4>
<p>feel free to post here if you have any questions or run into any problems!</p>



<a name="281599414"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599414" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599414">(May 08 2022 at 13:32)</a>:</h4>
<p>Thank you Richard.</p>



<a name="281599455"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599455" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599455">(May 08 2022 at 13:33)</a>:</h4>
<p>So, running the tests (on trunk, without making any changes to the code myself) using <code>cargo test</code>, I get 25 failures.</p>
<p>And some changes are made to my working directory.</p>
<p>How do I proceed?</p>



<a name="281599526"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599526" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599526">(May 08 2022 at 13:35)</a>:</h4>
<p>I suspect these are "mono" tests?</p>



<a name="281599539"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599539" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599539">(May 08 2022 at 13:35)</a>:</h4>
<p>does that word show up in the output?</p>



<a name="281599767"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599767" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599767">(May 08 2022 at 13:40)</a>:</h4>
<p>Yes, "mono" shows up in the output.</p>
<p>Here's a shortened trace of the output:</p>
<div class="codehilite"><pre><span></span><code> procedure List.57 (#Attr.2, #Attr.3, #Attr.4):
-    let List.158 : U64 = lowlevel ListLen #Attr.2;
-    let List.156 : Int1 = lowlevel NumLt #Attr.3 List.158;
-    if List.156 then
-        let List.157 : {List I64, I64} = lowlevel ListReplaceUnsafe #Attr.2 #Attr.3 #Attr.4;
-        ret List.157;
+    let List.161 : U64 = lowlevel ListLen #Attr.2;
+    let List.159 : Int1 = lowlevel NumLt #Attr.3 List.161;
+    if List.159 then
+        let List.160 : {List I64, I64} = lowlevel ListReplaceUnsafe #Attr.2 #Attr.3 #Attr.4;
+        ret List.160;
     else
-        let List.155 : {List I64, I64} = Struct {#Attr.2, #Attr.4};
-        ret List.155;
+        let List.158 : {List I64, I64} = Struct {#Attr.2, #Attr.4};
+        ret List.158;

 procedure Test.1 (Test.2, Test.3, Test.4):
     let Test.29 : [C {}, C I64] = CallByName List.2 Test.4 Test.3;
@@ -48,8 +48,8 @@ procedure Test.1 (Test.2, Test.3, Test.4):
             let Test.18 : [C {}, C I64] = StructAtIndex 0 Test.13;
             let Test.6 : I64 = UnionAtIndex (Id 1) (Index 0) Test.18;
             let Test.17 : [C {}, C I64] = StructAtIndex 1 Test.13;
-            let Test.7 : I64 = UnionAtIndex (Id 1) (Index 0) Test.17;
-            let Test.15 : List I64 = CallByName List.3 Test.4 Test.2 Test.7;
+            let Test.8 : I64 = UnionAtIndex (Id 1) (Index 0) Test.17;
+            let Test.15 : List I64 = CallByName List.3 Test.4 Test.2 Test.8;
             let Test.14 : List I64 = CallByName List.3 Test.15 Test.3 Test.6;
             ret Test.14;
         else

thread &#39;rigids&#39; panicked at &#39;Output changed: resolve conflicts and `git add` the file.&#39;, compiler/test_mono/src/tests.rs:190:9


failures:
    alias_variable
    closure_in_list
    empty_list_of_function_type
    ir_int_add
    ir_two_defs
    issue_2583_specialize_errors_behind_unified_branches
    let_x_in_x
    let_x_in_x_indirect
    list_append
    list_append_closure
    list_cannot_update_inplace
    list_get
    list_len
    list_pass_to_function
    monomorphized_applied_tag
    monomorphized_floats
    monomorphized_ints
    monomorphized_list
    monomorphized_tag
    monomorphized_tag_with_aliased_args
    nested_closure
    optional_when
    quicksort_swap
    record_optional_field_function_use_default
    rigids

test result: FAILED. 47 passed; 25 failed; 5 ignored; 0 measured; 0 filtered out; finished in 1.14s

error: test failed, to rerun pass &#39;-p test_mono --test test_mono&#39;
</code></pre></div>



<a name="281599795"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599795" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599795">(May 08 2022 at 13:41)</a>:</h4>
<p>cool, well that has nothing to do with your changes</p>



<a name="281599859"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599859" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599859">(May 08 2022 at 13:42)</a>:</h4>
<p>those tests are not checked by CI (for reasons) and sometimes they get out of sync</p>



<a name="281599866"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599866" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599866">(May 08 2022 at 13:42)</a>:</h4>
<p>so I think for now you can run <code>cargo test --test solve_expr</code> and if those keep working you should be mostly good</p>



<a name="281599883"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599883" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599883">(May 08 2022 at 13:43)</a>:</h4>
<p><code>cargo test --test test_reporting</code> and <code>cargo test-gen-llvm</code> might also be good to check when <code>solve_expr</code> works</p>



<a name="281599889"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599889" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599889">(May 08 2022 at 13:43)</a>:</h4>
<p>bonus: narrowing down which tests you run makes them run much faster</p>



<a name="281599896"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281599896" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281599896">(May 08 2022 at 13:43)</a>:</h4>
<p>Oh, yes, thank you. I've noticed it now. They're super fast! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="281604020"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604020" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604020">(May 08 2022 at 15:22)</a>:</h4>
<p><a href="https://github.com/rtfeldman/roc/pull/3029">My first attempt</a> gets stuck on the building phase when running tests.</p>
<p><span class="user-mention" data-user-id="281543">@Folkert de Vries</span> can you tell what is happening?</p>



<a name="281604153"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604153" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604153">(May 08 2022 at 15:25)</a>:</h4>
<p>yes</p>



<a name="281604163"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604163" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604163">(May 08 2022 at 15:25)</a>:</h4>
<p>what we do is bootstrapping: we use the compiler to build itself</p>



<a name="281604173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604173">(May 08 2022 at 15:25)</a>:</h4>
<p>that is why you get an error during the build; really it's an error that is reported by the compiler</p>



<a name="281604237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604237">(May 08 2022 at 15:26)</a>:</h4>
<p>I think the fix is to, in <code>compiler/builtins/roc/Num.roc </code> change <code>Float range : Num (FloatingPoint range)</code> to the <code>Frac</code> equivalent</p>



<a name="281604251"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281604251" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281604251">(May 08 2022 at 15:27)</a>:</h4>
<p>and also change all mentions of <code>Float</code> to <code>Frac</code></p>



<a name="281612441"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Rename%20Float%20a%20to%20Frac%20a/near/281612441" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mfon Eti-mfon (He/Him) <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Rename.20Float.20a.20to.20Frac.20a.html#281612441">(May 08 2022 at 18:40)</a>:</h4>
<p><a href="https://github.com/rtfeldman/roc/pull/3029">PR</a> ready. ish.</p>
<p>Do we want to rename all <code>*float*</code> functions to <code>*frac*</code> functions?</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
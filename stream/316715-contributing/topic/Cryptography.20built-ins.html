<html>
<head><meta charset="utf-8"><title>Cryptography built-ins · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html">Cryptography built-ins</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="443790053"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443790053" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Heath <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443790053">(Jun 10 2024 at 14:57)</a>:</h4>
<p>On the <a href="#narrow/stream/387892-introductions/topic/introductions/near/443395073">introductions channel</a> <span class="user-mention" data-user-id="515757">@Luke Boswell</span>  suggested that, since I have a strong mathematical background, it would be a good a idea for me to try to make a start on <a href="#narrow/stream/304641-ideas/topic/builtin.20cryptography">this idea </a> to add built-in cryptography.<br>
I have not contributed before so am likely to need a lot of help getting started.</p>



<a name="443799406"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443799406" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443799406">(Jun 10 2024 at 15:32)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> <span class="user-mention" data-user-id="343810">@Brendan Hansknecht</span> what are the first steps here? Do we start with bcrypt and call <a href="https://ziglang.org/documentation/0.11.0/std/#A;std:crypto.pwhash.bcrypt">the zig implementation</a>? Probably also need to add some plumbing to setup compiling crypto stuff to llvm IR</p>



<a name="443800010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443800010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443800010">(Jun 10 2024 at 15:34)</a>:</h4>
<p>That's definitely an easy start. Instead of rewriting a crypto impl, just use what already exists in zig and should be fast.</p>



<a name="443801970"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443801970" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443801970">(Jun 10 2024 at 15:44)</a>:</h4>
<p>are we sure we specifically want bcrypt?</p>



<a name="443802249"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443802249" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443802249">(Jun 10 2024 at 15:45)</a>:</h4>
<p>I think sha256 is the least controversial one I can think of</p>



<a name="443802250"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443802250" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443802250">(Jun 10 2024 at 15:45)</a>:</h4>
<p>and yeah I think using zig (or C, via Zig) implementations is the way to go here! <span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span></p>



<a name="443803849"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443803849" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443803849">(Jun 10 2024 at 15:53)</a>:</h4>
<p>sha256 is good for me</p>



<a name="443804711"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443804711" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443804711">(Jun 10 2024 at 15:57)</a>:</h4>
<p>So in  crates/compiler/builtins/roc do we create a folder Crypt with Sha256.roc as first module?</p>



<a name="443856513"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443856513" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443856513">(Jun 10 2024 at 20:20)</a>:</h4>
<p>sounds good to me!</p>



<a name="443875087"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443875087" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Heath <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443875087">(Jun 10 2024 at 22:33)</a>:</h4>
<p>Would the plan be to just have a pure version of <a href="https://ziglang.org/documentation/0.11.0/std/src/std/crypto/sha2.zig.html#L109"><code>Sha256.hash</code></a> or would there also be a need for the streaming versions with <code>update</code>and <code>finalResult</code>?</p>



<a name="443905672"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443905672" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443905672">(Jun 11 2024 at 03:13)</a>:</h4>
<p>that’s a good question; I’d guess both</p>



<a name="443975327"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443975327" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Agus Zubiaga <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443975327">(Jun 11 2024 at 11:12)</a>:</h4>
<p>It seems good to have SHA256 for message digest, but I think those aren’t recommended for password hashing which I expect would be a common use case</p>



<a name="443985201"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/443985201" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#443985201">(Jun 11 2024 at 12:09)</a>:</h4>
<p>yeah I just think that use case needs more design work to figure out which algorithm(s) to recommend, which to include for backwards compatibility, etc</p>



<a name="444331597"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444331597" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Heath <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444331597">(Jun 12 2024 at 21:01)</a>:</h4>
<p>Is the process: Create issue on the main repo -&gt; create a fork -&gt;  create a branch on the fork-&gt; make the changes -&gt; create a pull request on the main repo , from the forked branch -&gt;  link the PR to the issue ?</p>



<a name="444331751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444331751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444331751">(Jun 12 2024 at 21:02)</a>:</h4>
<p>That works</p>



<a name="444331766"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444331766" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444331766">(Jun 12 2024 at 21:02)</a>:</h4>
<p>Though no need to make an issue specifically</p>



<a name="444331805"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444331805" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444331805">(Jun 12 2024 at 21:02)</a>:</h4>
<p>That works. </p>
<p>In this case I'm not sure we need an Issue though.</p>
<p>Also you can make the changes in a fork too, not sure if everyone has write permissions to roc.</p>



<a name="444331813"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444331813" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444331813">(Jun 12 2024 at 21:02)</a>:</h4>
<p>If it is work to be done, you can just do it, but tracking in issues can be nice</p>



<a name="444837044"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444837044" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Albert <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444837044">(Jun 15 2024 at 07:07)</a>:</h4>
<p>Is there a concept of std libs in Roc yet? What's the difference between built-ins and platform APIs?</p>



<a name="444837277"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/444837277" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#444837277">(Jun 15 2024 at 07:11)</a>:</h4>
<p>There are 3 current types of libraries I guess.</p>
<ol>
<li>Builtins. They are written or roc or zig, part of the compiler, and always available. Are trusted to be pure but have the ability to be unsafe.</li>
<li>Roc libraries. 100% pure roc code. Can be imported by any app. May depend on being passed task builder functions to generate tasks to run.</li>
<li>Platform libraries. Untrusted and must always be accessed through effects/task. Can be written in any language and can do essentially anything. (Note, a platform can also include pure roc code that is equivalent to a roc library)</li>
</ol>



<a name="448955069"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Cryptography%20built-ins/near/448955069" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Heath <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Cryptography.20built-ins.html#448955069">(Jul 03 2024 at 21:45)</a>:</h4>
<p>Hi. Just an update that I have finally found some time to work on this at t<a href="https://github.com/roc-lang/roc/compare/main...MatthewJohnHeath:rocSHA">his fork</a>,. It doesn't work currently but I think I can see what I am doing wrong</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
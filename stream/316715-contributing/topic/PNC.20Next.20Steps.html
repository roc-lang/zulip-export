<html>
<head><meta charset="utf-8"><title>PNC Next Steps · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html">PNC Next Steps</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="491551765"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491551765" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491551765">(Jan 02 2025 at 03:33)</a>:</h4>
<p>I think that PNC should land probably tomorrow - unless Joshua takes another look and has another point of contention.  I have a stash with all examples and builtins migrated to use PNC(I moved the flag to an option that allow the user to choose a migration to apply (all, none, snake_case, and parens_and_commas).  Should I attempt to do the Tutorial as well?  Any thing else I should address as a fast follow?</p>



<a name="491551969"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491551969" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491551969">(Jan 02 2025 at 03:36)</a>:</h4>
<p>The tutorial would be a good change, but a different PR would be good, yes</p>



<a name="491551991"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491551991" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491551991">(Jan 02 2025 at 03:37)</a>:</h4>
<p>Oh yeah, this will all be in a separate PR for sure</p>



<a name="491552015"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552015" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552015">(Jan 02 2025 at 03:37)</a>:</h4>
<p>I don't think there's anything that needs to be in a fast followup</p>



<a name="491552018"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552018" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552018">(Jan 02 2025 at 03:37)</a>:</h4>
<p>Since this change will be made incrementally</p>



<a name="491552100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552100">(Jan 02 2025 at 03:38)</a>:</h4>
<p>But updating the builtins next would unblock deprecation of whitespace function calls</p>



<a name="491552133"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552133" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552133">(Jan 02 2025 at 03:39)</a>:</h4>
<p>I presume you have a mental list of the steps between now and getting this into basic-(cli|webserver) releases</p>



<a name="491552144"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552144" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552144">(Jan 02 2025 at 03:39)</a>:</h4>
<p>Happy to talk through those if you don't</p>



<a name="491552163"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552163" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552163">(Jan 02 2025 at 03:39)</a>:</h4>
<p>But that's the main goal, after which case we do either soft deprecation via warnings or hard deprecation via removal</p>



<a name="491552224"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552224" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552224">(Jan 02 2025 at 03:40)</a>:</h4>
<p>But I understand removal to be necessary to unblock other syntax features, so I think we should just bite that bullet</p>



<a name="491552466"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552466" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552466">(Jan 02 2025 at 03:44)</a>:</h4>
<p><a href="/user_uploads/22008/NB6zkf5bZhzx3rs6W9ViQHBs/Screenshot-2025-01-01-at-9.44.43-PM.png">Screenshot 2025-01-01 at 9.44.43 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/22008/NB6zkf5bZhzx3rs6W9ViQHBs/Screenshot-2025-01-01-at-9.44.43-PM.png" title="Screenshot 2025-01-01 at 9.44.43 PM.png"><img data-original-dimensions="560x123" src="/user_uploads/thumbnail/22008/NB6zkf5bZhzx3rs6W9ViQHBs/Screenshot-2025-01-01-at-9.44.43-PM.png/840x560.webp"></a></div>



<a name="491552593"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552593" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552593">(Jan 02 2025 at 03:46)</a>:</h4>
<p>Hmm... not a perfect intermediate state, but it's correct, so go for it!</p>



<a name="491552649"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552649" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552649">(Jan 02 2025 at 03:47)</a>:</h4>
<p>Here's my checklist</p>
<ul>
<li>[x] <del>Land the PNC PR</del></li>
<li>[ ] Update builtins and example in roc-lang/roc</li>
<li>[ ] Update examples in roc-lang/examples</li>
<li>[ ] Update tutorial</li>
<li>[ ] Make announcement in <a class="stream" data-stream-id="397893" href="/#narrow/channel/397893-announcements">#announcements</a> </li>
<li>[ ] Update basic-cli / basic-webserver platforms</li>
<li>[ ] Work with active package authors to update their packages</li>
<li>[ ] ????</li>
<li>[ ] Profit!!!</li>
</ul>



<a name="491552710"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552710" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552710">(Jan 02 2025 at 03:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="461444">Sam Mohr</span> <a href="#narrow/channel/316715-contributing/topic/PNC.20Next.20Steps/near/491552593">said</a>:</p>
<blockquote>
<p>Hmm... not a perfect intermediate state, but it's correct, so go for it!</p>
</blockquote>
<p>This was done by hand editing HTML in dev tools. What's off to you?</p>



<a name="491552721"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552721" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552721">(Jan 02 2025 at 03:48)</a>:</h4>
<p>The syntax itself</p>



<a name="491552744"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552744" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552744">(Jan 02 2025 at 03:48)</a>:</h4>
<p>Because no new lambda syntax and SD?</p>



<a name="491552751"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552751" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552751">(Jan 02 2025 at 03:48)</a>:</h4>
<p>Not a you thing, an evolution by discrete generations</p>



<a name="491552759"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552759" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552759">(Jan 02 2025 at 03:48)</a>:</h4>
<p>Yeah</p>



<a name="491552774"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552774" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552774">(Jan 02 2025 at 03:49)</a>:</h4>
<p>Ah, I'd actually be very happy with this</p>



<a name="491552782"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552782" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552782">(Jan 02 2025 at 03:49)</a>:</h4>
<p>But I really would like to do the new lambda syntax next</p>



<a name="491552809"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552809" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552809">(Jan 02 2025 at 03:49)</a>:</h4>
<p>I mainly dislike the odd (but correct) alignment of the parens for <code>List.map(...)</code></p>



<a name="491552827"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552827" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552827">(Jan 02 2025 at 03:49)</a>:</h4>
<p>otherwise this looks good to me</p>



<a name="491552889"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552889" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552889">(Jan 02 2025 at 03:50)</a>:</h4>
<p>Let me see how we would format this right now</p>



<a name="491552908"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491552908" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491552908">(Jan 02 2025 at 03:50)</a>:</h4>
<p>That's why I was pushing for that weird Kotlin syntax that takes final argument callbacks out of the parens, but they don't seem to be popular, so <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="491553088"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553088" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553088">(Jan 02 2025 at 03:53)</a>:</h4>
<p>Oh that's exactly how it will look after migration</p>



<a name="491553115"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553115" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553115">(Jan 02 2025 at 03:53)</a>:</h4>
<p>Yep</p>



<a name="491553205"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553205" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553205">(Jan 02 2025 at 03:54)</a>:</h4>
<p>Add a comma to the end of the lambda, and you get:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">credits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
<span class="w">        </span><span class="n">songs</span><span class="p">,</span>
<span class="w">        </span><span class="p">\</span><span class="n">song</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">"Performed by $(song.artist)"</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>



<a name="491553242"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553242" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553242">(Jan 02 2025 at 03:55)</a>:</h4>
<p>Why the double indent?</p>



<a name="491553249"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553249" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553249">(Jan 02 2025 at 03:55)</a>:</h4>
<p>That's my fault copy/pasting</p>



<a name="491553252"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553252" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553252">(Jan 02 2025 at 03:55)</a>:</h4>
<p>Oh, okay</p>



<a name="491553266"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553266" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553266">(Jan 02 2025 at 03:55)</a>:</h4>
<p>To format it, I had to wrap it in a function:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">does_not_matter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">\</span><span class="n">songs</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="n">credits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">List</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
<span class="w">        </span><span class="n">songs</span><span class="p">,</span>
<span class="w">        </span><span class="p">\</span><span class="n">song</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s2">"Performed by $(song.artist)"</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="n">credits</span>
</code></pre></div>



<a name="491553272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553272">(Jan 02 2025 at 03:55)</a>:</h4>
<p>I see</p>



<a name="491553315"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553315" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553315">(Jan 02 2025 at 03:56)</a>:</h4>
<p>Because I was using a real file :-)</p>



<a name="491553335"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491553335" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491553335">(Jan 02 2025 at 03:56)</a>:</h4>
<p>Could have done it as a snapshot but thought that would be silly</p>



<a name="491554877"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491554877" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491554877">(Jan 02 2025 at 04:18)</a>:</h4>
<p>Since this will lead to breaking changes, I think it would be good to slip <a href="https://github.com/roc-lang/roc/issues/7448">#7448</a> in with it. Both require updates to platforms for functionality to continue.</p>



<a name="491554942"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491554942" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491554942">(Jan 02 2025 at 04:19)</a>:</h4>
<p>Also, I would advise pushing <code>[ ] Update basic-cli / basic-webserver platforms</code> right after <code>Update builtins</code> and definitely before the annoucement. Otherwise, people will read the announcement but not really be able to test anything cause basic-cli won't be updated yet.</p>



<a name="491599907"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491599907" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491599907">(Jan 02 2025 at 11:58)</a>:</h4>
<p>This is just PNC migration - not a breaking change for the platform as long as they are using nightly compiler</p>



<a name="491611348"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491611348" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491611348">(Jan 02 2025 at 13:35)</a>:</h4>
<p>Ah, this won't include the snake case renaming. I thought we were shipping both together.</p>



<a name="491616534"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491616534" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491616534">(Jan 02 2025 at 14:17)</a>:</h4>
<p>Migrating builtins to snake_case _is_ breaking and a lot of work</p>



<a name="491616557"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491616557" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491616557">(Jan 02 2025 at 14:17)</a>:</h4>
<p>Well, relative to migrating to PNC</p>



<a name="491616901"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491616901" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491616901">(Jan 02 2025 at 14:20)</a>:</h4>
<p>One thing that I'm noticing in this migration that I'm not sure if we want is that crash, dbg, and try are looking like application instead of a keyword [space] expr sequence in a statement</p>



<a name="491617182"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491617182" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491617182">(Jan 02 2025 at 14:22)</a>:</h4>
<p>I know that the plan is to deprecate <code>try</code> keyword once we have PNC (is that correct <span class="user-mention" data-user-id="461444">@Sam Mohr</span> ), so i'm not as worried about that, but crash and dbg I don't think should look like application even if that technically works</p>



<a name="491618441"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491618441" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491618441">(Jan 02 2025 at 14:31)</a>:</h4>
<p>Yes, I believe it's better to have those keywords be visually distinct</p>



<a name="491619109"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619109" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619109">(Jan 02 2025 at 14:35)</a>:</h4>
<p>It's a formatting issue that I'll dive into before I have to go back to work <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span></p>



<a name="491619126"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619126" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619126">(Jan 02 2025 at 14:35)</a>:</h4>
<p>I assumed they would also transfer to PNC.</p>



<a name="491619165"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619165" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619165">(Jan 02 2025 at 14:35)</a>:</h4>
<p>I mean they aren't distinct in today's roc.</p>



<a name="491619188"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619188" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619188">(Jan 02 2025 at 14:35)</a>:</h4>
<p>So why make them distinct in PNC?</p>



<a name="491619313"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619313" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619313">(Jan 02 2025 at 14:36)</a>:</h4>
<p>They of course can be colored differently by the lsp</p>



<a name="491619353"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619353" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619353">(Jan 02 2025 at 14:36)</a>:</h4>
<p>Yeah, it's a small but important question.</p>



<a name="491619371"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619371" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619371">(Jan 02 2025 at 14:36)</a>:</h4>
<p>Let me check return</p>



<a name="491619394"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619394" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619394">(Jan 02 2025 at 14:36)</a>:</h4>
<p>Also, <code>dbg</code> needs to fit into method syntax pipelines.</p>



<a name="491619484"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619484" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619484">(Jan 02 2025 at 14:37)</a>:</h4>
<p><code>.pass_to(dbg)</code> or <code>.(dbg)()</code></p>



<a name="491619494"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619494" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619494">(Jan 02 2025 at 14:37)</a>:</h4>
<p>Ok, <code>return</code> does what I expect which is it is a distinct keyword in a statement</p>



<a name="491619717"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619717" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619717">(Jan 02 2025 at 14:39)</a>:</h4>
<p>Yeah, return is a true keyword. <code>dbg</code> and <code>crash</code> could easily be platform functions instead as <code>dbg!</code> and <code>crash!</code>. that is why I don't think they should be too special</p>



<a name="491619800"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619800" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619800">(Jan 02 2025 at 14:39)</a>:</h4>
<p>I don't think we want them marked as effectful do we?</p>



<a name="491619860"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619860" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619860">(Jan 02 2025 at 14:40)</a>:</h4>
<p>That would color any otherwise pure function that uses them</p>



<a name="491619897"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619897" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619897">(Jan 02 2025 at 14:40)</a>:</h4>
<p>Without syntax highlighting they aren't distinct as special.</p>



<a name="491619963"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619963" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619963">(Jan 02 2025 at 14:40)</a>:</h4>
<p>I think he's just pointing out that they could be implemented as platform functions, not that they should have exclams</p>



<a name="491619984"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619984" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619984">(Jan 02 2025 at 14:40)</a>:</h4>
<p>Since they're so simple</p>



<a name="491619999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491619999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491619999">(Jan 02 2025 at 14:40)</a>:</h4>
<p>Sure</p>



<a name="491620020"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491620020" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491620020">(Jan 02 2025 at 14:41)</a>:</h4>
<p>But is the intermediate state OK?</p>



<a name="491620067"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491620067" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491620067">(Jan 02 2025 at 14:41)</a>:</h4>
<p>Where they are in the language still special keywords, but formatted like function application?</p>



<a name="491620278"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491620278" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491620278">(Jan 02 2025 at 14:43)</a>:</h4>
<p>Oh, and I just noticed that Sam landed his PR removing backpassing</p>



<a name="491620308"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491620308" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491620308">(Jan 02 2025 at 14:43)</a>:</h4>
<p>So....we'll see if I get around to dealing with all of those conflicts today</p>



<a name="491620463"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491620463" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491620463">(Jan 02 2025 at 14:44)</a>:</h4>
<p>Yeah, sorry if my comment was confusing. Was just trying to say I think we should handle dbg and crash like normal functions. They really are normal platform functions. They just get a special exception not to require <code>!</code></p>



<a name="491621913"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491621913" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491621913">(Jan 02 2025 at 14:56)</a>:</h4>
<p>Makes sense!</p>



<a name="491621937"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491621937" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491621937">(Jan 02 2025 at 14:56)</a>:</h4>
<p>That actually will simplify the compiler quite a bit</p>



<a name="491622059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491622059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491622059">(Jan 02 2025 at 14:57)</a>:</h4>
<p>Makes me wish that <code>return</code> could just be a unary op like <code>^</code> and then I don't think we would need statements at all anymore</p>



<a name="491622731"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491622731" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491622731">(Jan 02 2025 at 15:02)</a>:</h4>
<p>I agree, but since <code>return</code> is only used at the start of statements, it's not that bad</p>



<a name="491622843"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491622843" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491622843">(Jan 02 2025 at 15:03)</a>:</h4>
<p>Yes but now it will be the only thing requiring us to having statements</p>



<a name="491622877"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491622877" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491622877">(Jan 02 2025 at 15:03)</a>:</h4>
<p>Doesn't <code>x = 123</code> also require that?</p>



<a name="491622971"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491622971" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491622971">(Jan 02 2025 at 15:04)</a>:</h4>
<p>What I mean is now Statements can just be a enum of {BindingStmt, ExprStmt}</p>



<a name="491623098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491623098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491623098">(Jan 02 2025 at 15:05)</a>:</h4>
<p>And technically it wouldn't be needed since an Expr block would just be something like a enum of {ExprOnly(expr), WithBindings(bindings: [Binding], expr: Expr)}</p>



<a name="491623173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491623173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491623173">(Jan 02 2025 at 15:06)</a>:</h4>
<p>Sure, but I don't think a grammar of</p>
<div class="codehilite"><pre><span></span><code>(pattern &quot;=&quot; | &quot;return&quot;)? expr
</code></pre></div>
<p>for statements is that bad</p>



<a name="491623215"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491623215" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491623215">(Jan 02 2025 at 15:06)</a>:</h4>
<p>True</p>



<a name="491623231"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491623231" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491623231">(Jan 02 2025 at 15:06)</a>:</h4>
<p>We're probably on the same page here. Would love to remove it, not sure how <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="491623306"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491623306" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491623306">(Jan 02 2025 at 15:07)</a>:</h4>
<p>And I guess <code>^</code> would eat into the strangeness budget even though (or maybe exactly because) it's cribbed from SmallTalk <span aria-label="tears" class="emoji emoji-1f602" role="img" title="tears">:tears:</span></p>



<a name="491627254"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491627254" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491627254">(Jan 02 2025 at 15:36)</a>:</h4>
<blockquote>
<p>it's cribbed from SmallTalk</p>
</blockquote>
<p>never would have guessed. I just thought it was something totally random.</p>



<a name="491679822"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491679822" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491679822">(Jan 02 2025 at 23:27)</a>:</h4>
<p>PNC is gonna have to wait a day or two.  I pulled in <span class="user-mention" data-user-id="461444">@Sam Mohr</span> 's change and now there is one snapshot that is failing in a nasty way and I gotta figure out what happened.</p>



<a name="491679873"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491679873" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491679873">(Jan 02 2025 at 23:28)</a>:</h4>
<p>Is there something I'd be able to help with?</p>



<a name="491679928"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491679928" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491679928">(Jan 02 2025 at 23:28)</a>:</h4>
<p>Maybe</p>



<a name="491680470"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680470" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680470">(Jan 02 2025 at 23:33)</a>:</h4>
<p>This:</p>
<div class="codehilite" data-code-language="Ruby"><pre><span></span><code><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="c1">#</span>
<span class="p">)</span><span class="n">implements</span><span class="w"> </span><span class="ss">e</span><span class="p">:</span><span class="n">m</span>
<span class="n">C</span>
</code></pre></div>
<p>is supposed be:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="n">SpaceAfter</span><span class="p">(</span>
<span class="w">    </span><span class="n">Defs</span><span class="p">(</span>
<span class="w">        </span><span class="n">Defs</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">tags</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">EitherIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">regions</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">space_before</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Slice</span><span class="o">&lt;</span><span class="n">roc_parse</span><span class="p">::</span><span class="n">ast</span><span class="p">::</span><span class="n">CommentOrNewline</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">space_after</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Slice</span><span class="o">&lt;</span><span class="n">roc_parse</span><span class="p">::</span><span class="n">ast</span><span class="p">::</span><span class="n">CommentOrNewline</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">spaces</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">            </span><span class="n">type_defs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Ability</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">header</span><span class="p">:</span><span class="w"> </span><span class="nc">TypeHeader</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="s">"C"</span><span class="p">,</span>
<span class="w">                        </span><span class="n">vars</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                            </span><span class="o">@</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="n">SpaceAfter</span><span class="p">(</span>
<span class="w">                                </span><span class="n">NumLiteral</span><span class="p">(</span>
<span class="w">                                    </span><span class="s">"4"</span><span class="p">,</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="p">[</span>
<span class="w">                                    </span><span class="n">LineComment</span><span class="p">(</span>
<span class="w">                                        </span><span class="s">""</span><span class="p">,</span>
<span class="w">                                    </span><span class="p">),</span>
<span class="w">                                </span><span class="p">],</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">],</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="n">loc_implements</span><span class="p">:</span><span class="w"> </span><span class="o">@</span><span class="mi">6</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="n">Implements</span><span class="p">,</span>
<span class="w">                    </span><span class="n">members</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">AbilityMember</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="o">@</span><span class="mi">17</span><span class="o">-</span><span class="mi">18</span><span class="w"> </span><span class="s">"e"</span><span class="p">,</span>
<span class="w">                            </span><span class="n">typ</span><span class="p">:</span><span class="w"> </span><span class="o">@</span><span class="mi">19</span><span class="o">-</span><span class="mi">20</span><span class="w"> </span><span class="n">BoundVariable</span><span class="p">(</span>
<span class="w">                                </span><span class="s">"m"</span><span class="p">,</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">value_defs</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="o">@</span><span class="mi">21</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="n">SpaceBefore</span><span class="p">(</span>
<span class="w">            </span><span class="n">Tag</span><span class="p">(</span>
<span class="w">                </span><span class="s">"C"</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="p">[</span>
<span class="w">                </span><span class="n">Newline</span><span class="p">,</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span>
<span class="w">        </span><span class="n">Newline</span><span class="p">,</span>
<span class="w">    </span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>
<p>but comes out instead as:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="n">SpaceAfter</span><span class="p">(</span>
<span class="w">     </span><span class="n">Defs</span><span class="p">(</span>
<span class="w">         </span><span class="n">Defs</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">tags</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="n">EitherIndex</span><span class="p">(</span><span class="mi">2147483648</span><span class="p">),</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="n">regions</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="n">space_before</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="n">Slice</span><span class="o">&lt;</span><span class="n">roc_parse</span><span class="p">::</span><span class="n">ast</span><span class="p">::</span><span class="n">CommentOrNewline</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="n">space_after</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="n">Slice</span><span class="o">&lt;</span><span class="n">roc_parse</span><span class="p">::</span><span class="n">ast</span><span class="p">::</span><span class="n">CommentOrNewline</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">             </span><span class="n">spaces</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">             </span><span class="n">type_defs</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">             </span><span class="n">value_defs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="n">Annotation</span><span class="p">(</span>
<span class="w">                     </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="n">Apply</span><span class="p">(</span>
<span class="w">                         </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="n">Apply</span><span class="p">(</span>
<span class="w">                             </span><span class="o">@</span><span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">Tag</span><span class="p">(</span>
<span class="w">                                 </span><span class="s">"C"</span><span class="p">,</span>
<span class="w">                             </span><span class="p">),</span>
<span class="w">                             </span><span class="p">[</span>
<span class="w">                                 </span><span class="o">@</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="n">SpaceAfter</span><span class="p">(</span>
<span class="w">                                     </span><span class="n">NumLiteral</span><span class="p">(</span>
<span class="w">                                         </span><span class="s">"4"</span><span class="p">,</span>
<span class="w">                                     </span><span class="p">),</span>
<span class="w">                                     </span><span class="p">[</span>
<span class="w">                                         </span><span class="n">LineComment</span><span class="p">(</span>
<span class="w">                                             </span><span class="s">""</span><span class="p">,</span>
<span class="w">                                         </span><span class="p">),</span>
<span class="w">                                     </span><span class="p">],</span>
<span class="w">                                 </span><span class="p">),</span>
<span class="w">                             </span><span class="p">],</span>
<span class="w">                             </span><span class="n">ParensAndCommas</span><span class="p">,</span>
<span class="w">                         </span><span class="p">),</span>
<span class="w">                         </span><span class="p">[</span>
<span class="w">                             </span><span class="o">@</span><span class="mi">6</span><span class="o">-</span><span class="mi">16</span><span class="w"> </span><span class="n">Identifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                 </span><span class="n">ident</span><span class="p">:</span><span class="w"> </span><span class="s">"implements"</span><span class="p">,</span>
<span class="w">                             </span><span class="p">},</span>
<span class="w">                             </span><span class="o">@</span><span class="mi">17</span><span class="o">-</span><span class="mi">18</span><span class="w"> </span><span class="n">Identifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                 </span><span class="n">ident</span><span class="p">:</span><span class="w"> </span><span class="s">"e"</span><span class="p">,</span>
<span class="w">                             </span><span class="p">},</span>
<span class="w">                         </span><span class="p">],</span>
<span class="w">                         </span><span class="n">Whitespace</span><span class="p">,</span>
<span class="w">                     </span><span class="p">),</span>
<span class="w">                     </span><span class="o">@</span><span class="mi">19</span><span class="o">-</span><span class="mi">20</span><span class="w"> </span><span class="n">BoundVariable</span><span class="p">(</span>
<span class="w">                         </span><span class="s">"m"</span><span class="p">,</span>
<span class="w">                     </span><span class="p">),</span>
<span class="w">                 </span><span class="p">),</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="o">@</span><span class="mi">21</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="n">SpaceBefore</span><span class="p">(</span>
<span class="w">             </span><span class="n">Tag</span><span class="p">(</span>
<span class="w">                 </span><span class="s">"C"</span><span class="p">,</span>
<span class="w">             </span><span class="p">),</span>
<span class="w">             </span><span class="p">[</span>
<span class="w">                 </span><span class="n">Newline</span><span class="p">,</span>
<span class="w">             </span><span class="p">],</span>
<span class="w">         </span><span class="p">),</span>
<span class="w">     </span><span class="p">),</span>
<span class="w">     </span><span class="p">[</span>
<span class="w">         </span><span class="n">Newline</span><span class="p">,</span>
<span class="w">     </span><span class="p">],</span>
<span class="w"> </span><span class="p">)</span>
</code></pre></div>



<a name="491680555"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680555" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680555">(Jan 02 2025 at 23:34)</a>:</h4>
<p>When you say "is supposed to be", do you mean that's the old state, or do you mean that's what you <em>personally</em> think it should be?</p>



<a name="491680587"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680587" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680587">(Jan 02 2025 at 23:34)</a>:</h4>
<p>I think it's meant to be a Ability, but this "expr", even formatted makes zero sense to me at all</p>



<a name="491680607"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680607" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680607">(Jan 02 2025 at 23:35)</a>:</h4>
<p>I didn't think you could have <code>implements</code> in the header of an annotation</p>



<a name="491680644"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680644" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680644">(Jan 02 2025 at 23:35)</a>:</h4>
<p>I think this test isn't super useful</p>



<a name="491680728"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680728" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680728">(Jan 02 2025 at 23:36)</a>:</h4>
<p>Here's what it supposedly is formatted:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="kt">C</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="err">#</span>
<span class="w">    </span><span class="nv">implements</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="nf">:</span><span class="w"> </span><span class="nv">m</span>
<span class="kt">C</span>
</code></pre></div>



<a name="491680863"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491680863" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491680863">(Jan 02 2025 at 23:38)</a>:</h4>
<p>Okay, that makes <em>more</em> sense, now that I've referenced the <a href="https://www.roc-lang.org/abilities">ability docs</a></p>



<a name="491681010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681010">(Jan 02 2025 at 23:40)</a>:</h4>
<p>No, I think that your new behavior is correct</p>



<a name="491681014"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681014" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681014">(Jan 02 2025 at 23:40)</a>:</h4>
<p>The closest logical thing would be:</p>
<div class="codehilite"><pre><span></span><code>C a  #
    implements e : m
C
</code></pre></div>



<a name="491681027"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681027" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681027">(Jan 02 2025 at 23:40)</a>:</h4>
<p>Really?</p>



<a name="491681029"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681029" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681029">(Jan 02 2025 at 23:40)</a>:</h4>
<p>Oh, actually</p>



<a name="491681045"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681045" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681045">(Jan 02 2025 at 23:40)</a>:</h4>
<p>So we're supposed to have two parsing formats</p>



<a name="491681059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681059">(Jan 02 2025 at 23:40)</a>:</h4>
<p>Because if you remove the comment/newline you get</p>
<div class="codehilite"><pre><span></span><code>C a implements e : m
C
</code></pre></div>



<a name="491681065"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681065" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681065">(Jan 02 2025 at 23:41)</a>:</h4>
<p>Types have their args applied with spaces</p>



<a name="491681078"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681078" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681078">(Jan 02 2025 at 23:41)</a>:</h4>
<p>But values have them applied with parens</p>



<a name="491681083"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681083" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681083">(Jan 02 2025 at 23:41)</a>:</h4>
<p>Yes</p>



<a name="491681092"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681092" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681092">(Jan 02 2025 at 23:41)</a>:</h4>
<p>So your code is parsing it like a value instead of a type</p>



<a name="491681096"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681096" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681096">(Jan 02 2025 at 23:41)</a>:</h4>
<p>And that will remain the case after PNC</p>



<a name="491681125"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681125" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681125">(Jan 02 2025 at 23:42)</a>:</h4>
<p>Oh, so it's the order that we look for defs then right?</p>



<a name="491681172"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681172" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681172">(Jan 02 2025 at 23:42)</a>:</h4>
<p>That might be it</p>



<a name="491681173"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681173" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681173">(Jan 02 2025 at 23:42)</a>:</h4>
<p>I'm looking now</p>



<a name="491681227"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681227" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681227">(Jan 02 2025 at 23:43)</a>:</h4>
<p>It seems like if we find the a Expr::Var("implements") or Pattern:Identifier("implements") we should Err out with a malformed...</p>



<a name="491681417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681417">(Jan 02 2025 at 23:44)</a>:</h4>
<p>I'm not sure I agree, but maybe</p>



<a name="491681510"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681510" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681510">(Jan 02 2025 at 23:45)</a>:</h4>
<p>There is logic to say <a href="https://github.com/roc-lang/roc/blob/91ed6a5a8e67f4e1a1255fd21f7dca3570e95202/crates/compiler/parse/src/keyword.rs#L28">any ident that matches a keyword is blocked</a></p>



<a name="491681584"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681584" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681584">(Jan 02 2025 at 23:46)</a>:</h4>
<p>But we don't include <code>IMPLEMENTS</code> in <code>KEYWORDS</code></p>



<a name="491681592"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681592" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681592">(Jan 02 2025 at 23:46)</a>:</h4>
<p>I'd add that keyword and see if it breaks</p>



<a name="491681603"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681603" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681603">(Jan 02 2025 at 23:46)</a>:</h4>
<p>Or rather, that this parses correctly</p>



<a name="491681608"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681608" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681608">(Jan 02 2025 at 23:46)</a>:</h4>
<p>Ok, I'll try the same</p>



<a name="491681651"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681651" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681651">(Jan 02 2025 at 23:47)</a>:</h4>
<p>But this I think is because we only parse an ability if the first expression in the expression chain is a tag</p>



<a name="491681673"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681673" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681673">(Jan 02 2025 at 23:47)</a>:</h4>
<p>Now with parens, it will always be an Apply</p>



<a name="491681746"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681746" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681746">(Jan 02 2025 at 23:48)</a>:</h4>
<p>Man, I'm flip-flopping over here</p>



<a name="491681780"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681780" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681780">(Jan 02 2025 at 23:48)</a>:</h4>
<p>So this is similar to how we have to accept that <code>SomeTag(1,2)</code> is equivalent to <code>SomeTag 1 2</code> and never <code>SomeTag (1,2)</code></p>



<a name="491681816"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681816" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681816">(Jan 02 2025 at 23:49)</a>:</h4>
<p>I think this case is testing a behavior that makes sense if PNC doesn't exist, but makes less sense in PNC land. Maybe this is crazy, but I think you should just delete this</p>



<a name="491681863"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491681863" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491681863">(Jan 02 2025 at 23:49)</a>:</h4>
<p>I'm OK with it if you are.  I'll make sure that</p>
<div class="codehilite"><pre><span></span><code>C 4 #
    implements e : m
C
</code></pre></div>
<p>Give the right AST</p>



<a name="491682003"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491682003" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491682003">(Jan 02 2025 at 23:51)</a>:</h4>
<p>Yeah it does - with a little swapping around of Spaces</p>



<a name="491682019"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491682019" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491682019">(Jan 02 2025 at 23:51)</a>:</h4>
<p>I can rename it to not mention parens and just overwrite</p>



<a name="491682643"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491682643" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491682643">(Jan 02 2025 at 23:59)</a>:</h4>
<p>Rebase complete</p>



<a name="491683001"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683001" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683001">(Jan 03 2025 at 00:02)</a>:</h4>
<p>Now here's hoping I can get an approval before someone lands something else in the parser/formatter <span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<a name="491683207"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683207" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683207">(Jan 03 2025 at 00:05)</a>:</h4>
<p>Looking now</p>



<a name="491683543"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683543" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683543">(Jan 03 2025 at 00:09)</a>:</h4>
<p>Shoot, I have a can test failure</p>



<a name="491683568"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683568" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683568">(Jan 03 2025 at 00:09)</a>:</h4>
<p>Looks like a couple were updated by you Sam, I just gotta add the PatternAppyStyle</p>



<a name="491683659"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683659" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683659">(Jan 03 2025 at 00:10)</a>:</h4>
<p>Okay, still reviewing</p>



<a name="491683715"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683715" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683715">(Jan 03 2025 at 00:11)</a>:</h4>
<p>Done</p>



<a name="491683726"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683726" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683726">(Jan 03 2025 at 00:11)</a>:</h4>
<p>I love insta</p>



<a name="491683865"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491683865" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491683865">(Jan 03 2025 at 00:12)</a>:</h4>
<p>It makes life much easier and brainless</p>



<a name="491684044"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491684044" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491684044">(Jan 03 2025 at 00:14)</a>:</h4>
<p>Can we move test_syntax to this please?</p>



<a name="491684082"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491684082" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Mohr <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491684082">(Jan 03 2025 at 00:15)</a>:</h4>
<p>If you make a PR, I'll approve it</p>



<a name="491684127"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491684127" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491684127">(Jan 03 2025 at 00:15)</a>:</h4>
<p>I can try sometime soon</p>



<a name="491684154"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491684154" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491684154">(Jan 03 2025 at 00:15)</a>:</h4>
<p>I have like 3 other issues queued up :-)</p>



<a name="491684237"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491684237" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491684237">(Jan 03 2025 at 00:16)</a>:</h4>
<p>Luckily Joshua went over this pretty good, so the review should be relatively easy</p>



<a name="491755617"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491755617" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491755617">(Jan 03 2025 at 13:08)</a>:</h4>
<p>This PR is now only blocked by a failed panic check.  I added a new <code>.unwrap()</code> in the minimize binary in test_syntax during arg parsing.  I believe that is reasonable behavior (and following the local pattern).  If someone with authority to override it could take a look I would be very thankful.</p>



<a name="491755901"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491755901" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491755901">(Jan 03 2025 at 13:10)</a>:</h4>
<p>I replied in the PR</p>



<a name="491756216"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491756216" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491756216">(Jan 03 2025 at 13:13)</a>:</h4>
<p>Just tagged you in a comment on the line</p>



<a name="491756480"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491756480" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491756480">(Jan 03 2025 at 13:14)</a>:</h4>
<p>I replaced</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">fs</span><span class="p">::</span><span class="n">read_to_string</span><span class="p">(</span><span class="o">&amp;</span><span class="n">args</span><span class="p">[</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]).</span><span class="n">unwrap</span><span class="p">();</span>
</code></pre></div>
<p>with</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"-"</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="p">::</span><span class="n">io</span><span class="p">::</span><span class="n">stdin</span><span class="p">().</span><span class="n">read_to_string</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">buf</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">        </span><span class="n">buf</span><span class="p">.</span><span class="n">to_string</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="p">::</span><span class="n">fs</span><span class="p">::</span><span class="n">read_to_string</span><span class="p">(</span><span class="n">input</span><span class="p">).</span><span class="n">unwrap</span><span class="p">()</span>
<span class="w">    </span><span class="p">};</span>
</code></pre></div>



<a name="491760010"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491760010" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491760010">(Jan 03 2025 at 13:43)</a>:</h4>
<p>I'm going to write a Roc program that can actually show you the panics and unwraps added in a feature branch</p>



<a name="491764999"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491764999" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491764999">(Jan 03 2025 at 14:24)</a>:</h4>
<p>Actually you really just need to change the violations collection line to:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nv">VIOLATIONS</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span>cargo<span class="w"> </span>clippy<span class="w"> </span>--no-deps<span class="w"> </span>--<span class="w"> </span>-W<span class="w"> </span>clippy::unwrap_used<span class="w"> </span>-W<span class="w"> </span>clippy::expect_used<span class="w"> </span>-W<span class="w"> </span>clippy::panic<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>grep<span class="w"> </span>-C<span class="w"> </span><span class="m">1</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"warning: \`panic\`"</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"warning: used"</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"warning: usage of"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-e<span class="w"> </span><span class="s2">"  --&gt; "</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s2">"s/ *--&gt; *//g"</span><span class="k">)</span><span class="s2">)"</span>
</code></pre></div>
<p>Then compare the number of violations</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nv">NUM_SOURCE_VIOLATIONS</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">"</span><span class="nv">$SOURCE_VIOLATIONS</span><span class="s2">"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">"</span>
<span class="nv">NUM_TARGET_VIOLATIONS</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">"</span><span class="nv">$TARGET_VIOLATIONS</span><span class="s2">"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">"</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">"</span><span class="nv">$SOURCE_VIOLATIONS</span><span class="s2">"</span><span class="w"> </span>-gt<span class="w"> </span><span class="s2">"</span><span class="nv">$TARGET_VIOLATIONS</span><span class="s2">"</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">   </span>...
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"Here are new warnings I found in the target branch:"</span>
<span class="w">   </span>comm<span class="w"> </span>-13<span class="w"> </span>source_branch_dir/violations<span class="w"> </span>target_branch_dir/violations
<span class="k">fi</span>
</code></pre></div>



<a name="491765653"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491765653" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491765653">(Jan 03 2025 at 14:30)</a>:</h4>
<p>That may lead to false positives from moved files (like during a refactor) but that could be an acceptable shortcoming</p>



<a name="491766242"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491766242" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491766242">(Jan 03 2025 at 14:35)</a>:</h4>
<p>It would at least narrow down your search</p>



<a name="491766258"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491766258" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491766258">(Jan 03 2025 at 14:35)</a>:</h4>
<p>And we could make the language have more hedging <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="491766358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491766358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491766358">(Jan 03 2025 at 14:36)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"Here are some location that **may** have introduced new violations in the target branch:"</span>
</code></pre></div>



<a name="491766457"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491766457" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491766457">(Jan 03 2025 at 14:37)</a>:</h4>
<p>I wanted to do something much more ambitious with Roc, like using histogram diff and parsing the patch to find actual net new lines of code.  But this is a step forward I think</p>



<a name="491766773"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491766773" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491766773">(Jan 03 2025 at 14:40)</a>:</h4>
<p>Agreed :)</p>



<a name="491773685"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/PNC%20Next%20Steps/near/491773685" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Bullard <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/PNC.20Next.20Steps.html#491773685">(Jan 03 2025 at 15:32)</a>:</h4>
<p>I'll do this when I'm done with the rebase I'm working on - which will be after work today :-)</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
<html>
<head><meta charset="utf-8"><title>Overly strict web REPL error · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html">Overly strict web REPL error</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="381049461"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381049461" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381049461">(Aug 02 2023 at 13:57)</a>:</h4>
<p>This used to work in the web REPL, but now it is incorrectly identified as an error.</p>
<div class="codehilite"><pre><span></span><code>x = 4
y = 5
x+y
</code></pre></div>
<p>This produces the error message below, but I don't think it should!</p>
<div class="codehilite"><pre><span></span><code>⚠️ This web REPL misses some features that are available in the CLI (roc repl) like defining variables without a final expression, which will result in the &quot;Missing Final Expression&quot; error.
</code></pre></div>
<p>But what I typed in <em>does</em> have a final expression. This should work fine, and used to!<br>
I think whatever is checking for this condition is too strict.</p>



<a name="381054358"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381054358" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381054358">(Aug 02 2023 at 14:09)</a>:</h4>
<p>The "<span aria-label="warning" class="emoji emoji-26a0" role="img" title="warning">:warning:</span>️ This web REPL misses som..." message is always present, it's static HTML.</p>



<a name="381054812"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381054812" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381054812">(Aug 02 2023 at 14:10)</a>:</h4>
<p>The CSS makes it so that you need to scroll to see it, which is not ideal. I'll make an issue for that.</p>



<a name="381057061"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381057061" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381057061">(Aug 02 2023 at 14:15)</a>:</h4>
<p><a href="https://github.com/roc-lang/roc/issues/5724">#5724</a></p>



<a name="381211521"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381211521" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Kumar <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381211521">(Aug 02 2023 at 15:56)</a>:</h4>
<p>Hi anton, I would like to contribute on  this issue(<a href="https://github.com/roc-lang/roc/issues/5724">#5724</a>). I am new to open source and would like to know how to run the project after making changes.</p>



<a name="381216009"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381216009" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381216009">(Aug 02 2023 at 16:09)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="638101">@Himanshu Kumar</span>,<br>
Welcome to open source development :)<br>
I've confirmed that your PR works through live editing <a href="https://www.roc-lang.org/repl">https://www.roc-lang.org/repl</a> in the browser.<br>
Thanks for your help!</p>



<a name="381223982"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381223982" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381223982">(Aug 02 2023 at 16:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361169">Anton</span> <a href="#narrow/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error/near/381054358">said</a>:</p>
<blockquote>
<p>The "<span aria-label="warning" class="emoji emoji-26a0" role="img" title="warning">:warning:</span>️ This web REPL misses som..." message is always present, it's static HTML.</p>
</blockquote>
<p>Oh I see! I thought the error was persisting for some reason!</p>



<a name="381224707"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381224707" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381224707">(Aug 02 2023 at 16:37)</a>:</h4>
<p>Ok well the CSS fix is great but the problem with definitions is still there!</p>



<a name="381225032"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381225032" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381225032">(Aug 02 2023 at 16:38)</a>:</h4>
<p>They should work as long as there is a final expression but they don't.</p>



<a name="381225561"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381225561" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381225561">(Aug 02 2023 at 16:40)</a>:</h4>
<p>So this broke at some point.</p>



<a name="381226145"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381226145" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381226145">(Aug 02 2023 at 16:42)</a>:</h4>
<p>That HTML warning is about a feature we haven't implemented. But that is not what I intended to discuss in this thread.<br>
What I'm saying is that the expected behaviour is broken.<br>
What work has been done in the last few months that could cause a bug in the web REPL?</p>



<a name="381226657"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381226657" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Folkert de Vries <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381226657">(Aug 02 2023 at 16:44)</a>:</h4>
<p>parser changes?</p>



<a name="381228200"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381228200" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381228200">(Aug 02 2023 at 16:48)</a>:</h4>
<p>Could be, I suppose.</p>



<a name="381228442"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381228442" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381228442">(Aug 02 2023 at 16:49)</a>:</h4>
<p>At this stage I think if we're going to fix it, it'll be a matter of making it work like the CLI repl rather than restoring the old behaviour.</p>



<a name="381244379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381244379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381244379">(Aug 02 2023 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="638101">@Himanshu Kumar</span> if you want to run the web REPL locally there are instructions here:<br>
<a href="https://github.com/roc-lang/roc/blob/main/crates/repl_wasm/README.md">https://github.com/roc-lang/roc/blob/main/crates/repl_wasm/README.md</a></p>



<a name="381259299"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381259299" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayaz Hafiz <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381259299">(Aug 02 2023 at 18:30)</a>:</h4>
<p>Richard also overhauled the state transitions in the repl so that is also a possible source</p>



<a name="381292272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381292272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381292272">(Aug 02 2023 at 20:51)</a>:</h4>
<p>the state transition stuff is only used in the CLI repl at the moment</p>



<a name="381715379"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381715379" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381715379">(Aug 04 2023 at 07:47)</a>:</h4>
<p>Your snippet works for me <span class="user-mention" data-user-id="431893">@Brian Carroll</span> </p>
<div class="codehilite"><pre><span></span><code>x = 4
y = 5
x+y
</code></pre></div>
<p><a href="/user_uploads/22008/2HJXcalHK6qmYd6rKSlWD_gk/Screenshot_20230804_094530.png">Screenshot_20230804_094530.png</a><br>
Could something be cached on your end?</p>
<div class="message_inline_image"><a href="/user_uploads/22008/2HJXcalHK6qmYd6rKSlWD_gk/Screenshot_20230804_094530.png" title="Screenshot_20230804_094530.png"><img src="/user_uploads/22008/2HJXcalHK6qmYd6rKSlWD_gk/Screenshot_20230804_094530.png"></a></div>



<a name="381837351"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Overly%20strict%20web%20REPL%20error/near/381837351" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Carroll <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Overly.20strict.20web.20REPL.20error.html#381837351">(Aug 04 2023 at 13:03)</a>:</h4>
<p>Yes, that works for me when I copy and paste it in! Thanks for testing.<br>
<span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> <br>
The other day, I was having trouble with "up arrow" navigation, trying to fix a typo in the expression<br>
When you have multiline input it's hard to go back to it and edit it<br>
The up arrow takes you to the previous input - there's no way to go up or down within a single multiline expression.<br>
So in the end, I think  this is really a UI issue with multiline editing</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
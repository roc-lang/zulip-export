<html>
<head><meta charset="utf-8"><title>✔ tests for &quot;roc format&quot; with &quot;dbg&quot; expression · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html">✔ tests for &quot;roc format&quot; with &quot;dbg&quot; expression</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="406201209"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406201209" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406201209">(Dec 06 2023 at 02:29)</a>:</h4>
<p>I've been trying to solve the issue <a href="https://github.com/roc-lang/roc/issues/6188">#6188</a>, but It seems there are no tests for formatting source files containing "dbg" (The only tests I've found for "roc format" are in "crates/compiler/test_syntax/tests/test_fmt.rs"). Is that really the case, and if so, should I write some?</p>



<a name="406207613"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406207613" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406207613">(Dec 06 2023 at 03:00)</a>:</h4>
<p>There are snapshot tests in <code>crates/compiler/test_syntax/tests/snapshots/</code></p>



<a name="406207701"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406207701" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406207701">(Dec 06 2023 at 03:01)</a>:</h4>
<p>A passing dbg example is <code>crates/compiler/test_syntax/tests/snapshots/pass/dbg.expr.formatted</code></p>



<a name="406207914"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406207914" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406207914">(Dec 06 2023 at 03:02)</a>:</h4>
<p>Which comes from formatting: <code>crates/compiler/test_syntax/tests/snapshots/pass/dbg.expr.roc</code></p>



<a name="406207979"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406207979" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406207979">(Dec 06 2023 at 03:02)</a>:</h4>
<p>It looks like that may be the only example.</p>



<a name="406208039"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406208039" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406208039">(Dec 06 2023 at 03:02)</a>:</h4>
<p>And it is wrong based on the new standard</p>



<a name="406209512"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406209512" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406209512">(Dec 06 2023 at 03:09)</a>:</h4>
<p>I see... I'll try to correct these, and maybe write some more</p>



<a name="406963206"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406963206" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406963206">(Dec 09 2023 at 18:56)</a>:</h4>
<p>Should</p>
<div class="codehilite"><pre><span></span><code>dbg (1,
    2)
</code></pre></div>
<p>format to:</p>
<div class="codehilite"><pre><span></span><code>dbg
    (
        1,
        2,
    )
</code></pre></div>
<p>?</p>



<a name="406963702"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406963702" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406963702">(Dec 09 2023 at 19:03)</a>:</h4>
<p>I could see this being nicer:</p>
<div class="codehilite" data-code-language="Elm"><pre><span></span><code><span class="nv">dbg</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>



<a name="406963969"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/406963969" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#406963969">(Dec 09 2023 at 19:06)</a>:</h4>
<p>Thanks. I'm working on my first commit, so this seems quite challenging, but I'll try to implement that.</p>



<a name="407097157"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/407097157" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#407097157">(Dec 10 2023 at 19:06)</a>:</h4>
<p>I believe that I've done it. I made a pull request (<a href="https://github.com/roc-lang/roc/issues/6241">#6241</a>), though I'm afraid, I might have messed something up with theverification... 0.0 What should I do now?</p>



<a name="407097634"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/407097634" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#407097634">(Dec 10 2023 at 19:14)</a>:</h4>
<p>I kick off the test suite. Hopefully the tests pass and  someone with more familiarity around formatting can give you a review.</p>



<a name="407097681"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/407097681" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ptaszor <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#407097681">(Dec 10 2023 at 19:15)</a>:</h4>
<p>Thanks!</p>



<a name="407153101"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/407153101" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#407153101">(Dec 11 2023 at 04:03)</a>:</h4>
<p>Realized the PR was super simple so just reviewed it myself.</p>



<a name="407480661"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/%E2%9C%94%20tests%20for%20%22roc%20format%22%20with%20%22dbg%22%20expression/near/407480661" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/.E2.9C.94.20tests.20for.20.22roc.20format.22.20with.20.22dbg.22.20expression.html#407480661">(Dec 12 2023 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="672101">ptaszor</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>
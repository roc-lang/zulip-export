<html>
<head><meta charset="utf-8"><title>Roc Project Ideas · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html">Roc Project Ideas</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="523159458"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523159458" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Ikonomou <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523159458">(Jun 09 2025 at 20:03)</a>:</h4>
<p>I am interested in working on the project ideas <a href="https://docs.google.com/document/d/1mMaxIi7vxyUyNAUCs98d68jYj6C9Fpq4JIZRU735Kwg/edit#heading=h.1mb2itvpwj68">Formalizing the interaction between Abilities (Typeclasses) and Defunctionalization</a> and <a href="https://docs.google.com/document/d/1mMaxIi7vxyUyNAUCs98d68jYj6C9Fpq4JIZRU735Kwg/edit#heading=h.58nh14ys3u5">High-performance fixed-point operations for decimal numbers</a>. Is one of them feasible without having worked on Roc so far?</p>



<a name="523165487"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523165487" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523165487">(Jun 09 2025 at 20:49)</a>:</h4>
<p>High-performance fixed-point operations for decimal numbers definitely is!</p>



<a name="523165639"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523165639" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523165639">(Jun 09 2025 at 20:50)</a>:</h4>
<p>that one can be done pretty much entirely in Zig - here is the current code: <a href="https://github.com/roc-lang/roc/blob/9cb3a3fb2b502885e95e0a3c61186cfaa3f6d0b1/src/builtins/dec.zig#L15">https://github.com/roc-lang/roc/blob/9cb3a3fb2b502885e95e0a3c61186cfaa3f6d0b1/src/builtins/dec.zig#L15</a></p>



<a name="523165658"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523165658" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523165658">(Jun 09 2025 at 20:50)</a>:</h4>
<p>we're missing things like trig functions, sqrt, etc.</p>



<a name="523165697"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523165697" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523165697">(Jun 09 2025 at 20:51)</a>:</h4>
<p>happy to answer any questions about it...would be amazing to have those! <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span></p>



<a name="523192687"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523192687" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523192687">(Jun 10 2025 at 01:33)</a>:</h4>
<p>On top of that, what already exists likely has room for profiling and optimizations.</p>



<a name="523631426"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523631426" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Ikonomou <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523631426">(Jun 11 2025 at 20:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281383">Richard Feldman</span> <a href="#narrow/channel/316715-contributing/topic/Roc.20Project.20Ideas/near/523165697">said</a>:</p>
<blockquote>
<p>happy to answer any questions about it...would be amazing to have those! <span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span></p>
</blockquote>
<p>Where do I start? Do you already have any references for sqrt? I have found these libraries, dec and arithmetic.go, that seem to implement operations for decimal numbers.</p>
<p>dec: <a href="https://docs.rs/dec/latest/dec/index.html">https://docs.rs/dec/latest/dec/index.html</a><br>
arithmetic.go: <a href="https://github.com/jokruger/dec128/blob/main/arithmetic.go#L262">https://github.com/jokruger/dec128/blob/main/arithmetic.go#L262</a></p>



<a name="523911285"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523911285" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523911285">(Jun 13 2025 at 09:53)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="927630">@Alexander Ikonomou</span> :) </p>
<blockquote>
<p>Do you already have any references for sqrt?</p>
</blockquote>
<p>Not that I know of.</p>
<blockquote>
<p>Where do I start?</p>
</blockquote>
<p>I think it would be good to get a working sqrt merged in before doing a high perf one.<br>
So, specifically, this program should work:</p>
<div class="codehilite" data-code-language="CoffeeScript"><pre><span></span><code><span class="nx">app</span><span class="w"> </span><span class="p">[</span><span class="nx">main</span><span class="o">!</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">cli</span><span class="o">:</span><span class="w"> </span><span class="nx">platform</span><span class="w"> </span><span class="s">"https://github.com/roc-lang/basic-cli/releases/download/0.19.0/Hj-J_zxz7V9YurCSTFcFdu6cQJie4guzsPMUi5kBYUk.tar.br"</span><span class="w"> </span><span class="p">}</span>

<span class="nx">import</span><span class="w"> </span><span class="nx">cli</span><span class="p">.</span><span class="nx">Stdout</span>
<span class="nx">import</span><span class="w"> </span><span class="nx">cli</span><span class="p">.</span><span class="nx">Arg</span><span class="w"> </span><span class="nx">exposing</span><span class="w"> </span><span class="p">[</span><span class="nx">Arg</span><span class="p">]</span>

<span class="nx">main</span><span class="o">!</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">List</span><span class="w"> </span><span class="nx">Arg</span><span class="w"> </span><span class="nf">=&gt;</span><span class="w"> </span><span class="nx">Result</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="nx">_</span>
<span class="nx">main</span><span class="o">!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">|</span><span class="nx">_args</span><span class="o">|</span>
<span class="w">    </span><span class="nv">four</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="nx">dec</span>
<span class="w">    </span><span class="nv">sqrt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Num</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">four</span><span class="p">)</span>

<span class="w">    </span><span class="nx">Stdout</span><span class="p">.</span><span class="nx">line</span><span class="o">!</span><span class="p">(</span><span class="nx">Num</span><span class="p">.</span><span class="nx">to_str</span><span class="p">(</span><span class="nx">sqrt</span><span class="p">))</span>
</code></pre></div>
<p><code>NumSqrtUnchecked</code> should be added <a href="https://github.com/roc-lang/roc/blob/f6bbe7dae8889bd6a7814bb86a7a483a95baee9d/crates/compiler/gen_llvm/src/llvm/lowlevel.rs#L2246">here</a>. <code>DEC_SQRT</code> should be added <a href="https://github.com/roc-lang/roc/blob/f6bbe7dae8889bd6a7814bb86a7a483a95baee9d/crates/compiler/builtins/src/bitcode.rs#L428">here</a>. <br>
And a sqrt function should be added <a href="https://github.com/roc-lang/roc/blob/9cb3a3fb2b502885e95e0a3c61186cfaa3f6d0b1/src/builtins/dec.zig#L426">here</a>. Claude sonnet 4 can probably generate the sqrt function if you provide it the whole file.</p>



<a name="523912261"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523912261" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523912261">(Jun 13 2025 at 10:00)</a>:</h4>
<p>It would help to clarify if this should be implemented in the new Zig compiler or the old Rust one. Richard's link above is to the new builtins in the zig compiler <code>/src</code> directory.</p>
<p>Anton's links are to the old Rust compiler.</p>
<p>And they are using different versions of the zig builtins implementations.</p>



<a name="523912550"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523912550" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523912550">(Jun 13 2025 at 10:02)</a>:</h4>
<p>We don't have the ability to run things in the new zig compiler yet... so we'd would probably be limited to unit tests for now, or maybe hooking up the fuzzer somehow. </p>
<p>That being said, it may not be that far away that we have a basic interpreter working.</p>



<a name="523915272"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523915272" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523915272">(Jun 13 2025 at 10:19)</a>:</h4>
<blockquote>
<p>Anton's links are to the old Rust compiler.</p>
</blockquote>
<p>Right, sorry I totally forgot to consider that</p>



<a name="523915548"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523915548" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523915548">(Jun 13 2025 at 10:21)</a>:</h4>
<p>Although maybe implementing it in the old compiler is a great way to test it for now?</p>



<a name="523916066"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523916066" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523916066">(Jun 13 2025 at 10:25)</a>:</h4>
<p>Do we handle things differently in the new compiler builtins compared to the old?</p>



<a name="523916952"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523916952" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523916952">(Jun 13 2025 at 10:31)</a>:</h4>
<p>We will be handling things differently. We don't really have much of an implementation in the new compiler that links the Roc and Zig together. But we do have the zig builtins translated to use the same zig version as the new compiler.</p>



<a name="523917678"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523917678" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523917678">(Jun 13 2025 at 10:36)</a>:</h4>
<p>Ok, yeah, so just unit tests for the new compiler sounds fine</p>



<a name="523917905"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/523917905" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#523917905">(Jun 13 2025 at 10:38)</a>:</h4>
<p><span class="user-mention" data-user-id="927630">@Alexander Ikonomou</span> so src/builtins/dec.zig is the only file you need to make changes in. Unit tests are in that same file.</p>



<a name="525404245"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/525404245" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Ikonomou <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#525404245">(Jun 23 2025 at 20:37)</a>:</h4>
<blockquote>
<blockquote>
<p>Where do I start?</p>
</blockquote>
<p>I think it would be good to get a working sqrt merged in before doing a high perf one.<br>
So, specifically, this program should work:</p>
</blockquote>
<p>In <a href="https://github.com/roc-lang/roc/pull/7861">7861</a>, I added a working sqrt that just uses the sqrt from Zig. I am not sure if it is too simple.</p>



<a name="525414978"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Roc%20Project%20Ideas/near/525414978" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Roc.20Project.20Ideas.html#525414978">(Jun 23 2025 at 22:22)</a>:</h4>
<p>Long term we want to avoid many of the casts to and from float, but this is fine for now.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
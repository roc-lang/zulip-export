<html>
<head><meta charset="utf-8"><title>Support git bisect · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html">Support git bisect</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="303163599"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303163599" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prajwal S N <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303163599">(Oct 09 2022 at 19:04)</a>:</h4>
<p>I was wondering if the community is willing to consider changing our style of commits and merges. The primary issue with the current system is that we cannot use <code>git bisect</code> to isolate the source of a bug, and for a project as large and complex as a compiler, I feel that tool is an invaluable asset. As the codebase grows, it will only get harder to do RCA and fix the issues that crop up. I would like to know your opinions on two suggestions:</p>
<ol>
<li>Following the <strong><a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commit specification</a></strong></li>
<li>
<p>Ensuring that all commits in PRs are <strong>self-contained</strong> and <strong>atomic</strong> (no fixup/"merge main into branch" commits)<br>
<em>OR</em></p>
</li>
<li>
<p>Using the <strong>Squash and merge</strong> option for PRs and having separate PRs for changes in different parts of the codebase</p>
</li>
</ol>



<a name="303179342"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303179342" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303179342">(Oct 09 2022 at 23:27)</a>:</h4>
<p>Interesting idea. Not sure what i think about the conventional commit specification, but i definitely agree it is useful to have a clean trunk that is easy to understand and bisect. Though it is also important to make sure we keep it easy for new people to contribute to the Roc source code.</p>
<p>I think it is very useful to make sure every commit in trunk can build and pass tests if possible.</p>
<p>I am not sure the best way to do this with open source software that also isn't too much of a hassle for devs, new users, and reviewers. I like the idea of squashing as long as PRs are smallish. If we just switch to squashing and PRs are large, it actually will likely make bisecting worse due to just getting a gigantic diff that broke things somehow. But also, forcing smaller diffs means more reviews, more chunking of futures, more waiting on CI, and in general more hassle for devs. Not to mention GitHub has a very poor story for creating chains of PRs that are dependent on one another.</p>
<p>Not sure where that leaves us, but i do agree that it is definitely worth investigating more and investing in.</p>



<a name="303201742"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303201742" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prajwal S N <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303201742">(Oct 10 2022 at 06:07)</a>:</h4>
<p>I think a good starting point would be to specify in <code>CONTRIBUTING.md</code> that PRs should not have fixup commits. We can also include the git workflow to squash smaller commits into a single self-contained commit, so that new contributors don't find it daunting to make changes to a reviewed PR. If this is agreeable with everyone, I'll open a pull adding this!</p>



<a name="303223076"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303223076" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303223076">(Oct 10 2022 at 09:08)</a>:</h4>
<p>I'd prefer to use a github ci workflow to prevent merging in fixup commits.</p>



<a name="303223247"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303223247" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303223247">(Oct 10 2022 at 09:10)</a>:</h4>
<blockquote>
<p>to squash smaller commits into a single self-contained commit, so that new contributors don't find it daunting to make changes to a reviewed PR. </p>
</blockquote>
<p>Can you explain why more smaller commits would make it daunting to make changes?</p>



<a name="303233396"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303233396" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prajwal S N <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303233396">(Oct 10 2022 at 10:24)</a>:</h4>
<blockquote>
<p>Can you explain why more smaller commits would make it daunting to make changes?</p>
</blockquote>
<p>I meant that newbies who are not familiar with git might not be aware of using <code>git rebase -i</code> to squash fixup commits with the original commit. So listing out the steps they need to follow will allow them to fix review comments, rather than abandoning the PR out of the fear that they'll mess up the commit history.</p>
<blockquote>
<p>I'd prefer to use a github ci workflow to prevent merging in fixup commits.</p>
</blockquote>
<p>My bad, by "git workflow" I meant the sequence of git commands to squash multiple commits into one</p>



<a name="303234025"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303234025" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303234025">(Oct 10 2022 at 10:29)</a>:</h4>
<p>I think there's been a slight mixup, my "I'd prefer to use a github ci workflow to prevent merging in fixup commits." was in response to " to specify in CONTRIBUTING.md that PRs should not have fixup commits".</p>



<a name="303234193"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303234193" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303234193">(Oct 10 2022 at 10:30)</a>:</h4>
<blockquote>
<p>I meant that newbies who are not familiar with git might not be aware of using git rebase -i to squash fixup commits with the original commit. So listing out the steps they need to follow will allow them to fix review comments, rather than abandoning the PR out of the fear that they'll mess up the commit history.</p>
</blockquote>
<p>Perhaps we could "squash fixup commits with the original commit" automatically in a CI step.</p>



<a name="303248722"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303248722" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303248722">(Oct 10 2022 at 12:14)</a>:</h4>
<p>so as I see it, the upsides and downsides of the conventional commit specification:</p>
<p>Upsides:</p>
<ul>
<li>commits have machine readable info</li>
</ul>
<p>Downsides:</p>
<ul>
<li>all developers spend more time than they currently do writing commit messages</li>
<li>PR reviews for new contributors take longer due to having to coach people to follow the commit rules</li>
<li>some number of contributors will find that this feels too bureaucratic and not fun, and makes them no longer interested in spending their free time contributing</li>
</ul>



<a name="303248807"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303248807" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303248807">(Oct 10 2022 at 12:15)</a>:</h4>
<p>overall I definitely don't think that sounds like an improvement over the status quo of letting people write commit messages however they like <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="303251100"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251100" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251100">(Oct 10 2022 at 12:30)</a>:</h4>
<p>regarding bisecting, I use it all the time on the compiler (and have on other projects) and I haven't encountered merge commits being a problem <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="303251263"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251263" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251263">(Oct 10 2022 at 12:31)</a>:</h4>
<p>the only problem is when a particular commit doesn't build</p>



<a name="303251533"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251533" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251533">(Oct 10 2022 at 12:33)</a>:</h4>
<p>so given that we only merge PRs which pass CI, using squash and merge should make sure that all commits which make it into <code>main</code> do indeed build</p>



<a name="303251727"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251727" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251727">(Oct 10 2022 at 12:34)</a>:</h4>
<p>but like Brendan noted, this has the downside that now we lose commit granularity on <code>main</code>, which makes it harder to track bugs down</p>



<a name="303251821"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251821" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251821">(Oct 10 2022 at 12:34)</a>:</h4>
<p>I would rather keep the commit granularity and have to tell <code>git bisect</code> to skip a commit once in awhile, so I don't think should adopt squash and merge</p>



<a name="303251952"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303251952" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303251952">(Oct 10 2022 at 12:35)</a>:</h4>
<p>I do like the idea of giving guidance in CONTRIBUTING.md on making commits be buildable</p>



<a name="303252078"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303252078" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303252078">(Oct 10 2022 at 12:36)</a>:</h4>
<p>although I don't think we should spend time enforcing it in PR review - just let people know we'd prefer that</p>



<a name="303252414"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303252414" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303252414">(Oct 10 2022 at 12:38)</a>:</h4>
<p>from an enforcement perspective, it seems like the type of thing where it would be very easy to spend more time telling people they need to follow the rules than the amount of time the rules save us in debugging</p>



<a name="303252505"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Support%20git%20bisect/near/303252505" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Support.20git.20bisect.html#303252505">(Oct 10 2022 at 12:39)</a>:</h4>
<p>so I think just letting people know, but not trying to enforce it, seems like the best way to save ourselves the most time overall!</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
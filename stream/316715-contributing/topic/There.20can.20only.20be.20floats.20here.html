<html>
<head><meta charset="utf-8"><title>There can only be floats here · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html">There can only be floats here</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="361822565"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361822565" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fábio Beirão <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361822565">(May 28 2023 at 21:23)</a>:</h4>
<p>While fooling around with creating a new example I have come across this "Definitely a compiler bug", "There can only be floats here!":<br>
<a href="/user_uploads/22008/BAnUW_llIXCQuOrbrPBZx385/image.png">image.png</a><br>
This is the nightly from 4 days ago, I'll grab the most <em>recentest</em> nightly and try again. I did a quick search in Zulip and github issues and couldn't find something similar. I am pretty sure this is user error, but thought maybe it was worth mentioning.</p>
<div class="message_inline_image"><a href="/user_uploads/22008/BAnUW_llIXCQuOrbrPBZx385/image.png" title="image.png"><img src="/user_uploads/22008/BAnUW_llIXCQuOrbrPBZx385/image.png"></a></div>



<a name="361823333"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361823333" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361823333">(May 28 2023 at 21:32)</a>:</h4>
<p>Running <code>roc check</code> can sometime be informative for this kind of stuff</p>



<a name="361823425"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361823425" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fábio Beirão <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361823425">(May 28 2023 at 21:33)</a>:</h4>
<p><span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> Yes, still happening in latest nightly.<br>
<code>roc check</code> states <code>0 errors and 0 warnings found in 21 ms.</code><br>
<a href="/user_uploads/22008/xEVxw-1TH_nwYvN897lbG3Kx/image.png">image.png</a><br>
Let me find the smallest bit of code that reproduces the issue</p>
<div class="message_inline_image"><a href="/user_uploads/22008/xEVxw-1TH_nwYvN897lbG3Kx/image.png" title="image.png"><img src="/user_uploads/22008/xEVxw-1TH_nwYvN897lbG3Kx/image.png"></a></div>



<a name="361823448"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361823448" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361823448">(May 28 2023 at 21:33)</a>:</h4>
<p>Definitely a compiler bug just means we hit something in the compile that we think should be impossible no matter the user code.</p>



<a name="361823522"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361823522" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361823522">(May 28 2023 at 21:34)</a>:</h4>
<p>Anyway, source code and if possible a minimal repo/filed bug would be great.</p>



<a name="361823723"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361823723" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fábio Beirão <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361823723">(May 28 2023 at 21:37)</a>:</h4>
<p>When I do <code>roc run</code> instead of <code>roc test</code> I get:</p>
<blockquote>
<p>The surgical linker currently has issue <a href="https://github.com/roc-lang/roc/issues/3609">#3609</a> and would fail linking your app.<br>
Please use <code>--linker=legacy</code> to avoid the issue for now.</p>
</blockquote>
<p>And if I do <code>roc run --linker=legacy</code> then the app actually runs.. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="361824353"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/There%20can%20only%20be%20floats%20here/near/361824353" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fábio Beirão <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/There.20can.20only.20be.20floats.20here.html#361824353">(May 28 2023 at 21:45)</a>:</h4>
<p>Opened issue <a href="https://github.com/roc-lang/roc/issues/5467">#5467</a> with the code that reproduces the issue</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
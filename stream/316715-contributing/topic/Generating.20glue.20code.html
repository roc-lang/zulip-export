<html>
<head><meta charset="utf-8"><title>Generating glue code · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Generating.20glue.20code.html">Generating glue code</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="422821284"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Generating%20glue%20code/near/422821284" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rivas <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Generating.20glue.20code.html#422821284">(Feb 22 2024 at 13:56)</a>:</h4>
<p>Hi everyone,</p>
<p>I'm trying to finish up <a href="https://github.com/roc-lang/basic-cli/pull/173">https://github.com/roc-lang/basic-cli/pull/173</a> -- the work remaining involves updating the Rust definition to actually pass the given timeout to the Roc code. In order to do that, I think I need to update the definition of <code>glue::Response::Timeout</code>, which I gather is generated by running <code>roc glue</code>.</p>
<p>My question is how to do that correctly for <code>basic-cli</code>? The <code>roc glue</code> command requires <code>&lt;GLUE_SPEC&gt;</code> and <code>&lt;GLUE_DIR&gt;</code> arguments. I think <code>platform/src</code> is the correct glue dir, but I'm not sure what a glue spec is. I tried <code>platform/main-glue.roc</code> but got a complaint that it's a platform module, not an app module.</p>



<a name="422915902"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Generating%20glue%20code/near/422915902" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Generating.20glue.20code.html#422915902">(Feb 22 2024 at 22:31)</a>:</h4>
<p>Oh I. have a branch <a href="https://github.com/roc-lang/basic-cli/tree/glue-gen">glue-gen</a> which includes a script for regenerating glue for the whole platform. The glue that is generated needs to be manually fixed up (by commenting out the invalid rust code). I should update that branch, maybe it is close to being mergable now</p>



<a name="422916059"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Generating%20glue%20code/near/422916059" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Generating.20glue.20code.html#422916059">(Feb 22 2024 at 22:33)</a>:</h4>
<p>To answer your question you can run glue using <code>roc glue ../roc/crates/glue/src/RustGlue.roc platform/src/ platform/main-glue.roc</code></p>



<a name="422916231"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Generating%20glue%20code/near/422916231" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Generating.20glue.20code.html#422916231">(Feb 22 2024 at 22:34)</a>:</h4>
<p>If you change main-glue to just the type you want, then generate glue for that file somewhere. You can manually copy just the newly generated types for <code>glue::Response::Timeout</code>.</p>



<hr><p>Last updated: Nov 01 2025 at 12:13 UTC</p>
</html>
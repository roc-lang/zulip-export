<html>
<head><meta charset="utf-8"><title>Help prepare for AoC 2025 - Testing a platform from URL · contributing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/index.html">contributing</a></h2>
<h3>Topic: <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html">Help prepare for AoC 2025 - Testing a platform from URL</a></h3>

<hr>

<base href="https://roc.zulipchat.com">

<head><link href="https://roc-lang.github.io/zulip-export/style.css" rel="stylesheet"></head>

<a name="560520293"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520293" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520293">(Nov 27 2025 at 05:51)</a>:</h4>
<p>Is there anyone online who could help me test running roc with a platform from URL?</p>



<a name="560520322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520322">(Nov 27 2025 at 05:51)</a>:</h4>
<p>Sure thing. <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="560520332"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520332" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520332">(Nov 27 2025 at 05:51)</a>:</h4>
<p>Can you build roc from source off this branch <a href="https://github.com/roc-lang/roc/pull/8464">https://github.com/roc-lang/roc/pull/8464</a></p>



<a name="560520341"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520341" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520341">(Nov 27 2025 at 05:52)</a>:</h4>
<p><code>zig build roc</code></p>



<a name="560520382"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520382" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520382">(Nov 27 2025 at 05:52)</a>:</h4>
<p>And then run this app </p>
<div class="codehilite"><pre><span></span><code>app [main!] { pf: platform &quot;https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/LKroJZnzRzHS2JPYcWa6bEdFN129zawLf5ub8CrYgcH.tar.zst&quot; }

import pf.Stdout

main! = || {
    Stdout.line!(&quot;Hello World&quot;)
}
</code></pre></div>



<a name="560520473"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520473" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520473">(Nov 27 2025 at 05:54)</a>:</h4>
<p>Let me know what machine / os / arch your on if you run it please -- it's working for me on my arm64 Mac</p>



<a name="560520572"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520572" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520572">(Nov 27 2025 at 05:55)</a>:</h4>
<p>Seems to be working nicely. I'm running on a M1 MBP (macOS 15.6.1).</p>



<a name="560520913"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560520913" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560520913">(Nov 27 2025 at 06:00)</a>:</h4>
<p>For anyone interested here is the zig platform template I used to generate that package <a href="https://github.com/lukewilliamboswell/roc-platform-template-zig/tree/0.1">https://github.com/lukewilliamboswell/roc-platform-template-zig/tree/0.1</a></p>



<a name="560521034"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560521034" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560521034">(Nov 27 2025 at 06:02)</a>:</h4>
<p>8 messages were moved here from <a class="stream-topic" data-stream-id="397893" href="/#narrow/channel/397893-announcements/topic/Help.20prepare.20for.20AoC.202025/with/560485589">#announcements &gt; Help prepare for AoC 2025</a> by <span class="user-mention silent" data-user-id="515757">Luke Boswell</span>.</p>



<a name="560522052"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522052" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522052">(Nov 27 2025 at 06:14)</a>:</h4>
<p><span class="user-mention" data-user-id="515757">@Luke Boswell</span> would it make sense to have a way to read the entirely of Stdin or are we imagining people just looping over <code>Stdin.line!</code> until <code>""</code> is reached?</p>



<a name="560522146"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522146" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522146">(Nov 27 2025 at 06:15)</a>:</h4>
<p>This is just a template to show how to create a simple platform... I copied the Fx test platform verbatim.</p>



<a name="560522167"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522167" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522167">(Nov 27 2025 at 06:16)</a>:</h4>
<p>I would love to see people experiment with different ideas for platform API's and capabilities</p>



<a name="560522180"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522180" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522180">(Nov 27 2025 at 06:16)</a>:</h4>
<p>My immediate goal is to get something working for AoC</p>



<a name="560522202"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522202" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522202">(Nov 27 2025 at 06:16)</a>:</h4>
<p>I see, that makes sense. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="560522399"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560522399" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560522399">(Nov 27 2025 at 06:19)</a>:</h4>
<p>Pushed some fixes to that branch... and now we have x64 Windows running from a URL too! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> </p>
<div class="codehilite"><pre><span></span><code>C:\Users\bosyl\Documents\Github\roc&gt;zig build roc

C:\Users\bosyl\Documents\Github\roc&gt;roc test.roc
Hello World
</code></pre></div>



<a name="560523801"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560523801" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560523801">(Nov 27 2025 at 06:34)</a>:</h4>
<p>And ... I get a segfault on x64 linux <span aria-label="tear" class="emoji emoji-1f972" role="img" title="tear">:tear:</span></p>



<a name="560541722"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560541722" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560541722">(Nov 27 2025 at 08:47)</a>:</h4>
<p>I just tried to build the Roc compiler using <code>zig build test</code> and now my "hello, world" program isn't running anymore. I just get <code>error: Failed to set up shared memory with ModuleEnv: error.InvalidAppPath</code> when trying to run the program.</p>
<p>This is on <code>d28a978d8b957f3b88dbc92dcbbc6a87ffb0e8f4</code> on a M1 MBP on macOS 15.16.1.</p>



<a name="560542743"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560542743" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560542743">(Nov 27 2025 at 08:52)</a>:</h4>
<p>Interesting... I'll have a closer look tomorrow</p>



<a name="560588357"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560588357" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560588357">(Nov 27 2025 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="452574">@Kevin Hovsäter</span> just to make sure we're on the same page, these details would be helpful:</p>
<ul>
<li>what's the source code of the .roc file?</li>
<li>what directory is the .roc file in?</li>
<li>what command are you using to run the program?</li>
<li>what directory are you in when you run the command?</li>
</ul>



<a name="560590130"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560590130" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560590130">(Nov 27 2025 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="281383">@Richard Feldman</span> </p>
<blockquote>
<p>what's the source code of the .roc file?</p>
</blockquote>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">~/prj/advent-of-code $ cat hello.roc</span>
<span class="go">app [main!] { pf: platform "./platform/main.roc" }</span>

<span class="go">import pf.Stdout</span>

<span class="go">main! = || {</span>
<span class="go">    Stdout.line!("Hello, world!")</span>
<span class="go">}</span>
</code></pre></div>
<blockquote>
<p>what directory is the .roc file in?</p>
</blockquote>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">~/prj/advent-of-code $ tree</span>
<span class="go">.</span>
<span class="go">├── hello.roc</span>
<span class="go">└── platform</span>
<span class="go">    ├── host.zig</span>
<span class="go">    ├── libhost.a</span>
<span class="go">    ├── main.roc</span>
<span class="go">    ├── Stderr.roc</span>
<span class="go">    ├── Stdin.roc</span>
<span class="go">    └── Stdout.roc</span>

<span class="go">2 directories, 7 files</span>
</code></pre></div>
<blockquote>
<ul>
<li>what command are you using to run the program?</li>
<li>what directory are you in when you run the command?</li>
</ul>
</blockquote>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">~/prj/advent-of-code $ roc hello.roc</span>
<span class="go">error: Failed to set up shared memory with ModuleEnv: error.InvalidAppPath</span>
<span class="go">~/prj/advent-of-code $ which roc</span>
<span class="go">/Users/kevin/src/roc/zig-out/bin/roc</span>
</code></pre></div>
<p>Roc was built using <code>zig build test</code> and I copied the platform from <code>test/fx/platform</code> into <code>~/prj/advent-of-code</code>.</p>



<a name="560590175"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560590175" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560590175">(Nov 27 2025 at 12:53)</a>:</h4>
<p>excellent, thank you!</p>



<a name="560597463"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560597463" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560597463">(Nov 27 2025 at 13:29)</a>:</h4>
<p>fix for this: <a href="https://github.com/roc-lang/roc/pull/8471">https://github.com/roc-lang/roc/pull/8471</a></p>



<a name="560598417"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560598417" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560598417">(Nov 27 2025 at 13:33)</a>:</h4>
<p>Tried to build your branch but got the following errors:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">~/src/roc (fix-dir-bug) $ zig build test</span>
<span class="go">test</span>
<span class="go">└─ tests_summary</span>
<span class="go">   └─ run test fx_platform_test 14/16 passed, 2 failed</span>
<span class="go">error: 'fx_platform_test.test.fx platform opaque type with method' failed: Run failed with exit code 1</span>
<span class="go">STDOUT:</span>
<span class="go">STDERR: error: Child process /Users/kevin/Library/Caches/roc/3db62731d7e536d5d9c27137f68b7c5a/temp/roc-tmp-knVzb0gLfOcUKmevHkXrzfZb8Q6PxsNs/roc_run_1170380953 killed by signal: 11</span>
<span class="go">error: Child process crashed with segmentation fault (SIGSEGV)</span>

<span class="go">/Users/kevin/src/roc/src/cli/test/fx_platform_test.zig:585:17: 0x102489d67 in test.fx platform opaque type with method (fx_platform_test)</span>
<span class="go">                return error.RunFailed;</span>
<span class="go">                ^</span>
<span class="go">error: 'fx_platform_test.test.fx platform run from different cwd' failed: Run failed with exit code 1</span>
<span class="go">STDOUT:</span>
<span class="go">STDERR: error: Failed to set up shared memory with ModuleEnv: error.InvalidAppPath</span>

<span class="go">/Users/kevin/src/roc/src/cli/test/fx_platform_test.zig:672:17: 0x10248ad37 in test.fx platform run from different cwd (fx_platform_test)</span>
<span class="go">                return error.RunFailed;</span>
<span class="go">                ^</span>
<span class="go">error: while executing test 'fx_platform_test.test.fx platform run from different cwd', the following test command failed:</span>
<span class="go">./.zig-cache/o/a3568d4bddc2e60f4e000977a4db93f6/fx_platform_test --cache-dir=./.zig-cache --seed=0x75600522 --listen=-</span>

<span class="go">Build Summary: 54/57 steps succeeded; 1 failed; 1615/1617 tests passed; 2 failed</span>
<span class="go">test transitive failure</span>
<span class="go">└─ tests_summary transitive failure</span>
<span class="go">   └─ run test fx_platform_test 14/16 passed, 2 failed</span>

<span class="go">error: the following build command failed with exit code 1:</span>
<span class="go">.zig-cache/o/e6d6ec7fb8dbc0a4bd0962fb69f26247/build /Users/kevin/.asdf/installs/zig/0.15.2/zig /Users/kevin/.asdf/installs/zig/0.15.2/lib /Users/kevin/src/roc .zig-cache /Users/kevin/.cache/zig --seed 0x75600522 -Zf8f5c3ff46d8dde4 test</span>
</code></pre></div>



<a name="560599437"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560599437" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560599437">(Nov 27 2025 at 13:38)</a>:</h4>
<p>ah it's a stale <code>roc</code> binary - I just pushed something to that branch to force rebuilding it for the tests</p>



<a name="560600745"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560600745" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Hovsäter <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560600745">(Nov 27 2025 at 13:44)</a>:</h4>
<p>That did indeed work! And now both absolute and relative paths seem to work as expected! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="560679900"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560679900" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560679900">(Nov 27 2025 at 22:43)</a>:</h4>
<p>Can I get more folks to help me test this?</p>



<a name="560679918"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560679918" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560679918">(Nov 27 2025 at 22:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code>app [main!] { pf: platform &quot;https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/LKroJZnzRzHS2JPYcWa6bEdFN129zawLf5ub8CrYgcH.tar.zst&quot; }

import pf.Stdout

main! = || {
    Stdout.line!(&quot;Hello World&quot;)
}
</code></pre></div>



<a name="560679941"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560679941" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560679941">(Nov 27 2025 at 22:43)</a>:</h4>
<p>Build roc from source on the <code>bundle-changes</code> branch</p>



<a name="560679946"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560679946" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560679946">(Nov 27 2025 at 22:43)</a>:</h4>
<div class="codehilite"><pre><span></span><code>9:33:19 ~/Documents/GitHub/roc bundle-changes $ zig build roc
9:42:28 ~/Documents/GitHub/roc bundle-changes $ roc test.roc
Hello World
</code></pre></div>



<a name="560680037"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560680037" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560680037">(Nov 27 2025 at 22:44)</a>:</h4>
<p>Specifically any linux users</p>



<a name="560686322"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560686322" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560686322">(Nov 28 2025 at 00:08)</a>:</h4>
<p>I've got it working on all three OS's now -- if <a href="https://github.com/roc-lang/roc/pull/8464">https://github.com/roc-lang/roc/pull/8464</a> passes we should be good for supporting basic platforms from URL's</p>



<a name="560717531"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560717531" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isaactfa <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560717531">(Nov 28 2025 at 07:04)</a>:</h4>
<p>I hate to say it, but on x86_64 linux I get</p>
<div class="codehilite"><pre><span></span><code>$ zig-out/bin/roc main.roc
error: Child process /home/timob/.cache/roc/c17e6c1672ab85bbfeb20617f7710e69/temp/roc-tmp-Rj9qhjzcZYcolwSXZm4NfPCDD31RecAU/roc_run_733124949 killed by signal: 11
error: Child process crashed with segmentation fault (SIGSEGV)
</code></pre></div>
<p>with</p>
<div class="codehilite"><pre><span></span><code>$ cat main.roc

app [main!] { pf: platform &quot;https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/LKroJZnzRzHS2JPYcWa6bEdFN129zawLf5ub8CrYgcH.tar.zst&quot; }

import pf.Stdout

main! = || {
    Stdout.line!(&quot;Hello World&quot;)
}
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>$ zig-out/bin/roc version
Roc compiler version debug-c4550425

$ git show --oneline
c455042522 (HEAD) Merge pull request #8464 from roc-lang/bundle-changes
</code></pre></div>
<p><code>main</code> doesn't build for me right now and <code>bundle-changes</code> seems to  have been deleted, so I checked out the merge commit directly.</p>



<a name="560751611"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560751611" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560751611">(Nov 28 2025 at 10:28)</a>:</h4>
<blockquote>
<p><code>main</code> doesn't build for me right now</p>
</blockquote>
<p>I'm looking into this.</p>



<a name="560755157"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560755157" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560755157">(Nov 28 2025 at 10:45)</a>:</h4>
<p>I've been updating the release URL as I fix things, maybe that is related?</p>



<a name="560812624"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560812624" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isaactfa <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560812624">(Nov 28 2025 at 15:37)</a>:</h4>
<p>Building from latest main (<code>7ac22c8134</code>) and updating the platform URL, I now get</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>zig-out/bin/roc<span class="w"> </span>--no-cache<span class="w"> </span>app.roc
<span class="go">-- TYPE MISMATCH ---------------------------------</span>

<span class="go">This expression is used in an unexpected way:</span>
<span class="go">  ┌─ app.roc:1:31</span>
<span class="go">  │</span>
<span class="go">1 │ app [main!] { pf: platform "https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/AvzUEjKDoDpEYCFLXbNRKE2KhsLKL7qze3MSjPRJeF6r.tar.zst" }</span>
<span class="go">  │                               ^^^^^^^^^^^^^^^^^^^^^^^^</span>

<span class="go">It has the type:</span>
<span class="go">    ({}) =&gt; {  }</span>

<span class="go">But the type annotation says it should have the type:</span>
<span class="go">    List(Str) =&gt; I32</span>

<span class="go">Found 1 error(s) and 0 warning(s) for app.roc.</span>
<span class="go">error: Child process /home/timob/.cache/roc/0d5608741eabdb649e1715914204021a/temp/roc-tmp-i8XQnMLWvAe7moTQCnV5r9wzAxm2NkYN/roc_run_1662736024 killed by signal: 11</span>
<span class="go">error: Child process crashed with segmentation fault (SIGSEGV)</span>
</code></pre></div>
<p><code>objdump</code>ing that binary (~/.cache/roc/0d5608741eabdb649e1715914204021a/temp/roc-tmp-i8XQnMLWvAe7moTQCnV5r9wzAxm2NkYN/roc_run_1662736024) shows that it's just full of debug information... there's no entry point, no nothing. The only section that doesn't have ".debug" in the name is ".eh_frame". I'm unfortunately no linker expert, I'm not sure what's going on, but the interpreter shim doesn't seem to be getting linked in properly....?</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span>zig-out/bin/roc<span class="w"> </span>version
<span class="go">Roc compiler version debug-7ac22c81</span>

<span class="gp">$ </span>cat<span class="w"> </span>app.roc
<span class="go">app [main!] { pf: platform "https://github.com/lukewilliamboswell/roc-platform-template-zig/releases/download/0.1-test/AvzUEjKDoDpEYCFLXbNRKE2KhsLKL7qze3MSjPRJeF6r.tar.zst" }</span>

<span class="go">import pf.Stdout</span>

<span class="go">main! = || {</span>
<span class="go">    Stdout.line!("Hello World")</span>
<span class="go">}</span>
</code></pre></div>



<a name="560853927"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560853927" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560853927">(Nov 28 2025 at 21:00)</a>:</h4>
<p>The issue here is that I changed the platform API to take cli args as a <code>List(Str)</code> in main. Sorry I didn't really let anyone know, I was in the middle of trying to get it all working properly when I had to log off for a xmas function.</p>



<a name="560855141"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560855141" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560855141">(Nov 28 2025 at 21:14)</a>:</h4>
<p>I'm not loving the current api I've been testing,<code>main! : List(Str) =&gt; I32</code> -- it just feels weird to end the block expression with a number.</p>



<a name="560855177"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560855177" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560855177">(Nov 28 2025 at 21:14)</a>:</h4>
<div class="codehilite"><pre><span></span><code>main! : List(Str) =&gt; I32
main! = |args| {
    count = List.len(args)
    Stdout.line!(&quot;Hello World! Got ${count.to_str()} args&quot;)


    exit_code : I32
    exit_code = 0

    exit_code
}
</code></pre></div>



<a name="560856098"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856098" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Hansknecht <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856098">(Nov 28 2025 at 21:27)</a>:</h4>
<p>You can always default to success and add an explicit "exit!" functions that takes an exit code and leads to early exist.</p>



<a name="560856133"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856133" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856133">(Nov 28 2025 at 21:27)</a>:</h4>
<p>Yeah I think something like that will be much nicer</p>



<a name="560856187"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856187" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856187">(Nov 28 2025 at 21:28)</a>:</h4>
<p>I like having <code>main!</code> take <code>Try({}, [Exit code(I32), .._others]</code></p>



<a name="560856247"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856247" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Feldman <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856247">(Nov 28 2025 at 21:29)</a>:</h4>
<p>although that's nicest if <code>Stdout.line!</code> returns <code>Try</code> so maybe not ideal for Advent of Code</p>



<a name="560856274"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856274" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856274">(Nov 28 2025 at 21:29)</a>:</h4>
<p>I have been having trouble getting <code>Try</code> to typecheck in the return position, and also couldn't figure out how to get an open union to work</p>



<a name="560856342"></a>
<h4><a href="https://roc.zulipchat.com#narrow/stream/316715-contributing/topic/Help%20prepare%20for%20AoC%202025%20-%20Testing%20a%20platform%20from%20URL/near/560856342" class="zl"><img src="https://roc-lang.github.io/zulip-export/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Boswell <a href="https://roc-lang.github.io/zulip-export/stream/316715-contributing/topic/Help.20prepare.20for.20AoC.202025.20-.20Testing.20a.20platform.20from.20URL.html#560856342">(Nov 28 2025 at 21:30)</a>:</h4>
<p>I figured I'd strip it back and make one change at a time to the API, started with the args and that has opened a can of worms</p>



<hr><p>Last updated: Mar 01 2026 at 12:20 UTC</p>
</html>